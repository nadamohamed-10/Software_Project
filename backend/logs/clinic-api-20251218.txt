2025-12-18 10:23:48.464 +02:00 [INF] Created uploads directory: wwwroot\uploads\medical-images
2025-12-18 10:23:50.864 +02:00 [ERR] An error occurred during database migration
System.InvalidOperationException: The entity type 'AppointmentModel' requires a primary key to be defined. If you intended to use a keyless entity type, call 'HasNoKey' in 'OnModelCreating'. For more information on keyless entity types, see https://go.microsoft.com/fwlink/?linkid=2141943.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidateNonNullPrimaryKeys(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Infrastructure.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Infrastructure.IInfrastructure<System.IServiceProvider>.get_Instance()
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.Microsoft.EntityFrameworkCore.Infrastructure.IInfrastructure<System.IServiceProvider>.get_Instance()
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetRelationalService[TService](IInfrastructure`1 databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at Program.<Main>$(String[] args) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Program.cs:line 186
2025-12-18 10:24:42.050 +02:00 [ERR] An error occurred during database migration
System.InvalidOperationException: The entity type 'AppointmentModel' requires a primary key to be defined. If you intended to use a keyless entity type, call 'HasNoKey' in 'OnModelCreating'. For more information on keyless entity types, see https://go.microsoft.com/fwlink/?linkid=2141943.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidateNonNullPrimaryKeys(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Infrastructure.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Infrastructure.IInfrastructure<System.IServiceProvider>.get_Instance()
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.Microsoft.EntityFrameworkCore.Infrastructure.IInfrastructure<System.IServiceProvider>.get_Instance()
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetRelationalService[TService](IInfrastructure`1 databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at Program.<Main>$(String[] args) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Program.cs:line 186
2025-12-18 11:54:44.639 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-12-18 11:54:44.750 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-12-18 11:54:44.762 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-12-18 11:54:44.769 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-18 11:54:44.785 +02:00 [INF] Applying migration '20251218095313_InitialCreate'.
2025-12-18 11:54:44.852 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_AspNetRoles" PRIMARY KEY,
    "Name" TEXT NULL,
    "NormalizedName" TEXT NULL,
    "ConcurrencyStamp" TEXT NULL
);
2025-12-18 11:54:44.856 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUsers" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_AspNetUsers" PRIMARY KEY,
    "UserName" TEXT NULL,
    "NormalizedUserName" TEXT NULL,
    "Email" TEXT NULL,
    "NormalizedEmail" TEXT NULL,
    "EmailConfirmed" INTEGER NOT NULL,
    "PasswordHash" TEXT NULL,
    "SecurityStamp" TEXT NULL,
    "ConcurrencyStamp" TEXT NULL,
    "PhoneNumber" TEXT NULL,
    "PhoneNumberConfirmed" INTEGER NOT NULL,
    "TwoFactorEnabled" INTEGER NOT NULL,
    "LockoutEnd" TEXT NULL,
    "LockoutEnabled" INTEGER NOT NULL,
    "AccessFailedCount" INTEGER NOT NULL
);
2025-12-18 11:54:44.859 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Notifications" (
    "NotificationId" INTEGER NOT NULL CONSTRAINT "PK_Notifications" PRIMARY KEY AUTOINCREMENT,
    "UserId" INTEGER NOT NULL,
    "Title" TEXT NOT NULL,
    "Message" TEXT NOT NULL,
    "Type" TEXT NOT NULL,
    "IsRead" INTEGER NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ReadAt" TEXT NULL
);
2025-12-18 11:54:44.862 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "UserId" INTEGER NOT NULL CONSTRAINT "PK_Users" PRIMARY KEY AUTOINCREMENT,
    "Email" TEXT NOT NULL,
    "PhoneNumber" TEXT NOT NULL,
    "FirstName" TEXT NOT NULL,
    "LastName" TEXT NOT NULL,
    "Role" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "UpdatedAt" TEXT NOT NULL,
    "IsActive" INTEGER NOT NULL
);
2025-12-18 11:54:44.866 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoleClaims" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY AUTOINCREMENT,
    "RoleId" TEXT NOT NULL,
    "ClaimType" TEXT NULL,
    "ClaimValue" TEXT NULL,
    CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);
2025-12-18 11:54:44.870 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserClaims" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY AUTOINCREMENT,
    "UserId" TEXT NOT NULL,
    "ClaimType" TEXT NULL,
    "ClaimValue" TEXT NULL,
    CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-12-18 11:54:44.873 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" TEXT NOT NULL,
    "ProviderKey" TEXT NOT NULL,
    "ProviderDisplayName" TEXT NULL,
    "UserId" TEXT NOT NULL,
    CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
    CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-12-18 11:54:44.877 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserRoles" (
    "UserId" TEXT NOT NULL,
    "RoleId" TEXT NOT NULL,
    CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-12-18 11:54:44.881 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserTokens" (
    "UserId" TEXT NOT NULL,
    "LoginProvider" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Value" TEXT NULL,
    CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
    CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-12-18 11:54:44.885 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Doctors" (
    "DoctorId" INTEGER NOT NULL CONSTRAINT "PK_Doctors" PRIMARY KEY AUTOINCREMENT,
    "UserId" INTEGER NOT NULL,
    "Specialization" TEXT NOT NULL,
    "LicenseNumber" TEXT NULL,
    "CreatedAt" TEXT NOT NULL,
    "UpdatedAt" TEXT NOT NULL,
    CONSTRAINT "FK_Doctors_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("UserId") ON DELETE CASCADE
);
2025-12-18 11:54:44.889 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Patients" (
    "PatientId" INTEGER NOT NULL CONSTRAINT "PK_Patients" PRIMARY KEY AUTOINCREMENT,
    "UserId" INTEGER NOT NULL,
    "Gender" TEXT NOT NULL,
    "Address" TEXT NOT NULL,
    "EmergencyContact" TEXT NULL,
    "DateOfBirth" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "UpdatedAt" TEXT NOT NULL,
    CONSTRAINT "FK_Patients_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("UserId") ON DELETE CASCADE
);
2025-12-18 11:54:44.893 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "DoctorSchedules" (
    "ScheduleId" INTEGER NOT NULL CONSTRAINT "PK_DoctorSchedules" PRIMARY KEY AUTOINCREMENT,
    "DoctorId" INTEGER NOT NULL,
    "DayOfWeek" TEXT NOT NULL,
    "StartTime" TEXT NOT NULL,
    "EndTime" TEXT NOT NULL,
    "SlotDurationMinutes" INTEGER NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "UpdatedAt" TEXT NOT NULL,
    CONSTRAINT "FK_DoctorSchedules_Doctors_DoctorId" FOREIGN KEY ("DoctorId") REFERENCES "Doctors" ("DoctorId") ON DELETE CASCADE
);
2025-12-18 11:54:44.897 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "TimeSlots" (
    "TimeSlotId" INTEGER NOT NULL CONSTRAINT "PK_TimeSlots" PRIMARY KEY AUTOINCREMENT,
    "ScheduleId" INTEGER NOT NULL,
    "SlotDate" TEXT NOT NULL,
    "StartTime" TEXT NOT NULL,
    "EndTime" TEXT NOT NULL,
    "Status" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "UpdatedAt" TEXT NULL,
    CONSTRAINT "FK_TimeSlots_DoctorSchedules_ScheduleId" FOREIGN KEY ("ScheduleId") REFERENCES "DoctorSchedules" ("ScheduleId") ON DELETE CASCADE
);
2025-12-18 11:54:44.900 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Appointments" (
    "AppointmentId" INTEGER NOT NULL CONSTRAINT "PK_Appointments" PRIMARY KEY AUTOINCREMENT,
    "DoctorId" INTEGER NOT NULL,
    "PatientId" INTEGER NOT NULL,
    "TimeSlotId" INTEGER NOT NULL,
    "Status" TEXT NOT NULL,
    "ReasonForVisit" TEXT NULL,
    "BookedAt" TEXT NOT NULL,
    "CanceledAt" TEXT NULL,
    "CancellationReason" TEXT NULL,
    "CreatedAt" TEXT NOT NULL,
    "UpdatedAt" TEXT NULL,
    CONSTRAINT "FK_Appointments_Doctors_DoctorId" FOREIGN KEY ("DoctorId") REFERENCES "Doctors" ("DoctorId") ON DELETE RESTRICT,
    CONSTRAINT "FK_Appointments_Patients_PatientId" FOREIGN KEY ("PatientId") REFERENCES "Patients" ("PatientId") ON DELETE RESTRICT,
    CONSTRAINT "FK_Appointments_TimeSlots_TimeSlotId" FOREIGN KEY ("TimeSlotId") REFERENCES "TimeSlots" ("TimeSlotId") ON DELETE RESTRICT
);
2025-12-18 11:54:44.904 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Consultations" (
    "ConsultationId" INTEGER NOT NULL CONSTRAINT "PK_Consultations" PRIMARY KEY AUTOINCREMENT,
    "AppointmentId" INTEGER NOT NULL,
    "ConsultationDate" TEXT NOT NULL,
    "StartTime" TEXT NOT NULL,
    "EndTime" TEXT NULL,
    "Status" TEXT NOT NULL,
    "Symptoms" TEXT NULL,
    "Diagnosis" TEXT NULL,
    "Notes" TEXT NULL,
    "CreatedAt" TEXT NOT NULL,
    "UpdatedAt" TEXT NULL,
    "DoctorModelDoctorId" INTEGER NULL,
    CONSTRAINT "FK_Consultations_Appointments_AppointmentId" FOREIGN KEY ("AppointmentId") REFERENCES "Appointments" ("AppointmentId") ON DELETE CASCADE,
    CONSTRAINT "FK_Consultations_Doctors_DoctorModelDoctorId" FOREIGN KEY ("DoctorModelDoctorId") REFERENCES "Doctors" ("DoctorId")
);
2025-12-18 11:54:44.908 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "MedicalImages" (
    "ImageId" INTEGER NOT NULL CONSTRAINT "PK_MedicalImages" PRIMARY KEY AUTOINCREMENT,
    "PatientId" INTEGER NOT NULL,
    "ConsultationId" INTEGER NULL,
    "ImageType" TEXT NOT NULL,
    "FileName" TEXT NOT NULL,
    "FilePath" TEXT NOT NULL,
    "FileSizeBytes" INTEGER NOT NULL,
    "DateUploaded" TEXT NOT NULL,
    "Description" TEXT NULL,
    CONSTRAINT "FK_MedicalImages_Consultations_ConsultationId" FOREIGN KEY ("ConsultationId") REFERENCES "Consultations" ("ConsultationId") ON DELETE SET NULL,
    CONSTRAINT "FK_MedicalImages_Patients_PatientId" FOREIGN KEY ("PatientId") REFERENCES "Patients" ("PatientId") ON DELETE CASCADE
);
2025-12-18 11:54:44.912 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "MedicalRecords" (
    "RecordId" INTEGER NOT NULL CONSTRAINT "PK_MedicalRecords" PRIMARY KEY AUTOINCREMENT,
    "PatientId" INTEGER NOT NULL,
    "ConsultationId" INTEGER NULL,
    "Allergies" TEXT NULL,
    "ChronicConditions" TEXT NULL,
    "CurrentMedications" TEXT NULL,
    "SurgicalHistory" TEXT NULL,
    "FamilyHistory" TEXT NULL,
    "LastUpdated" TEXT NOT NULL,
    CONSTRAINT "FK_MedicalRecords_Consultations_ConsultationId" FOREIGN KEY ("ConsultationId") REFERENCES "Consultations" ("ConsultationId") ON DELETE SET NULL,
    CONSTRAINT "FK_MedicalRecords_Patients_PatientId" FOREIGN KEY ("PatientId") REFERENCES "Patients" ("PatientId") ON DELETE CASCADE
);
2025-12-18 11:54:44.916 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Prescriptions" (
    "PrescriptionId" INTEGER NOT NULL CONSTRAINT "PK_Prescriptions" PRIMARY KEY AUTOINCREMENT,
    "ConsultationId" INTEGER NOT NULL,
    "MedicationName" TEXT NOT NULL,
    "Dosage" TEXT NOT NULL,
    "Frequency" TEXT NOT NULL,
    "DurationDays" INTEGER NOT NULL,
    "Instructions" TEXT NULL,
    "Warnings" TEXT NULL,
    "Status" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "PdfGeneratedAt" TEXT NULL,
    CONSTRAINT "FK_Prescriptions_Consultations_ConsultationId" FOREIGN KEY ("ConsultationId") REFERENCES "Consultations" ("ConsultationId") ON DELETE CASCADE
);
2025-12-18 11:54:44.921 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Appointments_DoctorId_PatientId" ON "Appointments" ("DoctorId", "PatientId");
2025-12-18 11:54:44.924 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Appointments_PatientId" ON "Appointments" ("PatientId");
2025-12-18 11:54:44.928 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Appointments_TimeSlotId" ON "Appointments" ("TimeSlotId");
2025-12-18 11:54:44.931 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId");
2025-12-18 11:54:44.935 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName");
2025-12-18 11:54:44.938 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId");
2025-12-18 11:54:44.941 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId");
2025-12-18 11:54:44.945 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId");
2025-12-18 11:54:44.949 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail");
2025-12-18 11:54:44.952 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName");
2025-12-18 11:54:44.956 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Consultations_AppointmentId" ON "Consultations" ("AppointmentId");
2025-12-18 11:54:44.960 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Consultations_DoctorModelDoctorId" ON "Consultations" ("DoctorModelDoctorId");
2025-12-18 11:54:44.963 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Doctors_UserId" ON "Doctors" ("UserId");
2025-12-18 11:54:44.966 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_DoctorSchedules_DoctorId_DayOfWeek" ON "DoctorSchedules" ("DoctorId", "DayOfWeek");
2025-12-18 11:54:44.969 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_MedicalImages_ConsultationId" ON "MedicalImages" ("ConsultationId");
2025-12-18 11:54:44.973 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_MedicalImages_PatientId" ON "MedicalImages" ("PatientId");
2025-12-18 11:54:44.976 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_MedicalRecords_ConsultationId" ON "MedicalRecords" ("ConsultationId");
2025-12-18 11:54:44.980 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_MedicalRecords_PatientId" ON "MedicalRecords" ("PatientId");
2025-12-18 11:54:44.983 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Patients_UserId" ON "Patients" ("UserId");
2025-12-18 11:54:44.986 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Prescriptions_ConsultationId" ON "Prescriptions" ("ConsultationId");
2025-12-18 11:54:44.990 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_TimeSlots_ScheduleId_SlotDate" ON "TimeSlots" ("ScheduleId", "SlotDate");
2025-12-18 11:54:44.994 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Users_Email" ON "Users" ("Email");
2025-12-18 11:54:44.997 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20251218095313_InitialCreate', '8.0.0');
2025-12-18 11:57:44.620 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-12-18 11:57:44.693 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-12-18 11:57:44.710 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-18 11:57:44.734 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-12-18 11:57:44.737 +02:00 [INF] Database migration completed successfully
2025-12-18 11:57:45.090 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 11:57:45.106 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 11:57:45.270 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 36), @p1='?', @p2='?' (Size = 6), @p3='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2025-12-18 11:57:45.283 +02:00 [INF] Created role: Doctor
2025-12-18 11:57:45.286 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 11:57:45.290 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 11:57:45.298 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?', @p2='?' (Size = 7), @p3='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2025-12-18 11:57:45.302 +02:00 [INF] Created role: Patient
2025-12-18 11:57:45.306 +02:00 [INF] Starting Clinic Information System API
2025-12-18 11:57:45.364 +02:00 [INF] User profile is available. Using 'C:\Users\Laila Sarg\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-18 11:57:45.744 +02:00 [INF] Now listening on: https://localhost:7298
2025-12-18 11:57:45.745 +02:00 [INF] Now listening on: http://localhost:5056
2025-12-18 11:57:45.873 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-18 11:57:45.875 +02:00 [INF] Hosting environment: Development
2025-12-18 11:57:45.878 +02:00 [INF] Content root path: C:\Users\Laila Sarg\Source\Repos\Software_Project\backend
2025-12-18 11:57:46.781 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger - null null
2025-12-18 11:57:47.053 +02:00 [INF] HTTP GET /swagger responded 301 in 7.7522 ms
2025-12-18 11:57:47.063 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger - 301 0 null 285.7883ms
2025-12-18 11:57:47.074 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/index.html - null null
2025-12-18 11:57:47.184 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 100.6467 ms
2025-12-18 11:57:47.189 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/index.html - 200 null text/html;charset=utf-8 115.2662ms
2025-12-18 11:57:47.192 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/swagger-ui-standalone-preset.js - null null
2025-12-18 11:57:47.201 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/_vs/browserLink - null null
2025-12-18 11:57:47.195 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/_framework/aspnetcore-browser-refresh.js - null null
2025-12-18 11:57:47.192 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/swagger-ui-bundle.js - null null
2025-12-18 11:57:47.192 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/swagger-ui.css - null null
2025-12-18 11:57:47.237 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 41.7843ms
2025-12-18 11:57:47.284 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-12-18 11:57:47.284 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-12-18 11:57:47.287 +02:00 [INF] HTTP GET /swagger/swagger-ui.css responded 200 in 47.5054 ms
2025-12-18 11:57:47.291 +02:00 [INF] HTTP GET /swagger/swagger-ui-standalone-preset.js responded 200 in 81.6165 ms
2025-12-18 11:57:47.296 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/swagger-ui.css - 200 152034 text/css 104.4233ms
2025-12-18 11:57:47.301 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 108.8857ms
2025-12-18 11:57:47.323 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-12-18 11:57:47.325 +02:00 [INF] HTTP GET /swagger/swagger-ui-bundle.js responded 200 in 100.6365 ms
2025-12-18 11:57:47.329 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 137.4572ms
2025-12-18 11:57:47.342 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 144.5611ms
2025-12-18 11:57:47.493 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/v1/swagger.json - null null
2025-12-18 11:57:47.518 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/favicon-32x32.png - null null
2025-12-18 11:57:47.523 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-12-18 11:57:47.526 +02:00 [INF] HTTP GET /swagger/favicon-32x32.png responded 200 in 3.4628 ms
2025-12-18 11:57:47.531 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/favicon-32x32.png - 200 628 image/png 13.1961ms
2025-12-18 11:57:47.592 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 92.0250 ms
2025-12-18 11:57:47.595 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 101.8891ms
2025-12-18 11:59:58.569 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7298/api/Auth/register - application/json 242
2025-12-18 11:59:58.584 +02:00 [INF] CORS policy execution successful.
2025-12-18 11:59:58.733 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 11:59:58.763 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 11:59:58.851 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-18 11:59:58.887 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 116.7769ms
2025-12-18 11:59:58.889 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 11:59:58.891 +02:00 [INF] HTTP POST /api/Auth/register responded 400 in 308.7676 ms
2025-12-18 11:59:58.897 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7298/api/Auth/register - 400 null application/problem+json; charset=utf-8 327.3797ms
2025-12-18 12:01:26.455 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7298/api/Auth/register - application/json 246
2025-12-18 12:01:26.462 +02:00 [INF] CORS policy execution successful.
2025-12-18 12:01:26.466 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 12:01:26.468 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 12:01:26.476 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-18 12:01:26.478 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 7.7044ms
2025-12-18 12:01:26.480 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 12:01:26.481 +02:00 [INF] HTTP POST /api/Auth/register responded 400 in 20.0420 ms
2025-12-18 12:01:26.484 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7298/api/Auth/register - 400 null application/problem+json; charset=utf-8 28.9834ms
2025-12-18 12:15:49.284 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-12-18 12:15:49.351 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-12-18 12:15:49.368 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-18 12:15:49.391 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-12-18 12:15:49.393 +02:00 [INF] Database migration completed successfully
2025-12-18 12:15:49.712 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 12:15:49.773 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 12:15:49.779 +02:00 [INF] Starting Clinic Information System API
2025-12-18 12:15:49.827 +02:00 [INF] User profile is available. Using 'C:\Users\Laila Sarg\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-18 12:15:50.216 +02:00 [INF] Now listening on: https://localhost:7298
2025-12-18 12:15:50.218 +02:00 [INF] Now listening on: http://localhost:5056
2025-12-18 12:15:50.356 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-18 12:15:50.358 +02:00 [INF] Hosting environment: Development
2025-12-18 12:15:50.360 +02:00 [INF] Content root path: C:\Users\Laila Sarg\Source\Repos\Software_Project\backend
2025-12-18 12:15:50.671 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/index.html - null null
2025-12-18 12:15:50.952 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 100.7387 ms
2025-12-18 12:15:50.959 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/_framework/aspnetcore-browser-refresh.js - null null
2025-12-18 12:15:50.959 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/_vs/browserLink - null null
2025-12-18 12:15:50.965 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/index.html - 200 null text/html;charset=utf-8 296.0064ms
2025-12-18 12:15:50.980 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 21.227ms
2025-12-18 12:15:51.027 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 67.1834ms
2025-12-18 12:15:51.152 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/v1/swagger.json - null null
2025-12-18 12:15:51.225 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 68.2078 ms
2025-12-18 12:15:51.231 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 78.9041ms
2025-12-18 12:16:19.608 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-12-18 12:16:19.677 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-12-18 12:16:19.693 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-18 12:16:19.715 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-12-18 12:16:19.717 +02:00 [INF] Database migration completed successfully
2025-12-18 12:16:20.033 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 12:16:20.096 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 12:16:20.103 +02:00 [INF] Starting Clinic Information System API
2025-12-18 12:16:20.150 +02:00 [INF] User profile is available. Using 'C:\Users\Laila Sarg\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-18 12:16:20.443 +02:00 [INF] Now listening on: https://localhost:7298
2025-12-18 12:16:20.444 +02:00 [INF] Now listening on: http://localhost:5056
2025-12-18 12:16:20.582 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-18 12:16:20.587 +02:00 [INF] Hosting environment: Development
2025-12-18 12:16:20.592 +02:00 [INF] Content root path: C:\Users\Laila Sarg\Source\Repos\Software_Project\backend
2025-12-18 12:16:20.829 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/index.html - null null
2025-12-18 12:16:21.102 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 97.0135 ms
2025-12-18 12:16:21.104 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/_vs/browserLink - null null
2025-12-18 12:16:21.105 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/_framework/aspnetcore-browser-refresh.js - null null
2025-12-18 12:16:21.113 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/index.html - 200 null text/html;charset=utf-8 285.6195ms
2025-12-18 12:16:21.136 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 31.2284ms
2025-12-18 12:16:21.185 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 80.5134ms
2025-12-18 12:16:21.219 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/v1/swagger.json - null null
2025-12-18 12:16:21.295 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 71.2816 ms
2025-12-18 12:16:21.300 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 80.7964ms
2025-12-18 12:17:33.926 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7298/api/Auth/register - application/json 242
2025-12-18 12:17:33.943 +02:00 [INF] CORS policy execution successful.
2025-12-18 12:17:34.065 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 12:17:34.092 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 12:17:34.206 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 12:17:34.228 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 12:17:34.241 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 141.4762ms
2025-12-18 12:17:34.244 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 12:17:34.245 +02:00 [INF] HTTP POST /api/Auth/register responded 400 in 304.3134 ms
2025-12-18 12:17:34.253 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7298/api/Auth/register - 400 null application/json; charset=utf-8 327.2661ms
2025-12-18 12:31:20.719 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-12-18 12:31:20.786 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-12-18 12:31:20.801 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-18 12:31:20.821 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-12-18 12:31:20.823 +02:00 [INF] Database migration completed successfully
2025-12-18 12:31:21.133 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 12:31:21.195 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 12:31:21.201 +02:00 [INF] Starting Clinic Information System API
2025-12-18 12:31:21.248 +02:00 [INF] User profile is available. Using 'C:\Users\Laila Sarg\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-18 12:31:21.537 +02:00 [INF] Now listening on: https://localhost:7298
2025-12-18 12:31:21.538 +02:00 [INF] Now listening on: http://localhost:5056
2025-12-18 12:31:21.665 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-18 12:31:21.667 +02:00 [INF] Hosting environment: Development
2025-12-18 12:31:21.668 +02:00 [INF] Content root path: C:\Users\Laila Sarg\Source\Repos\Software_Project\backend
2025-12-18 12:31:22.764 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/index.html - null null
2025-12-18 12:31:23.039 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 100.3961 ms
2025-12-18 12:31:23.054 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/_vs/browserLink - null null
2025-12-18 12:31:23.054 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/_framework/aspnetcore-browser-refresh.js - null null
2025-12-18 12:31:23.064 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/index.html - 200 null text/html;charset=utf-8 301.6601ms
2025-12-18 12:31:23.079 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 30.5332ms
2025-12-18 12:31:23.130 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 81.7569ms
2025-12-18 12:31:23.169 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/v1/swagger.json - null null
2025-12-18 12:31:23.276 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 103.8525 ms
2025-12-18 12:31:23.282 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 113.5042ms
2025-12-18 12:31:42.822 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-12-18 12:31:42.890 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-12-18 12:31:42.908 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-18 12:31:42.932 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-12-18 12:31:42.934 +02:00 [INF] Database migration completed successfully
2025-12-18 12:31:43.243 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 12:31:43.304 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 12:31:43.311 +02:00 [INF] Starting Clinic Information System API
2025-12-18 12:31:43.359 +02:00 [INF] User profile is available. Using 'C:\Users\Laila Sarg\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-18 12:31:43.639 +02:00 [INF] Now listening on: https://localhost:7298
2025-12-18 12:31:43.641 +02:00 [INF] Now listening on: http://localhost:5056
2025-12-18 12:31:43.763 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-18 12:31:43.765 +02:00 [INF] Hosting environment: Development
2025-12-18 12:31:43.766 +02:00 [INF] Content root path: C:\Users\Laila Sarg\Source\Repos\Software_Project\backend
2025-12-18 12:31:44.343 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/index.html - null null
2025-12-18 12:31:44.603 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 96.3753 ms
2025-12-18 12:31:44.610 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/_vs/browserLink - null null
2025-12-18 12:31:44.610 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/_framework/aspnetcore-browser-refresh.js - null null
2025-12-18 12:31:44.633 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/index.html - 200 null text/html;charset=utf-8 288.9499ms
2025-12-18 12:31:44.662 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 48.8179ms
2025-12-18 12:31:44.708 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 98.1109ms
2025-12-18 12:31:44.744 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/v1/swagger.json - null null
2025-12-18 12:31:44.827 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 79.1120 ms
2025-12-18 12:31:44.832 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 87.8521ms
2025-12-18 12:32:53.477 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7298/api/Auth/register - application/json 210
2025-12-18 12:32:53.492 +02:00 [INF] CORS policy execution successful.
2025-12-18 12:32:53.611 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 12:32:53.642 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 12:32:53.663 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 12.6933ms
2025-12-18 12:32:53.667 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 12:32:53.670 +02:00 [ERR] HTTP POST /api/Auth/register responded 500 in 180.8941 ms
System.InvalidOperationException: Unable to resolve service for type 'FluentValidation.IValidator`1[CLINICSYSTEM.Data.DTOs.RegisterRequest]' while attempting to activate 'CLINICSYSTEM.Controllers.AuthController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method64(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-18 12:32:53.713 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'FluentValidation.IValidator`1[CLINICSYSTEM.Data.DTOs.RegisterRequest]' while attempting to activate 'CLINICSYSTEM.Controllers.AuthController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method64(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-18 12:32:53.725 +02:00 [ERR] An unhandled exception occurred: Unable to resolve service for type 'FluentValidation.IValidator`1[CLINICSYSTEM.Data.DTOs.RegisterRequest]' while attempting to activate 'CLINICSYSTEM.Controllers.AuthController'.
System.InvalidOperationException: Unable to resolve service for type 'FluentValidation.IValidator`1[CLINICSYSTEM.Data.DTOs.RegisterRequest]' while attempting to activate 'CLINICSYSTEM.Controllers.AuthController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method64(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-18 12:32:53.746 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7298/api/Auth/register - 409 null application/json 268.4343ms
2025-12-18 12:37:19.366 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-12-18 12:37:19.436 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-12-18 12:37:19.452 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-18 12:37:19.474 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-12-18 12:37:19.476 +02:00 [INF] Database migration completed successfully
2025-12-18 12:37:19.788 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 12:37:19.851 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 12:37:19.858 +02:00 [INF] Starting Clinic Information System API
2025-12-18 12:37:19.908 +02:00 [INF] User profile is available. Using 'C:\Users\Laila Sarg\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-18 12:37:20.191 +02:00 [INF] Now listening on: https://localhost:7298
2025-12-18 12:37:20.194 +02:00 [INF] Now listening on: http://localhost:5056
2025-12-18 12:37:20.319 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-18 12:37:20.321 +02:00 [INF] Hosting environment: Development
2025-12-18 12:37:20.322 +02:00 [INF] Content root path: C:\Users\Laila Sarg\Source\Repos\Software_Project\backend
2025-12-18 12:37:20.765 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/index.html - null null
2025-12-18 12:37:21.041 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 100.8134 ms
2025-12-18 12:37:21.044 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/_framework/aspnetcore-browser-refresh.js - null null
2025-12-18 12:37:21.045 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/_vs/browserLink - null null
2025-12-18 12:37:21.054 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/index.html - 200 null text/html;charset=utf-8 293.2403ms
2025-12-18 12:37:21.060 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 15.6706ms
2025-12-18 12:37:21.109 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 63.425ms
2025-12-18 12:37:21.143 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/v1/swagger.json - null null
2025-12-18 12:37:21.224 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 76.5708 ms
2025-12-18 12:37:21.229 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 85.9151ms
2025-12-18 12:38:46.854 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7298/api/Auth/register - application/json 210
2025-12-18 12:38:46.865 +02:00 [INF] CORS policy execution successful.
2025-12-18 12:38:46.990 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 12:38:47.019 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 12:38:47.150 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-18 12:38:47.185 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 158.6138ms
2025-12-18 12:38:47.187 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 12:38:47.189 +02:00 [INF] HTTP POST /api/Auth/register responded 400 in 327.1129 ms
2025-12-18 12:38:47.194 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7298/api/Auth/register - 400 null application/problem+json; charset=utf-8 339.6467ms
2025-12-18 12:38:58.599 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7298/api/Auth/register - application/json 210
2025-12-18 12:38:58.605 +02:00 [INF] CORS policy execution successful.
2025-12-18 12:38:58.609 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 12:38:58.612 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 12:38:58.668 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 12:38:58.676 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 12:38:58.680 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 12:38:58.684 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 12:38:58.690 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 12:38:58.809 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 36), @p1='?', @p2='?' (Size = 5), @p3='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2025-12-18 12:38:58.830 +02:00 [ERR] Identity user creation failed: Passwords must have at least one non alphanumeric character., Passwords must have at least one uppercase ('A'-'Z').
2025-12-18 12:38:58.835 +02:00 [WRN] Registration failed for Laila@gmail.com: Registration failed: Passwords must have at least one non alphanumeric character., Passwords must have at least one uppercase ('A'-'Z').
2025-12-18 12:38:58.838 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 12:38:58.844 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 228.6149ms
2025-12-18 12:38:58.846 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 12:38:58.847 +02:00 [INF] HTTP POST /api/Auth/register responded 400 in 242.4056 ms
2025-12-18 12:38:58.859 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7298/api/Auth/register - 400 null application/json; charset=utf-8 260.215ms
2025-12-18 12:39:16.774 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7298/api/Auth/register - application/json 210
2025-12-18 12:39:16.779 +02:00 [INF] CORS policy execution successful.
2025-12-18 12:39:16.783 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 12:39:16.785 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 12:39:16.888 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 12:39:16.892 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 12:39:16.896 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 12:39:16.900 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 12:39:16.905 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 12:39:16.910 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?', @p2='?' (Size = 5), @p3='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2025-12-18 12:39:16.913 +02:00 [ERR] Identity user creation failed: Passwords must have at least one non alphanumeric character.
2025-12-18 12:39:16.915 +02:00 [WRN] Registration failed for Laila@gmail.com: Registration failed: Passwords must have at least one non alphanumeric character.
2025-12-18 12:39:16.917 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 12:39:16.920 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 118.1712ms
2025-12-18 12:39:16.922 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 12:39:16.923 +02:00 [INF] HTTP POST /api/Auth/register responded 400 in 144.8378 ms
2025-12-18 12:39:16.927 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7298/api/Auth/register - 400 null application/json; charset=utf-8 152.6983ms
2025-12-18 12:40:05.905 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7298/api/Auth/register - application/json 208
2025-12-18 12:40:05.909 +02:00 [INF] CORS policy execution successful.
2025-12-18 12:40:05.911 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 12:40:05.913 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 12:40:05.922 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 12:40:05.926 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 12:40:05.929 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 12:40:05.933 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 12:40:05.936 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 12:40:05.940 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?', @p2='?' (Size = 5), @p3='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2025-12-18 12:40:05.943 +02:00 [ERR] Identity user creation failed: Passwords must have at least one non alphanumeric character.
2025-12-18 12:40:05.945 +02:00 [WRN] Registration failed for Laila@gmail.com: Registration failed: Passwords must have at least one non alphanumeric character.
2025-12-18 12:40:05.947 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 12:40:05.949 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 33.5924ms
2025-12-18 12:40:05.951 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 12:40:05.952 +02:00 [INF] HTTP POST /api/Auth/register responded 400 in 43.7663 ms
2025-12-18 12:40:05.955 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7298/api/Auth/register - 400 null application/json; charset=utf-8 50.5397ms
2025-12-18 12:41:20.738 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7298/api/Auth/register - application/json 217
2025-12-18 12:41:20.742 +02:00 [INF] CORS policy execution successful.
2025-12-18 12:41:20.743 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 12:41:20.745 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 12:41:20.760 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 12:41:20.765 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 12:41:20.768 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 12:41:20.772 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 12:41:20.774 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 12:41:20.778 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?', @p2='?' (Size = 5), @p3='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2025-12-18 12:41:20.894 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 12:41:20.960 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 15), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 15), @p8='?' (Size = 15), @p9='?' (Size = 84), @p10='?', @p11='?' (DbType = Boolean), @p12='?' (Size = 32), @p13='?' (DbType = Boolean), @p14='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-12-18 12:41:20.972 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 12:41:21.006 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36), @__p_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."UserId", "a"."RoleId"
FROM "AspNetUserRoles" AS "a"
WHERE "a"."UserId" = @__p_0 AND "a"."RoleId" = @__p_1
LIMIT 1
2025-12-18 12:41:21.013 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 12:41:21.029 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 12:41:21.049 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
2025-12-18 12:41:21.057 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p14='?' (Size = 36), @p0='?' (DbType = Int32), @p1='?' (Size = 36), @p15='?' (Size = 36), @p2='?' (Size = 15), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 15), @p7='?' (Size = 15), @p8='?' (Size = 84), @p9='?', @p10='?' (DbType = Boolean), @p11='?' (Size = 32), @p12='?' (DbType = Boolean), @p13='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "SecurityStamp" = @p11, "TwoFactorEnabled" = @p12, "UserName" = @p13
WHERE "Id" = @p14 AND "ConcurrencyStamp" = @p15
RETURNING 1;
2025-12-18 12:41:21.120 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 15), @p2='?' (Size = 5), @p3='?' (DbType = Boolean), @p4='?' (Size = 4), @p5='?' (Size = 11), @p6='?' (Size = 6), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("CreatedAt", "Email", "FirstName", "IsActive", "LastName", "PhoneNumber", "Role", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "UserId";
2025-12-18 12:41:21.178 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (Size = 7), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Doctors" ("CreatedAt", "LicenseNumber", "Specialization", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "DoctorId";
2025-12-18 12:41:21.251 +02:00 [INF] User Laila@gmail.com registered successfully as Doctor
2025-12-18 12:41:21.254 +02:00 [INF] User Laila@gmail.com registered successfully
2025-12-18 12:41:21.256 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 12:41:21.260 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 512.0721ms
2025-12-18 12:41:21.262 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 12:41:21.264 +02:00 [INF] HTTP POST /api/Auth/register responded 200 in 521.5486 ms
2025-12-18 12:41:21.266 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7298/api/Auth/register - 200 null application/json; charset=utf-8 529.0337ms
2025-12-18 12:41:52.138 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7298/api/Auth/login - application/json 67
2025-12-18 12:41:52.142 +02:00 [INF] CORS policy execution successful.
2025-12-18 12:41:52.143 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM)'
2025-12-18 12:41:52.155 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CLINICSYSTEM.Data.DTOs.LoginRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 12:41:52.175 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Email_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."UserId", "u"."CreatedAt", "u"."Email", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."PhoneNumber", "u"."Role", "u"."UpdatedAt"
FROM "Users" AS "u"
WHERE "u"."Email" = @__request_Email_0
LIMIT 1
2025-12-18 12:41:52.185 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 12:41:52.268 +02:00 [INF] User Laila@gmail.com logged in successfully
2025-12-18 12:41:52.270 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 12:41:52.273 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM) in 112.8997ms
2025-12-18 12:41:52.275 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM)'
2025-12-18 12:41:52.276 +02:00 [INF] HTTP POST /api/Auth/login responded 200 in 134.6488 ms
2025-12-18 12:41:52.279 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7298/api/Auth/login - 200 null application/json; charset=utf-8 141.271ms
2025-12-18 12:44:35.679 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7298/api/Auth/register - application/json 216
2025-12-18 12:44:35.683 +02:00 [INF] CORS policy execution successful.
2025-12-18 12:44:35.717 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '32', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(String input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-12-18 12:44:35.754 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-12-18 12:44:35.756 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 12:44:35.757 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 12:44:35.762 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 12:44:35.766 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 12:44:35.769 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 12:44:35.772 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 12:44:35.775 +02:00 [ERR] Identity user creation failed: Passwords must have at least one uppercase ('A'-'Z').
2025-12-18 12:44:35.776 +02:00 [WRN] Registration failed for fayrouz@gmail.com: Registration failed: Passwords must have at least one uppercase ('A'-'Z').
2025-12-18 12:44:35.778 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 12:44:35.781 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 21.1399ms
2025-12-18 12:44:35.782 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 12:44:35.784 +02:00 [INF] HTTP POST /api/Auth/register responded 400 in 100.9332 ms
2025-12-18 12:44:35.786 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7298/api/Auth/register - 400 null application/json; charset=utf-8 107.1866ms
2025-12-18 12:44:46.226 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7298/api/Auth/register - application/json 216
2025-12-18 12:44:46.231 +02:00 [INF] CORS policy execution successful.
2025-12-18 12:44:46.233 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '32', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(String input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-12-18 12:44:46.239 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-12-18 12:44:46.241 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 12:44:46.251 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 12:44:46.258 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 12:44:46.262 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 12:44:46.265 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 12:44:46.267 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 12:44:46.350 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 12:44:46.356 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 17), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 17), @p8='?' (Size = 17), @p9='?' (Size = 84), @p10='?', @p11='?' (DbType = Boolean), @p12='?' (Size = 32), @p13='?' (DbType = Boolean), @p14='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-12-18 12:44:46.359 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 12:44:46.364 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36), @__p_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."UserId", "a"."RoleId"
FROM "AspNetUserRoles" AS "a"
WHERE "a"."UserId" = @__p_0 AND "a"."RoleId" = @__p_1
LIMIT 1
2025-12-18 12:44:46.367 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 12:44:46.371 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 12:44:46.374 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
2025-12-18 12:44:46.377 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p14='?' (Size = 36), @p0='?' (DbType = Int32), @p1='?' (Size = 36), @p15='?' (Size = 36), @p2='?' (Size = 17), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 17), @p7='?' (Size = 17), @p8='?' (Size = 84), @p9='?', @p10='?' (DbType = Boolean), @p11='?' (Size = 32), @p12='?' (DbType = Boolean), @p13='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "SecurityStamp" = @p11, "TwoFactorEnabled" = @p12, "UserName" = @p13
WHERE "Id" = @p14 AND "ConcurrencyStamp" = @p15
RETURNING 1;
2025-12-18 12:44:46.382 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 17), @p2='?' (Size = 7), @p3='?' (DbType = Boolean), @p4='?' (Size = 4), @p5='?' (Size = 10), @p6='?' (Size = 7), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("CreatedAt", "Email", "FirstName", "IsActive", "LastName", "PhoneNumber", "Role", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "UserId";
2025-12-18 12:44:46.415 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (Size = 6), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Patients" ("Address", "CreatedAt", "DateOfBirth", "EmergencyContact", "Gender", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "PatientId";
2025-12-18 12:44:46.423 +02:00 [INF] User fayrouz@gmail.com registered successfully as Patient
2025-12-18 12:44:46.425 +02:00 [INF] User fayrouz@gmail.com registered successfully
2025-12-18 12:44:46.427 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 12:44:46.429 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 174.0862ms
2025-12-18 12:44:46.432 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 12:44:46.433 +02:00 [INF] HTTP POST /api/Auth/register responded 200 in 202.6569 ms
2025-12-18 12:44:46.436 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7298/api/Auth/register - 200 null application/json; charset=utf-8 209.3135ms
2025-12-18 12:45:21.944 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7298/api/Auth/login - application/json 66
2025-12-18 12:45:21.949 +02:00 [INF] CORS policy execution successful.
2025-12-18 12:45:21.951 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '32', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(String input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-12-18 12:45:21.955 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-12-18 12:45:21.957 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM)'
2025-12-18 12:45:21.959 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CLINICSYSTEM.Data.DTOs.LoginRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 12:45:21.964 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Email_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."UserId", "u"."CreatedAt", "u"."Email", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."PhoneNumber", "u"."Role", "u"."UpdatedAt"
FROM "Users" AS "u"
WHERE "u"."Email" = @__request_Email_0
LIMIT 1
2025-12-18 12:45:21.968 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 12:45:22.052 +02:00 [INF] User fayrouz@gmail.com logged in successfully
2025-12-18 12:45:22.053 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 12:45:22.056 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM) in 94.9107ms
2025-12-18 12:45:22.058 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM)'
2025-12-18 12:45:22.060 +02:00 [INF] HTTP POST /api/Auth/login responded 200 in 110.7427 ms
2025-12-18 12:45:22.062 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7298/api/Auth/login - 200 null application/json; charset=utf-8 117.8329ms
2025-12-18 12:47:12.342 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/api/Doctors/patients/2 - null null
2025-12-18 12:47:12.347 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '32', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(String input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-12-18 12:47:12.366 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-12-18 12:47:12.375 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Doctor)
2025-12-18 12:47:12.383 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-18 12:47:12.385 +02:00 [INF] HTTP GET /api/Doctors/patients/2 responded 401 in 38.7143 ms
2025-12-18 12:47:12.387 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/api/Doctors/patients/2 - 401 0 null 45.3631ms
2025-12-18 12:47:25.447 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/api/Doctors/patients/search?searchTerm=2 - null null
2025-12-18 12:47:25.453 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '32', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(String input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-12-18 12:47:25.459 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-12-18 12:47:25.462 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Doctor)
2025-12-18 12:47:25.464 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-18 12:47:25.465 +02:00 [INF] HTTP GET /api/Doctors/patients/search responded 401 in 12.7327 ms
2025-12-18 12:47:25.467 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/api/Doctors/patients/search?searchTerm=2 - 401 0 null 19.8212ms
2025-12-18 15:10:46.267 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-12-18 15:10:46.346 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-12-18 15:10:46.367 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-18 15:10:46.389 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-12-18 15:10:46.391 +02:00 [INF] Database migration completed successfully
2025-12-18 15:10:46.705 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 15:10:46.767 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 15:10:46.776 +02:00 [INF] Starting Clinic Information System API
2025-12-18 15:10:46.846 +02:00 [INF] User profile is available. Using 'C:\Users\Laila Sarg\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-18 15:10:47.165 +02:00 [INF] Now listening on: https://localhost:7298
2025-12-18 15:10:47.172 +02:00 [INF] Now listening on: http://localhost:5056
2025-12-18 15:10:47.307 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-18 15:10:47.308 +02:00 [INF] Hosting environment: Development
2025-12-18 15:10:47.310 +02:00 [INF] Content root path: C:\Users\Laila Sarg\Source\Repos\Software_Project\backend
2025-12-18 15:10:47.583 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger - null null
2025-12-18 15:10:47.769 +02:00 [INF] HTTP GET /swagger responded 301 in 7.1626 ms
2025-12-18 15:10:47.779 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger - 301 0 null 198.8709ms
2025-12-18 15:10:47.788 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/index.html - null null
2025-12-18 15:10:47.888 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 89.1222 ms
2025-12-18 15:10:47.890 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/swagger-ui.css - null null
2025-12-18 15:10:47.890 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/swagger-ui-standalone-preset.js - null null
2025-12-18 15:10:47.891 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/_framework/aspnetcore-browser-refresh.js - null null
2025-12-18 15:10:47.890 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/swagger-ui-bundle.js - null null
2025-12-18 15:10:47.890 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/_vs/browserLink - null null
2025-12-18 15:10:47.902 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/index.html - 200 null text/html;charset=utf-8 113.5186ms
2025-12-18 15:10:47.923 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 32.593ms
2025-12-18 15:10:47.962 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-12-18 15:10:47.962 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-12-18 15:10:47.966 +02:00 [INF] HTTP GET /swagger/swagger-ui.css responded 200 in 55.1430 ms
2025-12-18 15:10:47.968 +02:00 [INF] HTTP GET /swagger/swagger-ui-standalone-preset.js responded 200 in 53.8284 ms
2025-12-18 15:10:47.972 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/swagger-ui.css - 200 152034 text/css 82.6185ms
2025-12-18 15:10:47.976 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 86.2932ms
2025-12-18 15:10:48.006 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-12-18 15:10:48.011 +02:00 [INF] HTTP GET /swagger/swagger-ui-bundle.js responded 200 in 89.1359 ms
2025-12-18 15:10:48.013 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 121.9702ms
2025-12-18 15:10:48.015 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 125.065ms
2025-12-18 15:10:48.135 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/v1/swagger.json - null null
2025-12-18 15:10:48.155 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/favicon-32x32.png - null null
2025-12-18 15:10:48.159 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-12-18 15:10:48.161 +02:00 [INF] HTTP GET /swagger/favicon-32x32.png responded 200 in 2.7589 ms
2025-12-18 15:10:48.164 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/favicon-32x32.png - 200 628 image/png 9.1332ms
2025-12-18 15:10:48.209 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 70.3143 ms
2025-12-18 15:10:48.212 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 77.0869ms
2025-12-18 15:11:42.475 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-12-18 15:11:42.561 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-12-18 15:11:42.581 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-18 15:11:42.608 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-12-18 15:11:42.611 +02:00 [INF] Database migration completed successfully
2025-12-18 15:11:42.991 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 15:11:43.066 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 15:11:43.073 +02:00 [INF] Starting Clinic Information System API
2025-12-18 15:11:43.132 +02:00 [INF] User profile is available. Using 'C:\Users\Laila Sarg\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-18 15:11:43.484 +02:00 [INF] Now listening on: https://localhost:7298
2025-12-18 15:11:43.487 +02:00 [INF] Now listening on: http://localhost:5056
2025-12-18 15:11:43.642 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-18 15:11:43.644 +02:00 [INF] Hosting environment: Development
2025-12-18 15:11:43.646 +02:00 [INF] Content root path: C:\Users\Laila Sarg\Source\Repos\Software_Project\backend
2025-12-18 15:11:44.180 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/index.html - null null
2025-12-18 15:11:44.492 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 106.7189 ms
2025-12-18 15:11:44.496 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/_vs/browserLink - null null
2025-12-18 15:11:44.496 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/_framework/aspnetcore-browser-refresh.js - null null
2025-12-18 15:11:44.506 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/index.html - 200 null text/html;charset=utf-8 327.7609ms
2025-12-18 15:11:44.521 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 23.9122ms
2025-12-18 15:11:44.559 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 62.2694ms
2025-12-18 15:11:44.593 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/v1/swagger.json - null null
2025-12-18 15:11:44.663 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 65.4095 ms
2025-12-18 15:11:44.668 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 75.0553ms
2025-12-18 15:12:38.275 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/ - null null
2025-12-18 15:12:38.388 +02:00 [INF] HTTP GET / responded 404 in 107.5833 ms
2025-12-18 15:12:38.405 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/ - 404 0 null 130.8527ms
2025-12-18 15:12:38.413 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7298/, Response status code: 404
2025-12-18 15:15:14.170 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/v1/swagger.json - null null
2025-12-18 15:15:14.256 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 70.5506 ms
2025-12-18 15:15:14.259 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 88.4051ms
2025-12-18 15:15:14.312 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/favicon.ico - null null
2025-12-18 15:15:14.336 +02:00 [INF] HTTP GET /favicon.ico responded 404 in 20.1835 ms
2025-12-18 15:15:14.339 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/favicon.ico - 404 0 null 27.318ms
2025-12-18 15:15:14.344 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7298/favicon.ico, Response status code: 404
2025-12-18 15:15:52.197 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/swagger - null null
2025-12-18 15:15:52.202 +02:00 [INF] HTTP GET /swagger responded 301 in 1.0607 ms
2025-12-18 15:15:52.205 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/swagger - 301 0 null 8.007ms
2025-12-18 15:15:52.210 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/swagger/index.html - null null
2025-12-18 15:15:52.215 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 2.3305 ms
2025-12-18 15:15:52.218 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/swagger/index.html - 200 null text/html;charset=utf-8 8.4871ms
2025-12-18 15:20:32.661 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7298/api/Auth/register - application/json 216
2025-12-18 15:20:32.671 +02:00 [INF] CORS policy execution successful.
2025-12-18 15:20:32.679 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 15:20:32.707 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 15:20:32.869 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 15:20:32.912 +02:00 [WRN] Registration failed: Email fayrouz@gmail.com already exists
2025-12-18 15:20:32.917 +02:00 [WRN] Registration failed for fayrouz@gmail.com: Email already exists
2025-12-18 15:20:32.927 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 15:20:32.941 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 226.7429ms
2025-12-18 15:20:32.943 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 15:20:32.945 +02:00 [INF] HTTP POST /api/Auth/register responded 400 in 275.6197 ms
2025-12-18 15:20:32.952 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7298/api/Auth/register - 400 null application/json; charset=utf-8 290.4293ms
2025-12-18 15:21:07.005 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7298/api/Auth/register - application/json 212
2025-12-18 15:21:07.017 +02:00 [INF] CORS policy execution successful.
2025-12-18 15:21:07.019 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 15:21:07.022 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 15:21:07.125 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 15:21:07.132 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 15:21:07.137 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 15:21:07.142 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 15:21:07.312 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 15:21:07.507 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 15), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 15), @p8='?' (Size = 15), @p9='?' (Size = 84), @p10='?', @p11='?' (DbType = Boolean), @p12='?' (Size = 32), @p13='?' (DbType = Boolean), @p14='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-12-18 15:21:07.540 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 15:21:07.587 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36), @__p_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."UserId", "a"."RoleId"
FROM "AspNetUserRoles" AS "a"
WHERE "a"."UserId" = @__p_0 AND "a"."RoleId" = @__p_1
LIMIT 1
2025-12-18 15:21:07.597 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 15:21:07.623 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 15:21:07.656 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
2025-12-18 15:21:07.666 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p14='?' (Size = 36), @p0='?' (DbType = Int32), @p1='?' (Size = 36), @p15='?' (Size = 36), @p2='?' (Size = 15), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 15), @p7='?' (Size = 15), @p8='?' (Size = 84), @p9='?', @p10='?' (DbType = Boolean), @p11='?' (Size = 32), @p12='?' (DbType = Boolean), @p13='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "SecurityStamp" = @p11, "TwoFactorEnabled" = @p12, "UserName" = @p13
WHERE "Id" = @p14 AND "ConcurrencyStamp" = @p15
RETURNING 1;
2025-12-18 15:21:07.757 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 15), @p2='?' (Size = 5), @p3='?' (DbType = Boolean), @p4='?' (Size = 4), @p5='?' (Size = 10), @p6='?' (Size = 7), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("CreatedAt", "Email", "FirstName", "IsActive", "LastName", "PhoneNumber", "Role", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "UserId";
2025-12-18 15:21:07.842 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (Size = 6), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Patients" ("Address", "CreatedAt", "DateOfBirth", "EmergencyContact", "Gender", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "PatientId";
2025-12-18 15:21:07.925 +02:00 [INF] User cassy@gmail.com registered successfully as Patient
2025-12-18 15:21:07.928 +02:00 [INF] User cassy@gmail.com registered successfully
2025-12-18 15:21:07.932 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 15:21:07.938 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 912.3609ms
2025-12-18 15:21:07.941 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 15:21:07.943 +02:00 [INF] HTTP POST /api/Auth/register responded 200 in 926.5516 ms
2025-12-18 15:21:07.948 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7298/api/Auth/register - 200 null application/json; charset=utf-8 943.2783ms
2025-12-18 15:21:40.131 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7298/api/Auth/login - application/json 61
2025-12-18 15:21:40.137 +02:00 [INF] CORS policy execution successful.
2025-12-18 15:21:40.139 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM)'
2025-12-18 15:21:40.152 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CLINICSYSTEM.Data.DTOs.LoginRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 15:21:40.191 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Email_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."UserId", "u"."CreatedAt", "u"."Email", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."PhoneNumber", "u"."Role", "u"."UpdatedAt"
FROM "Users" AS "u"
WHERE "u"."Email" = @__request_Email_0
LIMIT 1
2025-12-18 15:21:40.203 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 15:21:40.332 +02:00 [INF] User cassy@gmail.com logged in successfully
2025-12-18 15:21:40.335 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 15:21:40.338 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM) in 181.3214ms
2025-12-18 15:21:40.341 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM)'
2025-12-18 15:21:40.343 +02:00 [INF] HTTP POST /api/Auth/login responded 200 in 206.4074 ms
2025-12-18 15:21:40.348 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7298/api/Auth/login - 200 null application/json; charset=utf-8 217.5713ms
2025-12-18 15:22:09.491 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/api/Auth/profile - null null
2025-12-18 15:22:09.508 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-18 15:22:09.516 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-18 15:22:09.517 +02:00 [INF] HTTP GET /api/Auth/profile responded 401 in 21.5969 ms
2025-12-18 15:22:09.519 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/api/Auth/profile - 401 0 null 27.4433ms
2025-12-18 15:22:53.902 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/swagger/index.html - application/json 40
2025-12-18 15:22:53.908 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 0.5000 ms
2025-12-18 15:22:53.911 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/swagger/index.html - 200 null text/html;charset=utf-8 9.1279ms
2025-12-18 15:28:50.710 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/Auth/register - null null
2025-12-18 15:28:50.722 +02:00 [INF] HTTP GET /Auth/register responded 404 in 0.4153 ms
2025-12-18 15:28:50.727 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/Auth/register - 404 0 null 20.2781ms
2025-12-18 15:28:50.734 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7298/Auth/register, Response status code: 404
2025-12-18 15:29:06.277 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/Auth/register - null null
2025-12-18 15:29:06.281 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-12-18 15:29:06.283 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-12-18 15:29:06.284 +02:00 [INF] HTTP GET /api/Auth/register responded 405 in 3.6136 ms
2025-12-18 15:29:06.287 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/Auth/register - 405 0 null 9.6402ms
2025-12-18 15:29:48.389 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/Auth/register - application/json 40
2025-12-18 15:29:48.398 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-12-18 15:29:48.401 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-12-18 15:29:48.405 +02:00 [INF] HTTP GET /api/Auth/register responded 405 in 7.4424 ms
2025-12-18 15:29:48.410 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/Auth/register - 405 0 null 21.5594ms
2025-12-18 15:29:58.085 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/Auth/register - application/json 40
2025-12-18 15:29:58.091 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 15:29:58.094 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 15:29:58.120 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-18 15:29:58.163 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 65.5387ms
2025-12-18 15:29:58.166 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 15:29:58.169 +02:00 [INF] HTTP POST /api/Auth/register responded 400 in 78.4235 ms
2025-12-18 15:29:58.174 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/Auth/register - 400 null application/problem+json; charset=utf-8 89.2984ms
2025-12-18 15:31:43.437 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7298/api/Auth/register - application/json 221
2025-12-18 15:31:43.441 +02:00 [INF] CORS policy execution successful.
2025-12-18 15:31:43.443 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 15:31:43.444 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 15:31:43.449 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-18 15:31:43.451 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 4.8016ms
2025-12-18 15:31:43.453 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 15:31:43.455 +02:00 [INF] HTTP POST /api/Auth/register responded 400 in 13.7848 ms
2025-12-18 15:31:43.457 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7298/api/Auth/register - 400 null application/problem+json; charset=utf-8 19.258ms
2025-12-18 15:31:56.987 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7298/api/Auth/register - application/json 221
2025-12-18 15:31:56.993 +02:00 [INF] CORS policy execution successful.
2025-12-18 15:31:56.995 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 15:31:56.997 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 15:31:57.016 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 15:31:57.021 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 15:31:57.025 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 15:31:57.030 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 15:31:57.153 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 15:31:57.159 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 22), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 22), @p8='?' (Size = 22), @p9='?' (Size = 84), @p10='?', @p11='?' (DbType = Boolean), @p12='?' (Size = 32), @p13='?' (DbType = Boolean), @p14='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-12-18 15:31:57.164 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 15:31:57.170 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36), @__p_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."UserId", "a"."RoleId"
FROM "AspNetUserRoles" AS "a"
WHERE "a"."UserId" = @__p_0 AND "a"."RoleId" = @__p_1
LIMIT 1
2025-12-18 15:31:57.175 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 15:31:57.181 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 15:31:57.186 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
2025-12-18 15:31:57.191 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p14='?' (Size = 36), @p0='?' (DbType = Int32), @p1='?' (Size = 36), @p15='?' (Size = 36), @p2='?' (Size = 22), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 22), @p7='?' (Size = 22), @p8='?' (Size = 84), @p9='?', @p10='?' (DbType = Boolean), @p11='?' (Size = 32), @p12='?' (DbType = Boolean), @p13='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "SecurityStamp" = @p11, "TwoFactorEnabled" = @p12, "UserName" = @p13
WHERE "Id" = @p14 AND "ConcurrencyStamp" = @p15
RETURNING 1;
2025-12-18 15:31:57.198 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 22), @p2='?' (Size = 5), @p3='?' (DbType = Boolean), @p4='?' (Size = 7), @p5='?' (Size = 10), @p6='?' (Size = 7), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("CreatedAt", "Email", "FirstName", "IsActive", "LastName", "PhoneNumber", "Role", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "UserId";
2025-12-18 15:31:57.204 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (Size = 6), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Patients" ("Address", "CreatedAt", "DateOfBirth", "EmergencyContact", "Gender", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "PatientId";
2025-12-18 15:31:57.213 +02:00 [INF] User lailaeltokhy@gmail.com registered successfully as Patient
2025-12-18 15:31:57.216 +02:00 [INF] User lailaeltokhy@gmail.com registered successfully
2025-12-18 15:31:57.218 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 15:31:57.221 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 219.1983ms
2025-12-18 15:31:57.224 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 15:31:57.226 +02:00 [INF] HTTP POST /api/Auth/register responded 200 in 233.0616 ms
2025-12-18 15:31:57.231 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7298/api/Auth/register - 200 null application/json; charset=utf-8 244.1192ms
2025-12-18 15:32:16.840 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/Auth/register - application/json 40
2025-12-18 15:32:16.843 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 15:32:16.845 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 15:32:16.849 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-18 15:32:16.851 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 3.5107ms
2025-12-18 15:32:16.853 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 15:32:16.854 +02:00 [INF] HTTP POST /api/Auth/register responded 400 in 10.9563 ms
2025-12-18 15:32:16.856 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/Auth/register - 400 null application/problem+json; charset=utf-8 16.3744ms
2025-12-18 15:38:35.618 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/v1/swagger.json - null null
2025-12-18 15:38:35.950 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 285.8052 ms
2025-12-18 15:38:35.962 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 343.3018ms
2025-12-18 15:46:30.189 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/Auth/register - application/json 218
2025-12-18 15:46:30.207 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-12-18 15:46:30.250 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-12-18 15:46:30.252 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 15:46:30.253 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 15:46:30.263 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 15:46:30.266 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 15:46:30.269 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 15:46:30.273 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 15:46:30.349 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 15:46:30.353 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 21), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 21), @p8='?' (Size = 21), @p9='?' (Size = 84), @p10='?', @p11='?' (DbType = Boolean), @p12='?' (Size = 32), @p13='?' (DbType = Boolean), @p14='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-12-18 15:46:30.357 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 15:46:30.361 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36), @__p_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."UserId", "a"."RoleId"
FROM "AspNetUserRoles" AS "a"
WHERE "a"."UserId" = @__p_0 AND "a"."RoleId" = @__p_1
LIMIT 1
2025-12-18 15:46:30.364 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 15:46:30.367 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 15:46:30.372 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
2025-12-18 15:46:30.375 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p14='?' (Size = 36), @p0='?' (DbType = Int32), @p1='?' (Size = 36), @p15='?' (Size = 36), @p2='?' (Size = 21), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 21), @p7='?' (Size = 21), @p8='?' (Size = 84), @p9='?', @p10='?' (DbType = Boolean), @p11='?' (Size = 32), @p12='?' (DbType = Boolean), @p13='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "SecurityStamp" = @p11, "TwoFactorEnabled" = @p12, "UserName" = @p13
WHERE "Id" = @p14 AND "ConcurrencyStamp" = @p15
RETURNING 1;
2025-12-18 15:46:30.379 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 21), @p2='?' (Size = 4), @p3='?' (DbType = Boolean), @p4='?' (Size = 7), @p5='?' (Size = 13), @p6='?' (Size = 6), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("CreatedAt", "Email", "FirstName", "IsActive", "LastName", "PhoneNumber", "Role", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "UserId";
2025-12-18 15:46:30.408 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (Size = 7), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Doctors" ("CreatedAt", "LicenseNumber", "Specialization", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "DoctorId";
2025-12-18 15:46:30.416 +02:00 [INF] User zyadmohamed@gmail.com registered successfully as Doctor
2025-12-18 15:46:30.418 +02:00 [INF] User zyadmohamed@gmail.com registered successfully
2025-12-18 15:46:30.419 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 15:46:30.421 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 165.3842ms
2025-12-18 15:46:30.422 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 15:46:30.424 +02:00 [INF] HTTP POST /api/Auth/register responded 200 in 231.5328 ms
2025-12-18 15:46:30.426 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/Auth/register - 200 null application/json; charset=utf-8 237.3576ms
2025-12-18 15:54:15.532 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/Appointments/available-slots?5=5610&2025-12-18T15:00:00.000Z=2005-04-16T01:03:23.739Z&2025-12-18T15:30:00.000Z=2005-04-16T01:03:23.739Z&Bearer%20eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjUiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ6eWFkbW9oYW1lZEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoienlhZCBtb2hhbWVkIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiRG9jdG9yIiwianRpIjoiNzA2YWY2ZDUtOTJjYy00YjllLWE0YTgtMGIzYmUyZmZjM2Q4IiwiZXhwIjoxNzY2MTUxOTkwLCJpc3MiOiJDbGluaWNBUEkiLCJhdWQiOiJDbGluaWNBcHAifQ.9gaelhx3isXxGEnyn5fyZlAvlB4pQoOo-NG6JiT66ww=string - null null
2025-12-18 15:54:15.559 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-12-18 15:54:15.568 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-12-18 15:54:15.577 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-18 15:54:15.588 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-18 15:54:15.592 +02:00 [INF] HTTP GET /api/Appointments/available-slots responded 401 in 33.6020 ms
2025-12-18 15:54:15.600 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/Appointments/available-slots?5=5610&2025-12-18T15:00:00.000Z=2005-04-16T01:03:23.739Z&2025-12-18T15:30:00.000Z=2005-04-16T01:03:23.739Z&Bearer%20eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjUiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ6eWFkbW9oYW1lZEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoienlhZCBtb2hhbWVkIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiRG9jdG9yIiwianRpIjoiNzA2YWY2ZDUtOTJjYy00YjllLWE0YTgtMGIzYmUyZmZjM2Q4IiwiZXhwIjoxNzY2MTUxOTkwLCJpc3MiOiJDbGluaWNBUEkiLCJhdWQiOiJDbGluaWNBcHAifQ.9gaelhx3isXxGEnyn5fyZlAvlB4pQoOo-NG6JiT66ww=string - 401 0 null 67.0382ms
2025-12-18 15:57:20.910 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/Appointments/available-slots?5=5610&2025-12-18T15:00:00.000Z=2005-04-16T01:03:23.739Z&2025-12-18T15:30:00.000Z=2005-04-16T01:03:23.739Z&Bearer%20eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjUiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ6eWFkbW9oYW1lZEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoienlhZCBtb2hhbWVkIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiRG9jdG9yIiwianRpIjoiNzA2YWY2ZDUtOTJjYy00YjllLWE0YTgtMGIzYmUyZmZjM2Q4IiwiZXhwIjoxNzY2MTUxOTkwLCJpc3MiOiJDbGluaWNBUEkiLCJhdWQiOiJDbGluaWNBcHAifQ.9gaelhx3isXxGEnyn5fyZlAvlB4pQoOo-NG6JiT66ww=string - null null
2025-12-18 15:57:20.966 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots (CLINICSYSTEM)'
2025-12-18 15:57:20.973 +02:00 [INF] Route matched with {action = "GetAvailableSlots", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableSlots(Int32, System.DateTime, System.DateTime) on controller CLINICSYSTEM.Controllers.AppointmentsController (CLINICSYSTEM).
2025-12-18 15:57:21.173 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots (CLINICSYSTEM) in 197.7065ms
2025-12-18 15:57:21.176 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots (CLINICSYSTEM)'
2025-12-18 15:57:21.179 +02:00 [ERR] HTTP GET /api/Appointments/available-slots responded 500 in 257.9146 ms
System.NotSupportedException: SQLite does not support expressions of type 'TimeSpan' in ORDER BY clauses. Convert the values to a supported type, or use LINQ to Objects to order the results on the client side.
   at Microsoft.EntityFrameworkCore.Sqlite.Query.Internal.SqliteQueryableMethodTranslatingExpressionVisitor.TranslateThenBy(ShapedQueryExpression source, LambdaExpression keySelector, Boolean ascending)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CLINICSYSTEM.Services.AppointmentService.GetAvailableSlotsAsync(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Services\AppointmentService.cs:line 21
   at CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Controllers\AppointmentsController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-18 15:57:21.220 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotSupportedException: SQLite does not support expressions of type 'TimeSpan' in ORDER BY clauses. Convert the values to a supported type, or use LINQ to Objects to order the results on the client side.
   at Microsoft.EntityFrameworkCore.Sqlite.Query.Internal.SqliteQueryableMethodTranslatingExpressionVisitor.TranslateThenBy(ShapedQueryExpression source, LambdaExpression keySelector, Boolean ascending)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CLINICSYSTEM.Services.AppointmentService.GetAvailableSlotsAsync(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Services\AppointmentService.cs:line 21
   at CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Controllers\AppointmentsController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-18 15:57:21.235 +02:00 [ERR] An unhandled exception occurred: SQLite does not support expressions of type 'TimeSpan' in ORDER BY clauses. Convert the values to a supported type, or use LINQ to Objects to order the results on the client side.
System.NotSupportedException: SQLite does not support expressions of type 'TimeSpan' in ORDER BY clauses. Convert the values to a supported type, or use LINQ to Objects to order the results on the client side.
   at Microsoft.EntityFrameworkCore.Sqlite.Query.Internal.SqliteQueryableMethodTranslatingExpressionVisitor.TranslateThenBy(ShapedQueryExpression source, LambdaExpression keySelector, Boolean ascending)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CLINICSYSTEM.Services.AppointmentService.GetAvailableSlotsAsync(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Services\AppointmentService.cs:line 21
   at CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Controllers\AppointmentsController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-18 15:57:21.253 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/Appointments/available-slots?5=5610&2025-12-18T15:00:00.000Z=2005-04-16T01:03:23.739Z&2025-12-18T15:30:00.000Z=2005-04-16T01:03:23.739Z&Bearer%20eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjUiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ6eWFkbW9oYW1lZEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoienlhZCBtb2hhbWVkIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiRG9jdG9yIiwianRpIjoiNzA2YWY2ZDUtOTJjYy00YjllLWE0YTgtMGIzYmUyZmZjM2Q4IiwiZXhwIjoxNzY2MTUxOTkwLCJpc3MiOiJDbGluaWNBUEkiLCJhdWQiOiJDbGluaWNBcHAifQ.9gaelhx3isXxGEnyn5fyZlAvlB4pQoOo-NG6JiT66ww=string - 500 null application/json 342.8237ms
2025-12-18 16:24:21.682 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/Appointments/available-slots?5=5610&2025-12-18T15:00:00.000Z=2005-04-16T01:03:23.739Z&2025-12-18T15:30:00.000Z=2005-04-16T01:03:23.739Z&Bearer%20eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjUiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ6eWFkbW9oYW1lZEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoienlhZCBtb2hhbWVkIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiRG9jdG9yIiwianRpIjoiNzA2YWY2ZDUtOTJjYy00YjllLWE0YTgtMGIzYmUyZmZjM2Q4IiwiZXhwIjoxNzY2MTUxOTkwLCJpc3MiOiJDbGluaWNBUEkiLCJhdWQiOiJDbGluaWNBcHAifQ.9gaelhx3isXxGEnyn5fyZlAvlB4pQoOo-NG6JiT66ww=string - null null
2025-12-18 16:24:21.691 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-18 16:24:21.694 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-18 16:24:21.698 +02:00 [INF] HTTP GET /api/Appointments/available-slots responded 401 in 7.1876 ms
2025-12-18 16:24:21.703 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/Appointments/available-slots?5=5610&2025-12-18T15:00:00.000Z=2005-04-16T01:03:23.739Z&2025-12-18T15:30:00.000Z=2005-04-16T01:03:23.739Z&Bearer%20eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjUiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ6eWFkbW9oYW1lZEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoienlhZCBtb2hhbWVkIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiRG9jdG9yIiwianRpIjoiNzA2YWY2ZDUtOTJjYy00YjllLWE0YTgtMGIzYmUyZmZjM2Q4IiwiZXhwIjoxNzY2MTUxOTkwLCJpc3MiOiJDbGluaWNBUEkiLCJhdWQiOiJDbGluaWNBcHAifQ.9gaelhx3isXxGEnyn5fyZlAvlB4pQoOo-NG6JiT66ww=string - 401 0 null 21.2933ms
2025-12-18 16:34:52.430 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-12-18 16:34:52.492 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-12-18 16:34:52.506 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-18 16:34:52.526 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-12-18 16:34:52.528 +02:00 [INF] Database migration completed successfully
2025-12-18 16:34:52.838 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 16:34:52.897 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 16:34:52.903 +02:00 [INF] Starting Clinic Information System API
2025-12-18 16:34:52.949 +02:00 [INF] User profile is available. Using 'C:\Users\Laila Sarg\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-18 16:34:53.215 +02:00 [INF] Now listening on: https://localhost:7298
2025-12-18 16:34:53.218 +02:00 [INF] Now listening on: http://localhost:5056
2025-12-18 16:34:53.333 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-18 16:34:53.335 +02:00 [INF] Hosting environment: Development
2025-12-18 16:34:53.336 +02:00 [INF] Content root path: C:\Users\Laila Sarg\Source\Repos\Software_Project\backend
2025-12-18 16:34:53.831 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/index.html - null null
2025-12-18 16:34:54.104 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 94.9252 ms
2025-12-18 16:34:54.114 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/_framework/aspnetcore-browser-refresh.js - null null
2025-12-18 16:34:54.115 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/_vs/browserLink - null null
2025-12-18 16:34:54.130 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/index.html - 200 null text/html;charset=utf-8 302.4583ms
2025-12-18 16:34:54.147 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 33.5189ms
2025-12-18 16:34:54.196 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 81.8929ms
2025-12-18 16:34:54.236 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/v1/swagger.json - null null
2025-12-18 16:34:54.316 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 74.9975 ms
2025-12-18 16:34:54.321 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 85.0788ms
2025-12-18 16:36:03.568 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/Auth/register - application/json 216
2025-12-18 16:36:03.720 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-12-18 16:36:03.754 +02:00 [WRN] JWT Authentication failed: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-12-18 16:36:03.761 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-12-18 16:36:03.768 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 16:36:03.796 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 16:36:03.971 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 16:36:03.978 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 16:36:03.983 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 16:36:03.987 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 16:36:04.084 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 16:36:04.267 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 18), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 18), @p8='?' (Size = 18), @p9='?' (Size = 84), @p10='?', @p11='?' (DbType = Boolean), @p12='?' (Size = 32), @p13='?' (DbType = Boolean), @p14='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-12-18 16:36:04.291 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 16:36:04.321 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36), @__p_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."UserId", "a"."RoleId"
FROM "AspNetUserRoles" AS "a"
WHERE "a"."UserId" = @__p_0 AND "a"."RoleId" = @__p_1
LIMIT 1
2025-12-18 16:36:04.327 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 16:36:04.346 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 16:36:04.367 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
2025-12-18 16:36:04.374 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p14='?' (Size = 36), @p0='?' (DbType = Int32), @p1='?' (Size = 36), @p15='?' (Size = 36), @p2='?' (Size = 18), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 18), @p7='?' (Size = 18), @p8='?' (Size = 84), @p9='?', @p10='?' (DbType = Boolean), @p11='?' (Size = 32), @p12='?' (DbType = Boolean), @p13='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "SecurityStamp" = @p11, "TwoFactorEnabled" = @p12, "UserName" = @p13
WHERE "Id" = @p14 AND "ConcurrencyStamp" = @p15
RETURNING 1;
2025-12-18 16:36:04.448 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 18), @p2='?' (Size = 4), @p3='?' (DbType = Boolean), @p4='?' (Size = 7), @p5='?' (Size = 13), @p6='?' (Size = 7), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("CreatedAt", "Email", "FirstName", "IsActive", "LastName", "PhoneNumber", "Role", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "UserId";
2025-12-18 16:36:04.510 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (Size = 4), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Patients" ("Address", "CreatedAt", "DateOfBirth", "EmergencyContact", "Gender", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "PatientId";
2025-12-18 16:36:04.557 +02:00 [INF] User zyadsarg@gmail.com registered successfully as Patient
2025-12-18 16:36:04.562 +02:00 [INF] User zyadsarg@gmail.com registered successfully
2025-12-18 16:36:04.569 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 16:36:04.595 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 792.0536ms
2025-12-18 16:36:04.598 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 16:36:04.607 +02:00 [INF] HTTP POST /api/Auth/register responded 200 in 1030.8624 ms
2025-12-18 16:36:04.616 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/Auth/register - 200 null application/json; charset=utf-8 1047.6177ms
2025-12-18 16:36:27.655 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/Auth/register - application/json 216
2025-12-18 16:36:27.730 +02:00 [INF] JWT Token validated successfully for user: zyadsarg@gmail.com
2025-12-18 16:36:27.735 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 16:36:27.738 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 16:36:27.854 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 16:36:27.858 +02:00 [WRN] Registration failed: Email zyadsarg@gmail.com already exists
2025-12-18 16:36:27.860 +02:00 [WRN] Registration failed for zyadsarg@gmail.com: Email already exists
2025-12-18 16:36:27.862 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 16:36:27.865 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 122.6314ms
2025-12-18 16:36:27.867 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 16:36:27.869 +02:00 [INF] HTTP POST /api/Auth/register responded 400 in 203.1863 ms
2025-12-18 16:36:27.872 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/Auth/register - 400 null application/json; charset=utf-8 216.7338ms
2025-12-18 16:37:13.730 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/Auth/register - application/json 222
2025-12-18 16:37:13.737 +02:00 [INF] JWT Token validated successfully for user: zyadsarg@gmail.com
2025-12-18 16:37:13.738 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 16:37:13.740 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 16:37:13.761 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 24)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 16:37:13.765 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 16:37:13.769 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 16:37:13.774 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 16:37:13.850 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 24)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 16:37:13.854 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 24), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 24), @p8='?' (Size = 24), @p9='?' (Size = 84), @p10='?', @p11='?' (DbType = Boolean), @p12='?' (Size = 32), @p13='?' (DbType = Boolean), @p14='?' (Size = 24)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-12-18 16:37:13.860 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 16:37:13.866 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36), @__p_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."UserId", "a"."RoleId"
FROM "AspNetUserRoles" AS "a"
WHERE "a"."UserId" = @__p_0 AND "a"."RoleId" = @__p_1
LIMIT 1
2025-12-18 16:37:13.870 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 16:37:13.874 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 24)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 16:37:13.880 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
2025-12-18 16:37:13.883 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p14='?' (Size = 36), @p0='?' (DbType = Int32), @p1='?' (Size = 36), @p15='?' (Size = 36), @p2='?' (Size = 24), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 24), @p7='?' (Size = 24), @p8='?' (Size = 84), @p9='?', @p10='?' (DbType = Boolean), @p11='?' (Size = 32), @p12='?' (DbType = Boolean), @p13='?' (Size = 24)], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "SecurityStamp" = @p11, "TwoFactorEnabled" = @p12, "UserName" = @p13
WHERE "Id" = @p14 AND "ConcurrencyStamp" = @p15
RETURNING 1;
2025-12-18 16:37:13.888 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 24), @p2='?' (Size = 4), @p3='?' (DbType = Boolean), @p4='?' (Size = 7), @p5='?' (Size = 13), @p6='?' (Size = 7), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("CreatedAt", "Email", "FirstName", "IsActive", "LastName", "PhoneNumber", "Role", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "UserId";
2025-12-18 16:37:13.894 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (Size = 4), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Patients" ("Address", "CreatedAt", "DateOfBirth", "EmergencyContact", "Gender", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "PatientId";
2025-12-18 16:37:13.899 +02:00 [INF] User zyadsarg215184@gmail.com registered successfully as Patient
2025-12-18 16:37:13.901 +02:00 [INF] User zyadsarg215184@gmail.com registered successfully
2025-12-18 16:37:13.902 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 16:37:13.904 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 161.6473ms
2025-12-18 16:37:13.906 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 16:37:13.907 +02:00 [INF] HTTP POST /api/Auth/register responded 200 in 173.7639 ms
2025-12-18 16:37:13.910 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/Auth/register - 200 null application/json; charset=utf-8 179.8619ms
2025-12-18 16:38:17.744 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/Appointments/available-slots?5=5610&2025-12-18T15:00:00.000Z=2005-04-16T01:03:23.739Z&2025-12-18T15:30:00.000Z=2005-04-16T01:03:23.739Z&Bearer%20eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjUiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ6eWFkbW9oYW1lZEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoienlhZCBtb2hhbWVkIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiRG9jdG9yIiwianRpIjoiNzA2YWY2ZDUtOTJjYy00YjllLWE0YTgtMGIzYmUyZmZjM2Q4IiwiZXhwIjoxNzY2MTUxOTkwLCJpc3MiOiJDbGluaWNBUEkiLCJhdWQiOiJDbGluaWNBcHAifQ.9gaelhx3isXxGEnyn5fyZlAvlB4pQoOo-NG6JiT66ww=string - null null
2025-12-18 16:38:17.748 +02:00 [INF] JWT Token validated successfully for user: zyadsarg215184@gmail.com
2025-12-18 16:38:17.756 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots (CLINICSYSTEM)'
2025-12-18 16:38:17.764 +02:00 [INF] Route matched with {action = "GetAvailableSlots", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableSlots(Int32, System.DateTime, System.DateTime) on controller CLINICSYSTEM.Controllers.AppointmentsController (CLINICSYSTEM).
2025-12-18 16:38:17.945 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots (CLINICSYSTEM) in 178.9127ms
2025-12-18 16:38:17.949 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots (CLINICSYSTEM)'
2025-12-18 16:38:17.952 +02:00 [ERR] HTTP GET /api/Appointments/available-slots responded 500 in 203.8594 ms
System.NotSupportedException: SQLite does not support expressions of type 'TimeSpan' in ORDER BY clauses. Convert the values to a supported type, or use LINQ to Objects to order the results on the client side.
   at Microsoft.EntityFrameworkCore.Sqlite.Query.Internal.SqliteQueryableMethodTranslatingExpressionVisitor.TranslateThenBy(ShapedQueryExpression source, LambdaExpression keySelector, Boolean ascending)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CLINICSYSTEM.Services.AppointmentService.GetAvailableSlotsAsync(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Services\AppointmentService.cs:line 21
   at CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Controllers\AppointmentsController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-18 16:38:17.988 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotSupportedException: SQLite does not support expressions of type 'TimeSpan' in ORDER BY clauses. Convert the values to a supported type, or use LINQ to Objects to order the results on the client side.
   at Microsoft.EntityFrameworkCore.Sqlite.Query.Internal.SqliteQueryableMethodTranslatingExpressionVisitor.TranslateThenBy(ShapedQueryExpression source, LambdaExpression keySelector, Boolean ascending)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CLINICSYSTEM.Services.AppointmentService.GetAvailableSlotsAsync(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Services\AppointmentService.cs:line 21
   at CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Controllers\AppointmentsController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-18 16:38:18.003 +02:00 [ERR] An unhandled exception occurred: SQLite does not support expressions of type 'TimeSpan' in ORDER BY clauses. Convert the values to a supported type, or use LINQ to Objects to order the results on the client side.
System.NotSupportedException: SQLite does not support expressions of type 'TimeSpan' in ORDER BY clauses. Convert the values to a supported type, or use LINQ to Objects to order the results on the client side.
   at Microsoft.EntityFrameworkCore.Sqlite.Query.Internal.SqliteQueryableMethodTranslatingExpressionVisitor.TranslateThenBy(ShapedQueryExpression source, LambdaExpression keySelector, Boolean ascending)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CLINICSYSTEM.Services.AppointmentService.GetAvailableSlotsAsync(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Services\AppointmentService.cs:line 21
   at CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Controllers\AppointmentsController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-18 16:38:18.023 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/Appointments/available-slots?5=5610&2025-12-18T15:00:00.000Z=2005-04-16T01:03:23.739Z&2025-12-18T15:30:00.000Z=2005-04-16T01:03:23.739Z&Bearer%20eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjUiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ6eWFkbW9oYW1lZEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoienlhZCBtb2hhbWVkIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiRG9jdG9yIiwianRpIjoiNzA2YWY2ZDUtOTJjYy00YjllLWE0YTgtMGIzYmUyZmZjM2Q4IiwiZXhwIjoxNzY2MTUxOTkwLCJpc3MiOiJDbGluaWNBUEkiLCJhdWQiOiJDbGluaWNBcHAifQ.9gaelhx3isXxGEnyn5fyZlAvlB4pQoOo-NG6JiT66ww=string - 500 null application/json 280.855ms
2025-12-18 16:39:13.037 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/Appointments/available-slots?doctorId=5610&startTime=2025-12-18T15:00:00.000Z&endTime=2025-12-18T15:30:00.000Z&5=5610&2025-12-18T15:00:00.000Z=2005-04-16T01:03:23.739Z&2025-12-18T15:30:00.000Z=2005-04-16T01:03:23.739Z&Bearer%20eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjUiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ6eWFkbW9oYW1lZEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoienlhZCBtb2hhbWVkIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiRG9jdG9yIiwianRpIjoiNzA2YWY2ZDUtOTJjYy00YjllLWE0YTgtMGIzYmUyZmZjM2Q4IiwiZXhwIjoxNzY2MTUxOTkwLCJpc3MiOiJDbGluaWNBUEkiLCJhdWQiOiJDbGluaWNBcHAifQ.9gaelhx3isXxGEnyn5fyZlAvlB4pQoOo-NG6JiT66ww=string - null null
2025-12-18 16:39:13.045 +02:00 [INF] JWT Token validated successfully for user: zyadmohamed@gmail.com
2025-12-18 16:39:13.049 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots (CLINICSYSTEM)'
2025-12-18 16:39:13.051 +02:00 [INF] Route matched with {action = "GetAvailableSlots", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableSlots(Int32, System.DateTime, System.DateTime) on controller CLINICSYSTEM.Controllers.AppointmentsController (CLINICSYSTEM).
2025-12-18 16:39:13.144 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots (CLINICSYSTEM) in 89.9087ms
2025-12-18 16:39:13.148 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots (CLINICSYSTEM)'
2025-12-18 16:39:13.152 +02:00 [ERR] HTTP GET /api/Appointments/available-slots responded 500 in 107.7367 ms
System.NotSupportedException: SQLite does not support expressions of type 'TimeSpan' in ORDER BY clauses. Convert the values to a supported type, or use LINQ to Objects to order the results on the client side.
   at Microsoft.EntityFrameworkCore.Sqlite.Query.Internal.SqliteQueryableMethodTranslatingExpressionVisitor.TranslateThenBy(ShapedQueryExpression source, LambdaExpression keySelector, Boolean ascending)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CLINICSYSTEM.Services.AppointmentService.GetAvailableSlotsAsync(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Services\AppointmentService.cs:line 21
   at CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Controllers\AppointmentsController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-18 16:39:13.171 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotSupportedException: SQLite does not support expressions of type 'TimeSpan' in ORDER BY clauses. Convert the values to a supported type, or use LINQ to Objects to order the results on the client side.
   at Microsoft.EntityFrameworkCore.Sqlite.Query.Internal.SqliteQueryableMethodTranslatingExpressionVisitor.TranslateThenBy(ShapedQueryExpression source, LambdaExpression keySelector, Boolean ascending)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CLINICSYSTEM.Services.AppointmentService.GetAvailableSlotsAsync(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Services\AppointmentService.cs:line 21
   at CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Controllers\AppointmentsController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-18 16:39:13.187 +02:00 [ERR] An unhandled exception occurred: SQLite does not support expressions of type 'TimeSpan' in ORDER BY clauses. Convert the values to a supported type, or use LINQ to Objects to order the results on the client side.
System.NotSupportedException: SQLite does not support expressions of type 'TimeSpan' in ORDER BY clauses. Convert the values to a supported type, or use LINQ to Objects to order the results on the client side.
   at Microsoft.EntityFrameworkCore.Sqlite.Query.Internal.SqliteQueryableMethodTranslatingExpressionVisitor.TranslateThenBy(ShapedQueryExpression source, LambdaExpression keySelector, Boolean ascending)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CLINICSYSTEM.Services.AppointmentService.GetAvailableSlotsAsync(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Services\AppointmentService.cs:line 21
   at CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Controllers\AppointmentsController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-18 16:39:13.208 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/Appointments/available-slots?doctorId=5610&startTime=2025-12-18T15:00:00.000Z&endTime=2025-12-18T15:30:00.000Z&5=5610&2025-12-18T15:00:00.000Z=2005-04-16T01:03:23.739Z&2025-12-18T15:30:00.000Z=2005-04-16T01:03:23.739Z&Bearer%20eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjUiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJ6eWFkbW9oYW1lZEBnbWFpbC5jb20iLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoienlhZCBtb2hhbWVkIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiRG9jdG9yIiwianRpIjoiNzA2YWY2ZDUtOTJjYy00YjllLWE0YTgtMGIzYmUyZmZjM2Q4IiwiZXhwIjoxNzY2MTUxOTkwLCJpc3MiOiJDbGluaWNBUEkiLCJhdWQiOiJDbGluaWNBcHAifQ.9gaelhx3isXxGEnyn5fyZlAvlB4pQoOo-NG6JiT66ww=string - 500 null application/json 171.3383ms
2025-12-18 16:42:09.086 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/Appointments/book - application/json 76
2025-12-18 16:42:09.090 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-12-18 16:42:09.094 +02:00 [WRN] JWT Authentication failed: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-12-18 16:42:09.096 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-12-18 16:42:09.101 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Patient)
2025-12-18 16:42:09.109 +02:00 [WRN] JWT Challenge triggered: invalid_token
2025-12-18 16:42:09.111 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-18 16:42:09.113 +02:00 [INF] HTTP POST /api/Appointments/book responded 401 in 23.2318 ms
2025-12-18 16:42:09.116 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/Appointments/book - 401 0 null 29.5461ms
2025-12-18 16:42:26.504 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/Appointments/book - application/json 76
2025-12-18 16:42:26.513 +02:00 [INF] JWT Token validated successfully for user: zyadsarg215184@gmail.com
2025-12-18 16:42:26.515 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AppointmentsController.BookAppointment (CLINICSYSTEM)'
2025-12-18 16:42:26.525 +02:00 [INF] Route matched with {action = "BookAppointment", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookAppointment(CLINICSYSTEM.Data.DTOs.BookAppointmentRequest) on controller CLINICSYSTEM.Controllers.AppointmentsController (CLINICSYSTEM).
2025-12-18 16:42:26.567 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."TimeSlotId", "t"."CreatedAt", "t"."EndTime", "t"."ScheduleId", "t"."SlotDate", "t"."StartTime", "t"."Status", "t"."UpdatedAt"
FROM "TimeSlots" AS "t"
WHERE "t"."TimeSlotId" = @__p_0
LIMIT 1
2025-12-18 16:42:26.574 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-12-18 16:42:26.578 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AppointmentsController.BookAppointment (CLINICSYSTEM) in 46.8854ms
2025-12-18 16:42:26.581 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AppointmentsController.BookAppointment (CLINICSYSTEM)'
2025-12-18 16:42:26.584 +02:00 [INF] HTTP POST /api/Appointments/book responded 400 in 71.8250 ms
2025-12-18 16:42:26.590 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/Appointments/book - 400 null text/plain; charset=utf-8 85.2045ms
2025-12-18 16:55:46.380 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/Auth/login - application/json 68
2025-12-18 16:55:46.386 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-12-18 16:55:46.391 +02:00 [WRN] JWT Authentication failed: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-12-18 16:55:46.393 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-12-18 16:55:46.395 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM)'
2025-12-18 16:55:46.401 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CLINICSYSTEM.Data.DTOs.LoginRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 16:55:46.423 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Email_0='?' (Size = 24)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."UserId", "u"."CreatedAt", "u"."Email", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."PhoneNumber", "u"."Role", "u"."UpdatedAt"
FROM "Users" AS "u"
WHERE "u"."Email" = @__request_Email_0
LIMIT 1
2025-12-18 16:55:46.429 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 24)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 16:55:46.521 +02:00 [INF] User zyadsarg215184@gmail.com logged in successfully
2025-12-18 16:55:46.522 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 16:55:46.525 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM) in 118.3578ms
2025-12-18 16:55:46.527 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM)'
2025-12-18 16:55:46.528 +02:00 [INF] HTTP POST /api/Auth/login responded 200 in 142.9101 ms
2025-12-18 16:55:46.532 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/Auth/login - 200 null application/json; charset=utf-8 151.892ms
2025-12-18 16:57:43.682 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/Appointments/book - application/json 76
2025-12-18 16:57:43.690 +02:00 [INF] JWT Token validated successfully for user: zyadsarg215184@gmail.com
2025-12-18 16:57:43.692 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AppointmentsController.BookAppointment (CLINICSYSTEM)'
2025-12-18 16:57:43.694 +02:00 [INF] Route matched with {action = "BookAppointment", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookAppointment(CLINICSYSTEM.Data.DTOs.BookAppointmentRequest) on controller CLINICSYSTEM.Controllers.AppointmentsController (CLINICSYSTEM).
2025-12-18 16:57:43.702 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."TimeSlotId", "t"."CreatedAt", "t"."EndTime", "t"."ScheduleId", "t"."SlotDate", "t"."StartTime", "t"."Status", "t"."UpdatedAt"
FROM "TimeSlots" AS "t"
WHERE "t"."TimeSlotId" = @__p_0
LIMIT 1
2025-12-18 16:57:43.706 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-12-18 16:57:43.708 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AppointmentsController.BookAppointment (CLINICSYSTEM) in 8.0092ms
2025-12-18 16:57:43.710 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AppointmentsController.BookAppointment (CLINICSYSTEM)'
2025-12-18 16:57:43.712 +02:00 [INF] HTTP POST /api/Appointments/book responded 400 in 22.0015 ms
2025-12-18 16:57:43.715 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/Appointments/book - 400 null text/plain; charset=utf-8 34.6952ms
2025-12-18 16:59:49.755 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/Appointments/available-slots?doctorId=5610&startDate=2005-04-16T01:03:23.739Z&endDate=2005-04-16T01:03:23.739Z - null null
2025-12-18 16:59:49.760 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-12-18 16:59:49.764 +02:00 [WRN] JWT Authentication failed: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-12-18 16:59:49.765 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-12-18 16:59:49.767 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-18 16:59:49.769 +02:00 [WRN] JWT Challenge triggered: invalid_token
2025-12-18 16:59:49.771 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-18 16:59:49.773 +02:00 [INF] HTTP GET /api/Appointments/available-slots responded 401 in 13.8562 ms
2025-12-18 16:59:49.776 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/Appointments/available-slots?doctorId=5610&startDate=2005-04-16T01:03:23.739Z&endDate=2005-04-16T01:03:23.739Z - 401 0 null 22.0033ms
2025-12-18 17:01:27.301 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/Auth/login - application/json 65
2025-12-18 17:01:27.314 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-12-18 17:01:27.317 +02:00 [WRN] JWT Authentication failed: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-12-18 17:01:27.319 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-12-18 17:01:27.321 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM)'
2025-12-18 17:01:27.323 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CLINICSYSTEM.Data.DTOs.LoginRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 17:01:27.331 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Email_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."UserId", "u"."CreatedAt", "u"."Email", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."PhoneNumber", "u"."Role", "u"."UpdatedAt"
FROM "Users" AS "u"
WHERE "u"."Email" = @__request_Email_0
LIMIT 1
2025-12-18 17:01:27.336 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 17:01:27.429 +02:00 [INF] User zyadmohamed@gmail.com logged in successfully
2025-12-18 17:01:27.431 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 17:01:27.433 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM) in 107.96ms
2025-12-18 17:01:27.436 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM)'
2025-12-18 17:01:27.438 +02:00 [INF] HTTP POST /api/Auth/login responded 200 in 125.0263 ms
2025-12-18 17:01:27.441 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/Auth/login - 200 null application/json; charset=utf-8 140.1016ms
2025-12-18 17:02:56.034 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/Appointments/available-slots?doctorId=5&startDate=2005-04-16T01:03:23.739Z&endDate=2005-04-16T01:03:23.739Z - null null
2025-12-18 17:02:56.043 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-12-18 17:02:56.047 +02:00 [WRN] JWT Authentication failed: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-12-18 17:02:56.048 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-12-18 17:02:56.051 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-18 17:02:56.052 +02:00 [WRN] JWT Challenge triggered: invalid_token
2025-12-18 17:02:56.054 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-18 17:02:56.055 +02:00 [INF] HTTP GET /api/Appointments/available-slots responded 401 in 12.8991 ms
2025-12-18 17:02:56.058 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/Appointments/available-slots?doctorId=5&startDate=2005-04-16T01:03:23.739Z&endDate=2005-04-16T01:03:23.739Z - 401 0 null 24.4928ms
2025-12-18 17:06:20.470 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/Appointments/available-slots?doctorId=5&startDate=2005-04-16T01:03:23.739Z&endDate=2005-04-16T01:03:23.739Z - null null
2025-12-18 17:06:20.483 +02:00 [INF] JWT Token validated successfully for user: zyadmohamed@gmail.com
2025-12-18 17:06:20.485 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots (CLINICSYSTEM)'
2025-12-18 17:06:20.487 +02:00 [INF] Route matched with {action = "GetAvailableSlots", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableSlots(Int32, System.DateTime, System.DateTime) on controller CLINICSYSTEM.Controllers.AppointmentsController (CLINICSYSTEM).
2025-12-18 17:06:20.578 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots (CLINICSYSTEM) in 84.8534ms
2025-12-18 17:06:20.580 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots (CLINICSYSTEM)'
2025-12-18 17:06:20.583 +02:00 [ERR] HTTP GET /api/Appointments/available-slots responded 500 in 100.7984 ms
System.NotSupportedException: SQLite does not support expressions of type 'TimeSpan' in ORDER BY clauses. Convert the values to a supported type, or use LINQ to Objects to order the results on the client side.
   at Microsoft.EntityFrameworkCore.Sqlite.Query.Internal.SqliteQueryableMethodTranslatingExpressionVisitor.TranslateThenBy(ShapedQueryExpression source, LambdaExpression keySelector, Boolean ascending)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CLINICSYSTEM.Services.AppointmentService.GetAvailableSlotsAsync(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Services\AppointmentService.cs:line 21
   at CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Controllers\AppointmentsController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-18 17:06:20.598 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotSupportedException: SQLite does not support expressions of type 'TimeSpan' in ORDER BY clauses. Convert the values to a supported type, or use LINQ to Objects to order the results on the client side.
   at Microsoft.EntityFrameworkCore.Sqlite.Query.Internal.SqliteQueryableMethodTranslatingExpressionVisitor.TranslateThenBy(ShapedQueryExpression source, LambdaExpression keySelector, Boolean ascending)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CLINICSYSTEM.Services.AppointmentService.GetAvailableSlotsAsync(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Services\AppointmentService.cs:line 21
   at CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Controllers\AppointmentsController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-18 17:06:20.611 +02:00 [ERR] An unhandled exception occurred: SQLite does not support expressions of type 'TimeSpan' in ORDER BY clauses. Convert the values to a supported type, or use LINQ to Objects to order the results on the client side.
System.NotSupportedException: SQLite does not support expressions of type 'TimeSpan' in ORDER BY clauses. Convert the values to a supported type, or use LINQ to Objects to order the results on the client side.
   at Microsoft.EntityFrameworkCore.Sqlite.Query.Internal.SqliteQueryableMethodTranslatingExpressionVisitor.TranslateThenBy(ShapedQueryExpression source, LambdaExpression keySelector, Boolean ascending)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CLINICSYSTEM.Services.AppointmentService.GetAvailableSlotsAsync(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Services\AppointmentService.cs:line 21
   at CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Controllers\AppointmentsController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-18 17:06:20.628 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/Appointments/available-slots?doctorId=5&startDate=2005-04-16T01:03:23.739Z&endDate=2005-04-16T01:03:23.739Z - 500 null application/json 157.6306ms
2025-12-18 17:07:23.599 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/Appointments/available-slots?doctorId=5&startTime=2025-12-18T15:00:00.000Z&endTime=2025-12-18T15:30:00.000Z - null null
2025-12-18 17:07:23.603 +02:00 [INF] JWT Token validated successfully for user: zyadmohamed@gmail.com
2025-12-18 17:07:23.605 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots (CLINICSYSTEM)'
2025-12-18 17:07:23.606 +02:00 [INF] Route matched with {action = "GetAvailableSlots", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableSlots(Int32, System.DateTime, System.DateTime) on controller CLINICSYSTEM.Controllers.AppointmentsController (CLINICSYSTEM).
2025-12-18 17:07:23.676 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots (CLINICSYSTEM) in 66.4458ms
2025-12-18 17:07:23.679 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots (CLINICSYSTEM)'
2025-12-18 17:07:23.681 +02:00 [ERR] HTTP GET /api/Appointments/available-slots responded 500 in 78.7268 ms
System.NotSupportedException: SQLite does not support expressions of type 'TimeSpan' in ORDER BY clauses. Convert the values to a supported type, or use LINQ to Objects to order the results on the client side.
   at Microsoft.EntityFrameworkCore.Sqlite.Query.Internal.SqliteQueryableMethodTranslatingExpressionVisitor.TranslateThenBy(ShapedQueryExpression source, LambdaExpression keySelector, Boolean ascending)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CLINICSYSTEM.Services.AppointmentService.GetAvailableSlotsAsync(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Services\AppointmentService.cs:line 21
   at CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Controllers\AppointmentsController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-18 17:07:23.696 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotSupportedException: SQLite does not support expressions of type 'TimeSpan' in ORDER BY clauses. Convert the values to a supported type, or use LINQ to Objects to order the results on the client side.
   at Microsoft.EntityFrameworkCore.Sqlite.Query.Internal.SqliteQueryableMethodTranslatingExpressionVisitor.TranslateThenBy(ShapedQueryExpression source, LambdaExpression keySelector, Boolean ascending)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CLINICSYSTEM.Services.AppointmentService.GetAvailableSlotsAsync(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Services\AppointmentService.cs:line 21
   at CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Controllers\AppointmentsController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-18 17:07:23.709 +02:00 [ERR] An unhandled exception occurred: SQLite does not support expressions of type 'TimeSpan' in ORDER BY clauses. Convert the values to a supported type, or use LINQ to Objects to order the results on the client side.
System.NotSupportedException: SQLite does not support expressions of type 'TimeSpan' in ORDER BY clauses. Convert the values to a supported type, or use LINQ to Objects to order the results on the client side.
   at Microsoft.EntityFrameworkCore.Sqlite.Query.Internal.SqliteQueryableMethodTranslatingExpressionVisitor.TranslateThenBy(ShapedQueryExpression source, LambdaExpression keySelector, Boolean ascending)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CLINICSYSTEM.Services.AppointmentService.GetAvailableSlotsAsync(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Services\AppointmentService.cs:line 21
   at CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Controllers\AppointmentsController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-18 17:07:23.724 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/Appointments/available-slots?doctorId=5&startTime=2025-12-18T15:00:00.000Z&endTime=2025-12-18T15:30:00.000Z - 500 null application/json 125.7643ms
2025-12-18 17:15:57.816 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-12-18 17:15:57.860 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-12-18 17:15:57.873 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-18 17:15:57.888 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-12-18 17:15:57.890 +02:00 [INF] Database migration completed successfully
2025-12-18 17:15:58.093 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 17:15:58.139 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 17:15:58.144 +02:00 [INF] Starting Clinic Information System API
2025-12-18 17:15:58.166 +02:00 [INF] User profile is available. Using 'C:\Users\Laila Sarg\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-18 17:15:58.314 +02:00 [INF] Now listening on: https://localhost:7298
2025-12-18 17:15:58.315 +02:00 [INF] Now listening on: http://localhost:5056
2025-12-18 17:15:58.420 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-18 17:15:58.422 +02:00 [INF] Hosting environment: Development
2025-12-18 17:15:58.423 +02:00 [INF] Content root path: C:\Users\Laila Sarg\Source\Repos\Software_Project\backend
2025-12-18 17:15:58.526 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/index.html - null null
2025-12-18 17:15:58.696 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 63.5358 ms
2025-12-18 17:15:58.706 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/_framework/aspnetcore-browser-refresh.js - null null
2025-12-18 17:15:58.706 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/_vs/browserLink - null null
2025-12-18 17:15:58.707 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/index.html - 200 null text/html;charset=utf-8 182.4988ms
2025-12-18 17:15:58.721 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 14.3729ms
2025-12-18 17:15:58.758 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.6476ms
2025-12-18 17:15:58.812 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/v1/swagger.json - null null
2025-12-18 17:15:58.834 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 18.7123 ms
2025-12-18 17:15:58.839 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 26.8807ms
2025-12-18 17:17:06.604 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/Appointments/available-slots?doctorId=5&startTime=2025-12-18T15:00:00.000Z&endTime=2025-12-18T15:30:00.000Z - null null
2025-12-18 17:17:06.710 +02:00 [INF] JWT Token validated successfully for user: zyadmohamed@gmail.com
2025-12-18 17:17:06.721 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots (CLINICSYSTEM)'
2025-12-18 17:17:06.749 +02:00 [INF] Route matched with {action = "GetAvailableSlots", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableSlots(Int32, System.DateTime, System.DateTime) on controller CLINICSYSTEM.Controllers.AppointmentsController (CLINICSYSTEM).
2025-12-18 17:17:06.863 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots (CLINICSYSTEM) in 107.8922ms
2025-12-18 17:17:06.866 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots (CLINICSYSTEM)'
2025-12-18 17:17:06.868 +02:00 [ERR] HTTP GET /api/Appointments/available-slots responded 500 in 257.2620 ms
System.NotSupportedException: SQLite does not support expressions of type 'TimeSpan' in ORDER BY clauses. Convert the values to a supported type, or use LINQ to Objects to order the results on the client side.
   at Microsoft.EntityFrameworkCore.Sqlite.Query.Internal.SqliteQueryableMethodTranslatingExpressionVisitor.TranslateThenBy(ShapedQueryExpression source, LambdaExpression keySelector, Boolean ascending)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CLINICSYSTEM.Services.AppointmentService.GetAvailableSlotsAsync(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Services\AppointmentService.cs:line 21
   at CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Controllers\AppointmentsController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-18 17:17:06.917 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotSupportedException: SQLite does not support expressions of type 'TimeSpan' in ORDER BY clauses. Convert the values to a supported type, or use LINQ to Objects to order the results on the client side.
   at Microsoft.EntityFrameworkCore.Sqlite.Query.Internal.SqliteQueryableMethodTranslatingExpressionVisitor.TranslateThenBy(ShapedQueryExpression source, LambdaExpression keySelector, Boolean ascending)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CLINICSYSTEM.Services.AppointmentService.GetAvailableSlotsAsync(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Services\AppointmentService.cs:line 21
   at CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Controllers\AppointmentsController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-18 17:17:06.934 +02:00 [ERR] An unhandled exception occurred: SQLite does not support expressions of type 'TimeSpan' in ORDER BY clauses. Convert the values to a supported type, or use LINQ to Objects to order the results on the client side.
System.NotSupportedException: SQLite does not support expressions of type 'TimeSpan' in ORDER BY clauses. Convert the values to a supported type, or use LINQ to Objects to order the results on the client side.
   at Microsoft.EntityFrameworkCore.Sqlite.Query.Internal.SqliteQueryableMethodTranslatingExpressionVisitor.TranslateThenBy(ShapedQueryExpression source, LambdaExpression keySelector, Boolean ascending)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CLINICSYSTEM.Services.AppointmentService.GetAvailableSlotsAsync(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Services\AppointmentService.cs:line 21
   at CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Controllers\AppointmentsController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-18 17:17:06.959 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/Appointments/available-slots?doctorId=5&startTime=2025-12-18T15:00:00.000Z&endTime=2025-12-18T15:30:00.000Z - 500 null application/json 354.799ms
2025-12-18 18:08:34.484 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/auth/register - application/json 223
2025-12-18 18:08:34.495 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 18:08:34.506 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 18:08:34.695 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 18:08:34.704 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 18:08:34.709 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 18:08:34.713 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 18:08:34.817 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 18:08:34.994 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 23), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 23), @p8='?' (Size = 23), @p9='?' (Size = 84), @p10='?', @p11='?' (DbType = Boolean), @p12='?' (Size = 32), @p13='?' (DbType = Boolean), @p14='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-12-18 18:08:35.018 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 18:08:35.046 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36), @__p_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."UserId", "a"."RoleId"
FROM "AspNetUserRoles" AS "a"
WHERE "a"."UserId" = @__p_0 AND "a"."RoleId" = @__p_1
LIMIT 1
2025-12-18 18:08:35.054 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 18:08:35.072 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 18:08:35.093 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
2025-12-18 18:08:35.101 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p14='?' (Size = 36), @p0='?' (DbType = Int32), @p1='?' (Size = 36), @p15='?' (Size = 36), @p2='?' (Size = 23), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 23), @p7='?' (Size = 23), @p8='?' (Size = 84), @p9='?', @p10='?' (DbType = Boolean), @p11='?' (Size = 32), @p12='?' (DbType = Boolean), @p13='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "SecurityStamp" = @p11, "TwoFactorEnabled" = @p12, "UserName" = @p13
WHERE "Id" = @p14 AND "ConcurrencyStamp" = @p15
RETURNING 1;
2025-12-18 18:08:35.165 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 23), @p2='?' (Size = 5), @p3='?' (DbType = Boolean), @p4='?' (Size = 7), @p5='?' (Size = 11), @p6='?' (Size = 7), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("CreatedAt", "Email", "FirstName", "IsActive", "LastName", "PhoneNumber", "Role", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "UserId";
2025-12-18 18:08:35.228 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (Size = 4), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Patients" ("Address", "CreatedAt", "DateOfBirth", "EmergencyContact", "Gender", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "PatientId";
2025-12-18 18:08:35.258 +02:00 [INF] User ahmed.mohamed@gmail.com registered successfully as Patient
2025-12-18 18:08:35.262 +02:00 [INF] User ahmed.mohamed@gmail.com registered successfully
2025-12-18 18:08:35.271 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 18:08:35.279 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 768.6066ms
2025-12-18 18:08:35.281 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 18:08:35.284 +02:00 [INF] HTTP POST /api/auth/register responded 200 in 791.4360 ms
2025-12-18 18:08:35.289 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/auth/register - 200 null application/json; charset=utf-8 804.857ms
2025-12-18 18:09:02.215 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/auth/register - application/json 223
2025-12-18 18:09:02.223 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 18:09:02.225 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 18:09:02.244 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 18:09:02.248 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 18:09:02.251 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 18:09:02.255 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 18:09:02.343 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 18:09:02.348 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 22), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 22), @p8='?' (Size = 22), @p9='?' (Size = 84), @p10='?', @p11='?' (DbType = Boolean), @p12='?' (Size = 32), @p13='?' (DbType = Boolean), @p14='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-12-18 18:09:02.352 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 18:09:02.357 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36), @__p_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."UserId", "a"."RoleId"
FROM "AspNetUserRoles" AS "a"
WHERE "a"."UserId" = @__p_0 AND "a"."RoleId" = @__p_1
LIMIT 1
2025-12-18 18:09:02.362 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 18:09:02.365 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 18:09:02.370 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
2025-12-18 18:09:02.375 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p14='?' (Size = 36), @p0='?' (DbType = Int32), @p1='?' (Size = 36), @p15='?' (Size = 36), @p2='?' (Size = 22), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 22), @p7='?' (Size = 22), @p8='?' (Size = 84), @p9='?', @p10='?' (DbType = Boolean), @p11='?' (Size = 32), @p12='?' (DbType = Boolean), @p13='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "SecurityStamp" = @p11, "TwoFactorEnabled" = @p12, "UserName" = @p13
WHERE "Id" = @p14 AND "ConcurrencyStamp" = @p15
RETURNING 1;
2025-12-18 18:09:02.380 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 22), @p2='?' (Size = 5), @p3='?' (DbType = Boolean), @p4='?' (Size = 6), @p5='?' (Size = 11), @p6='?' (Size = 7), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("CreatedAt", "Email", "FirstName", "IsActive", "LastName", "PhoneNumber", "Role", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "UserId";
2025-12-18 18:09:02.385 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (Size = 6), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Patients" ("Address", "CreatedAt", "DateOfBirth", "EmergencyContact", "Gender", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "PatientId";
2025-12-18 18:09:02.393 +02:00 [INF] User fatma.hassan@yahoo.com registered successfully as Patient
2025-12-18 18:09:02.395 +02:00 [INF] User fatma.hassan@yahoo.com registered successfully
2025-12-18 18:09:02.397 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 18:09:02.400 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 171.5291ms
2025-12-18 18:09:02.402 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 18:09:02.404 +02:00 [INF] HTTP POST /api/auth/register responded 200 in 183.7947 ms
2025-12-18 18:09:02.407 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/auth/register - 200 null application/json; charset=utf-8 192.2878ms
2025-12-18 18:09:15.658 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/auth/register - application/json 175
2025-12-18 18:09:15.663 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 18:09:15.664 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 18:09:15.687 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 26)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 18:09:15.690 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 18:09:15.696 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 18:09:15.699 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 18:09:15.783 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 18:09:15.788 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 26), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 26), @p8='?' (Size = 26), @p9='?' (Size = 84), @p10='?', @p11='?' (DbType = Boolean), @p12='?' (Size = 32), @p13='?' (DbType = Boolean), @p14='?' (Size = 26)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-12-18 18:09:15.792 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 18:09:15.796 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36), @__p_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."UserId", "a"."RoleId"
FROM "AspNetUserRoles" AS "a"
WHERE "a"."UserId" = @__p_0 AND "a"."RoleId" = @__p_1
LIMIT 1
2025-12-18 18:09:15.800 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 18:09:15.803 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 26)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 18:09:15.808 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
2025-12-18 18:09:15.811 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p14='?' (Size = 36), @p0='?' (DbType = Int32), @p1='?' (Size = 36), @p15='?' (Size = 36), @p2='?' (Size = 26), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 26), @p7='?' (Size = 26), @p8='?' (Size = 84), @p9='?', @p10='?' (DbType = Boolean), @p11='?' (Size = 32), @p12='?' (DbType = Boolean), @p13='?' (Size = 26)], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "SecurityStamp" = @p11, "TwoFactorEnabled" = @p12, "UserName" = @p13
WHERE "Id" = @p14 AND "ConcurrencyStamp" = @p15
RETURNING 1;
2025-12-18 18:09:15.815 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 26), @p2='?' (Size = 4), @p3='?' (DbType = Boolean), @p4='?' (Size = 7), @p5='?' (Size = 11), @p6='?' (Size = 6), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("CreatedAt", "Email", "FirstName", "IsActive", "LastName", "PhoneNumber", "Role", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "UserId";
2025-12-18 18:09:15.848 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (Size = 7), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Doctors" ("CreatedAt", "LicenseNumber", "Specialization", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "DoctorId";
2025-12-18 18:09:15.858 +02:00 [INF] User dr.omar.ibrahim@clinic.com registered successfully as Doctor
2025-12-18 18:09:15.860 +02:00 [INF] User dr.omar.ibrahim@clinic.com registered successfully
2025-12-18 18:09:15.862 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 18:09:15.864 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 196.867ms
2025-12-18 18:09:15.867 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 18:09:15.869 +02:00 [INF] HTTP POST /api/auth/register responded 200 in 206.5540 ms
2025-12-18 18:09:15.872 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/auth/register - 200 null application/json; charset=utf-8 214.1821ms
2025-12-18 18:09:28.873 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/auth/register - application/json 167
2025-12-18 18:09:28.878 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 18:09:28.880 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 18:09:28.887 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 18:09:28.891 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 18:09:28.897 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 18:09:28.902 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 18:09:28.993 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 18:09:28.997 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 22), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 22), @p8='?' (Size = 22), @p9='?' (Size = 84), @p10='?', @p11='?' (DbType = Boolean), @p12='?' (Size = 32), @p13='?' (DbType = Boolean), @p14='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-12-18 18:09:29.001 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 18:09:29.005 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36), @__p_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."UserId", "a"."RoleId"
FROM "AspNetUserRoles" AS "a"
WHERE "a"."UserId" = @__p_0 AND "a"."RoleId" = @__p_1
LIMIT 1
2025-12-18 18:09:29.008 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 18:09:29.012 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 18:09:29.016 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
2025-12-18 18:09:29.021 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p14='?' (Size = 36), @p0='?' (DbType = Int32), @p1='?' (Size = 36), @p15='?' (Size = 36), @p2='?' (Size = 22), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 22), @p7='?' (Size = 22), @p8='?' (Size = 84), @p9='?', @p10='?' (DbType = Boolean), @p11='?' (Size = 32), @p12='?' (DbType = Boolean), @p13='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "SecurityStamp" = @p11, "TwoFactorEnabled" = @p12, "UserName" = @p13
WHERE "Id" = @p14 AND "ConcurrencyStamp" = @p15
RETURNING 1;
2025-12-18 18:09:29.025 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 22), @p2='?' (Size = 4), @p3='?' (DbType = Boolean), @p4='?' (Size = 3), @p5='?' (Size = 11), @p6='?' (Size = 6), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("CreatedAt", "Email", "FirstName", "IsActive", "LastName", "PhoneNumber", "Role", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "UserId";
2025-12-18 18:09:29.030 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (Size = 7), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Doctors" ("CreatedAt", "LicenseNumber", "Specialization", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "DoctorId";
2025-12-18 18:09:29.036 +02:00 [INF] User dr.mona.ali@clinic.com registered successfully as Doctor
2025-12-18 18:09:29.037 +02:00 [INF] User dr.mona.ali@clinic.com registered successfully
2025-12-18 18:09:29.039 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 18:09:29.042 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 157.8882ms
2025-12-18 18:09:29.044 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 18:09:29.045 +02:00 [INF] HTTP POST /api/auth/register responded 200 in 167.1578 ms
2025-12-18 18:09:29.050 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/auth/register - 200 null application/json; charset=utf-8 176.8508ms
2025-12-18 18:09:51.163 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/auth/login - application/json 71
2025-12-18 18:09:51.167 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM)'
2025-12-18 18:09:51.174 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CLINICSYSTEM.Data.DTOs.LoginRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 18:09:51.192 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Email_0='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."UserId", "u"."CreatedAt", "u"."Email", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."PhoneNumber", "u"."Role", "u"."UpdatedAt"
FROM "Users" AS "u"
WHERE "u"."Email" = @__request_Email_0
LIMIT 1
2025-12-18 18:09:51.198 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 18:09:51.283 +02:00 [INF] User ahmed.mohamed@gmail.com logged in successfully
2025-12-18 18:09:51.285 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 18:09:51.287 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM) in 111.1509ms
2025-12-18 18:09:51.289 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM)'
2025-12-18 18:09:51.291 +02:00 [INF] HTTP POST /api/auth/login responded 200 in 123.5505 ms
2025-12-18 18:09:51.293 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/auth/login - 200 null application/json; charset=utf-8 130.0749ms
2025-12-18 18:10:04.675 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/auth/login - application/json 75
2025-12-18 18:10:04.679 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM)'
2025-12-18 18:10:04.681 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CLINICSYSTEM.Data.DTOs.LoginRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 18:10:04.688 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Email_0='?' (Size = 26)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."UserId", "u"."CreatedAt", "u"."Email", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."PhoneNumber", "u"."Role", "u"."UpdatedAt"
FROM "Users" AS "u"
WHERE "u"."Email" = @__request_Email_0
LIMIT 1
2025-12-18 18:10:04.692 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 26)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 18:10:04.777 +02:00 [INF] User dr.omar.ibrahim@clinic.com logged in successfully
2025-12-18 18:10:04.779 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 18:10:04.781 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM) in 96.7413ms
2025-12-18 18:10:04.783 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM)'
2025-12-18 18:10:04.785 +02:00 [INF] HTTP POST /api/auth/login responded 200 in 106.3307 ms
2025-12-18 18:10:04.788 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/auth/login - 200 null application/json; charset=utf-8 112.9213ms
2025-12-18 18:10:31.498 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/auth/profile - null null
2025-12-18 18:10:31.505 +02:00 [INF] JWT Token validated successfully for user: dr.omar.ibrahim@clinic.com
2025-12-18 18:10:31.509 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.GetProfile (CLINICSYSTEM)'
2025-12-18 18:10:31.512 +02:00 [INF] Route matched with {action = "GetProfile", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProfile() on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 18:10:31.517 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-18 18:10:31.524 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.GetProfile (CLINICSYSTEM) in 9.8811ms
2025-12-18 18:10:31.527 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.GetProfile (CLINICSYSTEM)'
2025-12-18 18:10:31.528 +02:00 [INF] HTTP GET /api/auth/profile responded 200 in 24.3653 ms
2025-12-18 18:10:31.531 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/auth/profile - 200 null application/json; charset=utf-8 32.5802ms
2025-12-18 18:11:08.315 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/patients/profile - null null
2025-12-18 18:11:08.321 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-12-18 18:11:08.327 +02:00 [WRN] JWT Authentication failed: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-12-18 18:11:08.330 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-12-18 18:11:08.335 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Patient)
2025-12-18 18:11:08.341 +02:00 [WRN] JWT Challenge triggered: invalid_token
2025-12-18 18:11:08.343 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-18 18:11:08.345 +02:00 [INF] HTTP GET /api/patients/profile responded 401 in 25.1625 ms
2025-12-18 18:11:08.349 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/patients/profile - 401 0 null 33.3964ms
2025-12-18 18:11:35.282 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/auth/profile - null null
2025-12-18 18:11:35.290 +02:00 [INF] JWT Token validated successfully for user: dr.omar.ibrahim@clinic.com
2025-12-18 18:11:35.293 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.GetProfile (CLINICSYSTEM)'
2025-12-18 18:11:35.296 +02:00 [INF] Route matched with {action = "GetProfile", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProfile() on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 18:11:35.304 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-18 18:11:35.308 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.GetProfile (CLINICSYSTEM) in 5.0517ms
2025-12-18 18:11:35.312 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.GetProfile (CLINICSYSTEM)'
2025-12-18 18:11:35.315 +02:00 [INF] HTTP GET /api/auth/profile responded 200 in 25.2768 ms
2025-12-18 18:11:35.321 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/auth/profile - 200 null application/json; charset=utf-8 38.897ms
2025-12-18 18:12:55.053 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/auth/profile - null null
2025-12-18 18:12:55.074 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenException: IDX10612: Decryption failed. Header.Enc is null or empty, it must be specified.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.DecryptToken(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWEAsync(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-12-18 18:12:55.079 +02:00 [WRN] JWT Authentication failed: IDX10612: Decryption failed. Header.Enc is null or empty, it must be specified.
2025-12-18 18:12:55.082 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10612: Decryption failed. Header.Enc is null or empty, it must be specified.
2025-12-18 18:12:55.086 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-18 18:12:55.089 +02:00 [WRN] JWT Challenge triggered: invalid_token
2025-12-18 18:12:55.092 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-18 18:12:55.095 +02:00 [INF] HTTP GET /api/auth/profile responded 401 in 34.0296 ms
2025-12-18 18:12:55.102 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/auth/profile - 401 0 null 48.0636ms
2025-12-18 18:13:05.535 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/auth/profile - null null
2025-12-18 18:13:05.543 +02:00 [INF] JWT Token validated successfully for user: zyadmohamed@gmail.com
2025-12-18 18:13:05.545 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.GetProfile (CLINICSYSTEM)'
2025-12-18 18:13:05.548 +02:00 [INF] Route matched with {action = "GetProfile", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProfile() on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 18:13:05.555 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-18 18:13:05.560 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.GetProfile (CLINICSYSTEM) in 5.5788ms
2025-12-18 18:13:05.564 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.GetProfile (CLINICSYSTEM)'
2025-12-18 18:13:05.567 +02:00 [INF] HTTP GET /api/auth/profile responded 200 in 25.0444 ms
2025-12-18 18:13:05.572 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/auth/profile - 200 null application/json; charset=utf-8 37.109ms
2025-12-18 18:13:32.533 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7298/api/patients/profile - application/json 219
2025-12-18 18:13:32.543 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-12-18 18:13:32.550 +02:00 [WRN] JWT Authentication failed: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-12-18 18:13:32.554 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-12-18 18:13:32.557 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Patient)
2025-12-18 18:13:32.560 +02:00 [WRN] JWT Challenge triggered: invalid_token
2025-12-18 18:13:32.563 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-18 18:13:32.566 +02:00 [INF] HTTP PUT /api/patients/profile responded 401 in 22.8037 ms
2025-12-18 18:13:32.571 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7298/api/patients/profile - 401 0 null 38.6284ms
2025-12-18 18:14:05.864 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7298/api/patients/medical-history - application/json 358
2025-12-18 18:14:05.872 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-12-18 18:14:05.878 +02:00 [WRN] JWT Authentication failed: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-12-18 18:14:05.882 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-12-18 18:14:05.885 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Patient)
2025-12-18 18:14:05.888 +02:00 [WRN] JWT Challenge triggered: invalid_token
2025-12-18 18:14:05.891 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-18 18:14:05.894 +02:00 [INF] HTTP PUT /api/patients/medical-history responded 401 in 22.6260 ms
2025-12-18 18:14:05.900 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7298/api/patients/medical-history - 401 0 null 35.889ms
2025-12-18 18:14:25.908 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/patients/medical-history - null null
2025-12-18 18:14:25.916 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-12-18 18:14:25.922 +02:00 [WRN] JWT Authentication failed: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-12-18 18:14:25.925 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-12-18 18:14:25.928 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Patient)
2025-12-18 18:14:25.931 +02:00 [WRN] JWT Challenge triggered: invalid_token
2025-12-18 18:14:25.935 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-18 18:14:25.939 +02:00 [INF] HTTP GET /api/patients/medical-history responded 401 in 23.4627 ms
2025-12-18 18:14:25.944 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/patients/medical-history - 401 0 null 35.5314ms
2025-12-18 18:19:55.659 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-12-18 18:19:55.779 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-12-18 18:19:55.803 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-18 18:19:55.838 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-12-18 18:19:55.841 +02:00 [INF] Database migration completed successfully
2025-12-18 18:19:56.351 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 18:19:56.452 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 18:19:56.462 +02:00 [INF] Starting Clinic Information System API
2025-12-18 18:19:56.539 +02:00 [INF] User profile is available. Using 'C:\Users\Laila Sarg\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-18 18:19:57.009 +02:00 [INF] Now listening on: https://localhost:7298
2025-12-18 18:19:57.022 +02:00 [INF] Now listening on: http://localhost:5056
2025-12-18 18:19:57.235 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-18 18:19:57.238 +02:00 [INF] Hosting environment: Development
2025-12-18 18:19:57.241 +02:00 [INF] Content root path: C:\Users\Laila Sarg\Source\Repos\Software_Project\backend
2025-12-18 18:19:58.611 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/index.html - null null
2025-12-18 18:19:59.139 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 194.8213 ms
2025-12-18 18:19:59.150 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/_framework/aspnetcore-browser-refresh.js - null null
2025-12-18 18:19:59.150 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/_vs/browserLink - null null
2025-12-18 18:19:59.171 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/index.html - 200 null text/html;charset=utf-8 564.9875ms
2025-12-18 18:19:59.185 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 34.3653ms
2025-12-18 18:19:59.349 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 198.4626ms
2025-12-18 18:19:59.449 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/v1/swagger.json - null null
2025-12-18 18:19:59.556 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 94.4774 ms
2025-12-18 18:19:59.569 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 119.9979ms
2025-12-18 18:24:10.313 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/auth/register - application/json 223
2025-12-18 18:24:10.426 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 18:24:10.460 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 18:24:10.627 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 18:24:10.674 +02:00 [WRN] Registration failed: Email ahmed.mohamed@gmail.com already exists
2025-12-18 18:24:10.679 +02:00 [WRN] Registration failed for ahmed.mohamed@gmail.com: Email already exists
2025-12-18 18:24:10.689 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 18:24:10.701 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 235.1447ms
2025-12-18 18:24:10.703 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 18:24:10.705 +02:00 [INF] HTTP POST /api/auth/register responded 400 in 382.6897 ms
2025-12-18 18:24:10.713 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/auth/register - 400 null application/json; charset=utf-8 400.3521ms
2025-12-18 18:24:38.737 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/auth/profile - null null
2025-12-18 18:24:38.817 +02:00 [INF] JWT Token validated successfully for user: dr.omar.ibrahim@clinic.com
2025-12-18 18:24:38.826 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.GetProfile (CLINICSYSTEM)'
2025-12-18 18:24:38.830 +02:00 [INF] Route matched with {action = "GetProfile", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProfile() on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 18:24:38.838 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-18 18:24:38.845 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.GetProfile (CLINICSYSTEM) in 12.3217ms
2025-12-18 18:24:38.847 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.GetProfile (CLINICSYSTEM)'
2025-12-18 18:24:38.848 +02:00 [INF] HTTP GET /api/auth/profile responded 200 in 104.9359 ms
2025-12-18 18:24:38.851 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/auth/profile - 200 null application/json; charset=utf-8 114.3856ms
2025-12-18 18:24:50.872 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/auth/profile - null null
2025-12-18 18:24:50.885 +02:00 [INF] JWT Token validated successfully for user: dr.omar.ibrahim@clinic.com
2025-12-18 18:24:50.890 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.GetProfile (CLINICSYSTEM)'
2025-12-18 18:24:50.893 +02:00 [INF] Route matched with {action = "GetProfile", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProfile() on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 18:24:50.918 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-18 18:24:50.922 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.GetProfile (CLINICSYSTEM) in 25.3579ms
2025-12-18 18:24:50.925 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.GetProfile (CLINICSYSTEM)'
2025-12-18 18:24:50.928 +02:00 [INF] HTTP GET /api/auth/profile responded 200 in 48.3029 ms
2025-12-18 18:24:50.933 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/auth/profile - 200 null application/json; charset=utf-8 60.469ms
2025-12-18 18:25:25.992 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/patients/profile - null null
2025-12-18 18:25:26.000 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-12-18 18:25:26.045 +02:00 [WRN] JWT Authentication failed: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-12-18 18:25:26.047 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-12-18 18:25:26.054 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Patient)
2025-12-18 18:25:26.064 +02:00 [WRN] JWT Challenge triggered: invalid_token
2025-12-18 18:25:26.067 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-18 18:25:26.069 +02:00 [INF] HTTP GET /api/patients/profile responded 401 in 71.7978 ms
2025-12-18 18:25:26.073 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/patients/profile - 401 0 null 81.0994ms
2025-12-18 18:26:40.289 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/auth/login - application/json 71
2025-12-18 18:26:40.296 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM)'
2025-12-18 18:26:40.306 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CLINICSYSTEM.Data.DTOs.LoginRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 18:26:40.453 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Email_0='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."UserId", "u"."CreatedAt", "u"."Email", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."PhoneNumber", "u"."Role", "u"."UpdatedAt"
FROM "Users" AS "u"
WHERE "u"."Email" = @__request_Email_0
LIMIT 1
2025-12-18 18:26:40.510 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 18:26:40.706 +02:00 [INF] User ahmed.mohamed@gmail.com logged in successfully
2025-12-18 18:26:40.710 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 18:26:40.717 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM) in 405.9562ms
2025-12-18 18:26:40.720 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM)'
2025-12-18 18:26:40.723 +02:00 [INF] HTTP POST /api/auth/login responded 200 in 427.4438 ms
2025-12-18 18:26:40.728 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/auth/login - 200 null application/json; charset=utf-8 439.8704ms
2025-12-18 18:26:49.751 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/patients/profile - null null
2025-12-18 18:26:49.756 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-12-18 18:26:49.759 +02:00 [WRN] JWT Authentication failed: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-12-18 18:26:49.760 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-12-18 18:26:49.762 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Patient)
2025-12-18 18:26:49.764 +02:00 [WRN] JWT Challenge triggered: invalid_token
2025-12-18 18:26:49.766 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-18 18:26:49.767 +02:00 [INF] HTTP GET /api/patients/profile responded 401 in 11.5974 ms
2025-12-18 18:26:49.770 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/patients/profile - 401 0 null 18.8479ms
2025-12-18 18:27:38.187 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/patients/profile - null null
2025-12-18 18:27:38.192 +02:00 [INF] JWT Token validated successfully for user: ahmed.mohamed@gmail.com
2025-12-18 18:27:38.194 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.PatientsController.GetProfile (CLINICSYSTEM)'
2025-12-18 18:27:38.200 +02:00 [INF] Route matched with {action = "GetProfile", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller CLINICSYSTEM.Controllers.PatientsController (CLINICSYSTEM).
2025-12-18 18:27:38.283 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."PatientId", "p"."Address", "p"."CreatedAt", "p"."DateOfBirth", "p"."EmergencyContact", "p"."Gender", "p"."UpdatedAt", "p"."UserId", "u"."UserId", "u"."CreatedAt", "u"."Email", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."PhoneNumber", "u"."Role", "u"."UpdatedAt"
FROM "Patients" AS "p"
INNER JOIN "Users" AS "u" ON "p"."UserId" = "u"."UserId"
WHERE "p"."PatientId" = @__patientId_0
LIMIT 1
2025-12-18 18:27:38.290 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-18 18:27:38.323 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.PatientsController.GetProfile (CLINICSYSTEM) in 120.0003ms
2025-12-18 18:27:38.326 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.PatientsController.GetProfile (CLINICSYSTEM)'
2025-12-18 18:27:38.328 +02:00 [INF] HTTP GET /api/patients/profile responded 404 in 136.4575 ms
2025-12-18 18:27:38.331 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/patients/profile - 404 null application/problem+json; charset=utf-8 144.2273ms
2025-12-18 18:34:20.397 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/auth/register - application/json 223
2025-12-18 18:34:20.400 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 18:34:20.402 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 18:34:20.419 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 18:34:20.422 +02:00 [WRN] Registration failed: Email ahmed.mohamed@gmail.com already exists
2025-12-18 18:34:20.423 +02:00 [WRN] Registration failed for ahmed.mohamed@gmail.com: Email already exists
2025-12-18 18:34:20.425 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 18:34:20.427 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 23.0347ms
2025-12-18 18:34:20.429 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 18:34:20.431 +02:00 [INF] HTTP POST /api/auth/register responded 400 in 30.3478 ms
2025-12-18 18:34:20.433 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/auth/register - 400 null application/json; charset=utf-8 36.5556ms
2025-12-18 18:34:33.410 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/auth/register - application/json 175
2025-12-18 18:34:33.415 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 18:34:33.417 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 18:34:33.428 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 26)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 18:34:33.432 +02:00 [WRN] Registration failed: Email dr.omar.ibrahim@clinic.com already exists
2025-12-18 18:34:33.435 +02:00 [WRN] Registration failed for dr.omar.ibrahim@clinic.com: Email already exists
2025-12-18 18:34:33.437 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 18:34:33.440 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 19.8474ms
2025-12-18 18:34:33.443 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 18:34:33.445 +02:00 [INF] HTTP POST /api/auth/register responded 400 in 29.9316 ms
2025-12-18 18:34:33.448 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/auth/register - 400 null application/json; charset=utf-8 38.815ms
2025-12-18 18:35:02.828 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/auth/login - application/json 175
2025-12-18 18:35:02.850 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM)'
2025-12-18 18:35:02.860 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CLINICSYSTEM.Data.DTOs.LoginRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 18:35:02.891 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Email_0='?' (Size = 26)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."UserId", "u"."CreatedAt", "u"."Email", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."PhoneNumber", "u"."Role", "u"."UpdatedAt"
FROM "Users" AS "u"
WHERE "u"."Email" = @__request_Email_0
LIMIT 1
2025-12-18 18:35:02.909 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 26)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 18:35:03.363 +02:00 [INF] User dr.omar.ibrahim@clinic.com logged in successfully
2025-12-18 18:35:03.373 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 18:35:03.395 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM) in 515.0978ms
2025-12-18 18:35:03.405 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM)'
2025-12-18 18:35:03.413 +02:00 [INF] HTTP POST /api/auth/login responded 200 in 564.7285 ms
2025-12-18 18:35:03.429 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/auth/login - 200 null application/json; charset=utf-8 600.4344ms
2025-12-18 18:35:18.229 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/auth/profile - null null
2025-12-18 18:35:18.234 +02:00 [INF] JWT Token validated successfully for user: ahmed.mohamed@gmail.com
2025-12-18 18:35:18.236 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.GetProfile (CLINICSYSTEM)'
2025-12-18 18:35:18.238 +02:00 [INF] Route matched with {action = "GetProfile", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProfile() on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 18:35:18.242 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-18 18:35:18.245 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.GetProfile (CLINICSYSTEM) in 3.8947ms
2025-12-18 18:35:18.247 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.GetProfile (CLINICSYSTEM)'
2025-12-18 18:35:18.249 +02:00 [INF] HTTP GET /api/auth/profile responded 200 in 15.5878 ms
2025-12-18 18:35:18.253 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/auth/profile - 200 null application/json; charset=utf-8 23.2445ms
2025-12-18 18:35:28.124 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/patients/profile - null null
2025-12-18 18:35:28.128 +02:00 [INF] JWT Token validated successfully for user: ahmed.mohamed@gmail.com
2025-12-18 18:35:28.129 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.PatientsController.GetProfile (CLINICSYSTEM)'
2025-12-18 18:35:28.131 +02:00 [INF] Route matched with {action = "GetProfile", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller CLINICSYSTEM.Controllers.PatientsController (CLINICSYSTEM).
2025-12-18 18:35:28.135 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."PatientId", "p"."Address", "p"."CreatedAt", "p"."DateOfBirth", "p"."EmergencyContact", "p"."Gender", "p"."UpdatedAt", "p"."UserId", "u"."UserId", "u"."CreatedAt", "u"."Email", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."PhoneNumber", "u"."Role", "u"."UpdatedAt"
FROM "Patients" AS "p"
INNER JOIN "Users" AS "u" ON "p"."UserId" = "u"."UserId"
WHERE "p"."PatientId" = @__patientId_0
LIMIT 1
2025-12-18 18:35:28.139 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-18 18:35:28.141 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.PatientsController.GetProfile (CLINICSYSTEM) in 7.183ms
2025-12-18 18:35:28.143 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.PatientsController.GetProfile (CLINICSYSTEM)'
2025-12-18 18:35:28.144 +02:00 [INF] HTTP GET /api/patients/profile responded 404 in 17.0862 ms
2025-12-18 18:35:28.148 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/patients/profile - 404 null application/problem+json; charset=utf-8 23.7974ms
2025-12-18 18:36:32.114 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7298/api/patients/profile - application/json 228
2025-12-18 18:36:32.119 +02:00 [INF] JWT Token validated successfully for user: ahmed.mohamed@gmail.com
2025-12-18 18:36:32.121 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.PatientsController.UpdateProfile (CLINICSYSTEM)'
2025-12-18 18:36:32.126 +02:00 [INF] Route matched with {action = "UpdateProfile", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProfile(CLINICSYSTEM.Data.DTOs.UpdatePatientProfileRequest) on controller CLINICSYSTEM.Controllers.PatientsController (CLINICSYSTEM).
2025-12-18 18:36:32.140 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."PatientId", "p"."Address", "p"."CreatedAt", "p"."DateOfBirth", "p"."EmergencyContact", "p"."Gender", "p"."UpdatedAt", "p"."UserId", "u"."UserId", "u"."CreatedAt", "u"."Email", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."PhoneNumber", "u"."Role", "u"."UpdatedAt"
FROM "Patients" AS "p"
INNER JOIN "Users" AS "u" ON "p"."UserId" = "u"."UserId"
WHERE "p"."PatientId" = @__patientId_0
LIMIT 1
2025-12-18 18:36:32.143 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-12-18 18:36:32.146 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.PatientsController.UpdateProfile (CLINICSYSTEM) in 17.3428ms
2025-12-18 18:36:32.148 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.PatientsController.UpdateProfile (CLINICSYSTEM)'
2025-12-18 18:36:32.149 +02:00 [INF] HTTP PUT /api/patients/profile responded 400 in 31.5268 ms
2025-12-18 18:36:32.151 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7298/api/patients/profile - 400 null text/plain; charset=utf-8 37.747ms
2025-12-18 18:36:45.819 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/patients/medical-history - null null
2025-12-18 18:36:45.825 +02:00 [INF] JWT Token validated successfully for user: ahmed.mohamed@gmail.com
2025-12-18 18:36:45.827 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.PatientsController.GetMedicalHistory (CLINICSYSTEM)'
2025-12-18 18:36:45.833 +02:00 [INF] Route matched with {action = "GetMedicalHistory", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMedicalHistory() on controller CLINICSYSTEM.Controllers.PatientsController (CLINICSYSTEM).
2025-12-18 18:36:45.857 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."RecordId", "m"."Allergies", "m"."ChronicConditions", "m"."ConsultationId", "m"."CurrentMedications", "m"."FamilyHistory", "m"."LastUpdated", "m"."PatientId", "m"."SurgicalHistory"
FROM "MedicalRecords" AS "m"
WHERE "m"."PatientId" = @__patientId_0
ORDER BY "m"."LastUpdated" DESC
LIMIT 1
2025-12-18 18:36:45.862 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.MedicalHistoryDTO'.
2025-12-18 18:36:45.867 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.PatientsController.GetMedicalHistory (CLINICSYSTEM) in 30.8092ms
2025-12-18 18:36:45.872 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.PatientsController.GetMedicalHistory (CLINICSYSTEM)'
2025-12-18 18:36:45.873 +02:00 [INF] HTTP GET /api/patients/medical-history responded 200 in 49.1194 ms
2025-12-18 18:36:45.877 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/patients/medical-history - 200 null application/json; charset=utf-8 58.1325ms
2025-12-18 18:36:55.596 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7298/api/patients/medical-history - application/json 498
2025-12-18 18:36:55.599 +02:00 [INF] JWT Token validated successfully for user: ahmed.mohamed@gmail.com
2025-12-18 18:36:55.601 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.PatientsController.UpdateMedicalHistory (CLINICSYSTEM)'
2025-12-18 18:36:55.605 +02:00 [INF] Route matched with {action = "UpdateMedicalHistory", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateMedicalHistory(CLINICSYSTEM.Data.DTOs.UpdateMedicalHistoryRequest) on controller CLINICSYSTEM.Controllers.PatientsController (CLINICSYSTEM).
2025-12-18 18:36:55.623 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."RecordId", "m"."Allergies", "m"."ChronicConditions", "m"."ConsultationId", "m"."CurrentMedications", "m"."FamilyHistory", "m"."LastUpdated", "m"."PatientId", "m"."SurgicalHistory"
FROM "MedicalRecords" AS "m"
WHERE "m"."PatientId" = @__patientId_0
LIMIT 1
2025-12-18 18:36:55.795 +02:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@p0='?' (Size = 61), @p1='?' (Size = 34), @p2='?' (DbType = Int32), @p3='?' (Size = 52), @p4='?' (Size = 76), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (Size = 46)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MedicalRecords" ("Allergies", "ChronicConditions", "ConsultationId", "CurrentMedications", "FamilyHistory", "LastUpdated", "PatientId", "SurgicalHistory")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RecordId";
2025-12-18 18:36:55.812 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'CLINICSYSTEM.Data.ClinicDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-12-18 18:36:55.927 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.PatientsController.UpdateMedicalHistory (CLINICSYSTEM) in 318.9508ms
2025-12-18 18:36:55.930 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.PatientsController.UpdateMedicalHistory (CLINICSYSTEM)'
2025-12-18 18:36:55.933 +02:00 [ERR] HTTP PUT /api/patients/medical-history responded 500 in 334.0985 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CLINICSYSTEM.Services.PatientService.UpdateMedicalHistoryAsync(Int32 patientId, UpdateMedicalHistoryRequest request) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Services\PatientService.cs:line 109
   at CLINICSYSTEM.Controllers.PatientsController.UpdateMedicalHistory(UpdateMedicalHistoryRequest request) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Controllers\PatientsController.cs:line 67
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-18 18:36:55.962 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CLINICSYSTEM.Services.PatientService.UpdateMedicalHistoryAsync(Int32 patientId, UpdateMedicalHistoryRequest request) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Services\PatientService.cs:line 109
   at CLINICSYSTEM.Controllers.PatientsController.UpdateMedicalHistory(UpdateMedicalHistoryRequest request) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Controllers\PatientsController.cs:line 67
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-18 18:36:55.980 +02:00 [ERR] An unhandled exception occurred: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CLINICSYSTEM.Services.PatientService.UpdateMedicalHistoryAsync(Int32 patientId, UpdateMedicalHistoryRequest request) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Services\PatientService.cs:line 109
   at CLINICSYSTEM.Controllers.PatientsController.UpdateMedicalHistory(UpdateMedicalHistoryRequest request) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Controllers\PatientsController.cs:line 67
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-18 18:36:56.000 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7298/api/patients/medical-history - 500 null application/json 404.6933ms
2025-12-18 18:37:08.788 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/auth/login - application/json 75
2025-12-18 18:37:08.795 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM)'
2025-12-18 18:37:08.798 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CLINICSYSTEM.Data.DTOs.LoginRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 18:37:08.805 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Email_0='?' (Size = 26)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."UserId", "u"."CreatedAt", "u"."Email", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."PhoneNumber", "u"."Role", "u"."UpdatedAt"
FROM "Users" AS "u"
WHERE "u"."Email" = @__request_Email_0
LIMIT 1
2025-12-18 18:37:08.811 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 26)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 18:37:08.957 +02:00 [INF] User dr.omar.ibrahim@clinic.com logged in successfully
2025-12-18 18:37:08.960 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 18:37:08.964 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM) in 161.693ms
2025-12-18 18:37:08.967 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM)'
2025-12-18 18:37:08.970 +02:00 [INF] HTTP POST /api/auth/login responded 200 in 175.8384 ms
2025-12-18 18:37:08.975 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/auth/login - 200 null application/json; charset=utf-8 187.6961ms
2025-12-18 18:37:26.958 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/doctors/schedule - application/json 102
2025-12-18 18:37:26.964 +02:00 [INF] JWT Token validated successfully for user: dr.omar.ibrahim@clinic.com
2025-12-18 18:37:26.967 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.DoctorsController.CreateSchedule (CLINICSYSTEM)'
2025-12-18 18:37:26.974 +02:00 [INF] Route matched with {action = "CreateSchedule", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSchedule(CLINICSYSTEM.Data.DTOs.CreateScheduleRequest) on controller CLINICSYSTEM.Controllers.DoctorsController (CLINICSYSTEM).
2025-12-18 18:37:27.045 +02:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 6), @p2='?' (DbType = Int32), @p3='?' (DbType = Time), @p4='?' (DbType = Int32), @p5='?' (DbType = Time), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DoctorSchedules" ("CreatedAt", "DayOfWeek", "DoctorId", "EndTime", "SlotDurationMinutes", "StartTime", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "ScheduleId";
2025-12-18 18:37:27.054 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'CLINICSYSTEM.Data.ClinicDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-12-18 18:37:27.153 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.DoctorsController.CreateSchedule (CLINICSYSTEM) in 175.4686ms
2025-12-18 18:37:27.156 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.DoctorsController.CreateSchedule (CLINICSYSTEM)'
2025-12-18 18:37:27.160 +02:00 [ERR] HTTP POST /api/doctors/schedule responded 500 in 196.6824 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CLINICSYSTEM.Services.DoctorService.CreateScheduleAsync(Int32 doctorId, CreateScheduleRequest request) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Services\DoctorService.cs:line 158
   at CLINICSYSTEM.Controllers.DoctorsController.CreateSchedule(CreateScheduleRequest request) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Controllers\DoctorsController.cs:line 93
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-18 18:37:27.181 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CLINICSYSTEM.Services.DoctorService.CreateScheduleAsync(Int32 doctorId, CreateScheduleRequest request) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Services\DoctorService.cs:line 158
   at CLINICSYSTEM.Controllers.DoctorsController.CreateSchedule(CreateScheduleRequest request) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Controllers\DoctorsController.cs:line 93
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-18 18:37:27.203 +02:00 [ERR] An unhandled exception occurred: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CLINICSYSTEM.Services.DoctorService.CreateScheduleAsync(Int32 doctorId, CreateScheduleRequest request) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Services\DoctorService.cs:line 158
   at CLINICSYSTEM.Controllers.DoctorsController.CreateSchedule(CreateScheduleRequest request) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Controllers\DoctorsController.cs:line 93
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-18 18:37:27.226 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/doctors/schedule - 500 null application/json 267.567ms
2025-12-18 18:37:39.395 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/doctors/schedule - application/json 102
2025-12-18 18:37:39.401 +02:00 [INF] JWT Token validated successfully for user: dr.omar.ibrahim@clinic.com
2025-12-18 18:37:39.402 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.DoctorsController.CreateSchedule (CLINICSYSTEM)'
2025-12-18 18:37:39.404 +02:00 [INF] Route matched with {action = "CreateSchedule", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSchedule(CLINICSYSTEM.Data.DTOs.CreateScheduleRequest) on controller CLINICSYSTEM.Controllers.DoctorsController (CLINICSYSTEM).
2025-12-18 18:37:39.412 +02:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 6), @p2='?' (DbType = Int32), @p3='?' (DbType = Time), @p4='?' (DbType = Int32), @p5='?' (DbType = Time), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DoctorSchedules" ("CreatedAt", "DayOfWeek", "DoctorId", "EndTime", "SlotDurationMinutes", "StartTime", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "ScheduleId";
2025-12-18 18:37:39.418 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'CLINICSYSTEM.Data.ClinicDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-12-18 18:37:39.487 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.DoctorsController.CreateSchedule (CLINICSYSTEM) in 80.3434ms
2025-12-18 18:37:39.489 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.DoctorsController.CreateSchedule (CLINICSYSTEM)'
2025-12-18 18:37:39.492 +02:00 [ERR] HTTP POST /api/doctors/schedule responded 500 in 91.8615 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CLINICSYSTEM.Services.DoctorService.CreateScheduleAsync(Int32 doctorId, CreateScheduleRequest request) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Services\DoctorService.cs:line 158
   at CLINICSYSTEM.Controllers.DoctorsController.CreateSchedule(CreateScheduleRequest request) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Controllers\DoctorsController.cs:line 93
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-18 18:37:39.507 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CLINICSYSTEM.Services.DoctorService.CreateScheduleAsync(Int32 doctorId, CreateScheduleRequest request) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Services\DoctorService.cs:line 158
   at CLINICSYSTEM.Controllers.DoctorsController.CreateSchedule(CreateScheduleRequest request) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Controllers\DoctorsController.cs:line 93
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-18 18:37:39.520 +02:00 [ERR] An unhandled exception occurred: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CLINICSYSTEM.Services.DoctorService.CreateScheduleAsync(Int32 doctorId, CreateScheduleRequest request) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Services\DoctorService.cs:line 158
   at CLINICSYSTEM.Controllers.DoctorsController.CreateSchedule(CreateScheduleRequest request) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Controllers\DoctorsController.cs:line 93
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-18 18:37:39.536 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/doctors/schedule - 500 null application/json 140.8232ms
2025-12-18 18:37:49.993 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/auth/login - application/json 71
2025-12-18 18:37:49.998 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM)'
2025-12-18 18:37:50.001 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CLINICSYSTEM.Data.DTOs.LoginRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 18:37:50.008 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Email_0='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."UserId", "u"."CreatedAt", "u"."Email", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."PhoneNumber", "u"."Role", "u"."UpdatedAt"
FROM "Users" AS "u"
WHERE "u"."Email" = @__request_Email_0
LIMIT 1
2025-12-18 18:37:50.014 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 18:37:50.141 +02:00 [INF] User ahmed.mohamed@gmail.com logged in successfully
2025-12-18 18:37:50.143 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 18:37:50.146 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM) in 141.0315ms
2025-12-18 18:37:50.149 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM)'
2025-12-18 18:37:50.151 +02:00 [INF] HTTP POST /api/auth/login responded 200 in 153.3326 ms
2025-12-18 18:37:50.155 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/auth/login - 200 null application/json; charset=utf-8 162.1447ms
2025-12-18 18:38:11.383 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/appointments/available-slots?doctorId=10&startDate=2024-12-22&endDate=2024-12-29 - null null
2025-12-18 18:38:11.388 +02:00 [INF] JWT Token validated successfully for user: ahmed.mohamed@gmail.com
2025-12-18 18:38:11.390 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots (CLINICSYSTEM)'
2025-12-18 18:38:11.396 +02:00 [INF] Route matched with {action = "GetAvailableSlots", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableSlots(Int32, System.DateTime, System.DateTime) on controller CLINICSYSTEM.Controllers.AppointmentsController (CLINICSYSTEM).
2025-12-18 18:38:11.492 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots (CLINICSYSTEM) in 93.6722ms
2025-12-18 18:38:11.495 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots (CLINICSYSTEM)'
2025-12-18 18:38:11.498 +02:00 [ERR] HTTP GET /api/appointments/available-slots responded 500 in 110.1863 ms
System.NotSupportedException: SQLite does not support expressions of type 'TimeSpan' in ORDER BY clauses. Convert the values to a supported type, or use LINQ to Objects to order the results on the client side.
   at Microsoft.EntityFrameworkCore.Sqlite.Query.Internal.SqliteQueryableMethodTranslatingExpressionVisitor.TranslateThenBy(ShapedQueryExpression source, LambdaExpression keySelector, Boolean ascending)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CLINICSYSTEM.Services.AppointmentService.GetAvailableSlotsAsync(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Services\AppointmentService.cs:line 21
   at CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Controllers\AppointmentsController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-18 18:38:11.513 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotSupportedException: SQLite does not support expressions of type 'TimeSpan' in ORDER BY clauses. Convert the values to a supported type, or use LINQ to Objects to order the results on the client side.
   at Microsoft.EntityFrameworkCore.Sqlite.Query.Internal.SqliteQueryableMethodTranslatingExpressionVisitor.TranslateThenBy(ShapedQueryExpression source, LambdaExpression keySelector, Boolean ascending)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CLINICSYSTEM.Services.AppointmentService.GetAvailableSlotsAsync(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Services\AppointmentService.cs:line 21
   at CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Controllers\AppointmentsController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-18 18:38:11.524 +02:00 [ERR] An unhandled exception occurred: SQLite does not support expressions of type 'TimeSpan' in ORDER BY clauses. Convert the values to a supported type, or use LINQ to Objects to order the results on the client side.
System.NotSupportedException: SQLite does not support expressions of type 'TimeSpan' in ORDER BY clauses. Convert the values to a supported type, or use LINQ to Objects to order the results on the client side.
   at Microsoft.EntityFrameworkCore.Sqlite.Query.Internal.SqliteQueryableMethodTranslatingExpressionVisitor.TranslateThenBy(ShapedQueryExpression source, LambdaExpression keySelector, Boolean ascending)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CLINICSYSTEM.Services.AppointmentService.GetAvailableSlotsAsync(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Services\AppointmentService.cs:line 21
   at CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Controllers\AppointmentsController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-18 18:38:11.536 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/appointments/available-slots?doctorId=10&startDate=2024-12-22&endDate=2024-12-29 - 500 null application/json 153.4819ms
2025-12-18 18:38:28.709 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/appointments/book - application/json 224
2025-12-18 18:38:28.719 +02:00 [INF] JWT Token validated successfully for user: ahmed.mohamed@gmail.com
2025-12-18 18:38:28.724 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AppointmentsController.BookAppointment (CLINICSYSTEM)'
2025-12-18 18:38:28.733 +02:00 [INF] Route matched with {action = "BookAppointment", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookAppointment(CLINICSYSTEM.Data.DTOs.BookAppointmentRequest) on controller CLINICSYSTEM.Controllers.AppointmentsController (CLINICSYSTEM).
2025-12-18 18:38:28.761 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-18 18:38:28.776 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AppointmentsController.BookAppointment (CLINICSYSTEM) in 37.2667ms
2025-12-18 18:38:28.779 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AppointmentsController.BookAppointment (CLINICSYSTEM)'
2025-12-18 18:38:28.782 +02:00 [INF] HTTP POST /api/appointments/book responded 400 in 62.6898 ms
2025-12-18 18:38:28.787 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/appointments/book - 400 null application/problem+json; charset=utf-8 77.9342ms
2025-12-18 18:38:51.736 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/patients/profile - null null
2025-12-18 18:38:51.740 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-12-18 18:38:51.743 +02:00 [WRN] JWT Authentication failed: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-12-18 18:38:51.744 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-12-18 18:38:51.746 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Patient)
2025-12-18 18:38:51.747 +02:00 [WRN] JWT Challenge triggered: invalid_token
2025-12-18 18:38:51.748 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-18 18:38:51.750 +02:00 [INF] HTTP GET /api/patients/profile responded 401 in 9.7900 ms
2025-12-18 18:38:51.752 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/patients/profile - 401 0 null 16.2535ms
2025-12-18 18:39:09.920 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/patients/profile - null null
2025-12-18 18:39:09.928 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Patient)
2025-12-18 18:39:09.930 +02:00 [WRN] JWT Challenge triggered: null
2025-12-18 18:39:09.935 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-18 18:39:09.938 +02:00 [INF] HTTP GET /api/patients/profile responded 401 in 10.6696 ms
2025-12-18 18:39:09.943 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/patients/profile - 401 0 null 22.8708ms
2025-12-18 19:08:00.871 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-12-18 19:08:00.922 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-12-18 19:08:00.934 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-18 19:08:00.948 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-12-18 19:08:00.950 +02:00 [INF] Database migration completed successfully
2025-12-18 19:08:01.141 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 19:08:01.180 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 19:08:01.184 +02:00 [INF] Starting Clinic Information System API
2025-12-18 19:08:01.229 +02:00 [INF] User profile is available. Using 'C:\Users\Laila Sarg\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-18 19:08:01.548 +02:00 [INF] Now listening on: https://localhost:7298
2025-12-18 19:08:01.550 +02:00 [INF] Now listening on: http://localhost:5056
2025-12-18 19:08:01.631 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-18 19:08:01.632 +02:00 [INF] Hosting environment: Development
2025-12-18 19:08:01.633 +02:00 [INF] Content root path: C:\Users\Laila Sarg\Source\Repos\Software_Project\backend
2025-12-18 19:08:02.142 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/index.html - null null
2025-12-18 19:08:02.430 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 56.7961 ms
2025-12-18 19:08:02.434 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/_framework/aspnetcore-browser-refresh.js - null null
2025-12-18 19:08:02.434 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/_vs/browserLink - null null
2025-12-18 19:08:02.440 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/index.html - 200 null text/html;charset=utf-8 300.5827ms
2025-12-18 19:08:02.445 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 10.637ms
2025-12-18 19:08:02.497 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 63.2807ms
2025-12-18 19:08:02.527 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/v1/swagger.json - null null
2025-12-18 19:08:02.561 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 30.1862 ms
2025-12-18 19:08:02.565 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 38.4299ms
2025-12-18 19:08:28.228 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/auth/register - application/json 224
2025-12-18 19:08:28.314 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 19:08:28.334 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 19:08:28.451 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 24)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 19:08:28.455 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 19:08:28.458 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 19:08:28.461 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 19:08:28.530 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 24)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 19:08:28.639 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 24), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 24), @p8='?' (Size = 24), @p9='?' (Size = 84), @p10='?', @p11='?' (DbType = Boolean), @p12='?' (Size = 32), @p13='?' (DbType = Boolean), @p14='?' (Size = 24)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-12-18 19:08:28.653 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 19:08:28.674 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36), @__p_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."UserId", "a"."RoleId"
FROM "AspNetUserRoles" AS "a"
WHERE "a"."UserId" = @__p_0 AND "a"."RoleId" = @__p_1
LIMIT 1
2025-12-18 19:08:28.679 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 19:08:28.690 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 24)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 19:08:28.704 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
2025-12-18 19:08:28.709 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p14='?' (Size = 36), @p0='?' (DbType = Int32), @p1='?' (Size = 36), @p15='?' (Size = 36), @p2='?' (Size = 24), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 24), @p7='?' (Size = 24), @p8='?' (Size = 84), @p9='?', @p10='?' (DbType = Boolean), @p11='?' (Size = 32), @p12='?' (DbType = Boolean), @p13='?' (Size = 24)], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "SecurityStamp" = @p11, "TwoFactorEnabled" = @p12, "UserName" = @p13
WHERE "Id" = @p14 AND "ConcurrencyStamp" = @p15
RETURNING 1;
2025-12-18 19:08:28.748 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 24), @p2='?' (Size = 7), @p3='?' (DbType = Boolean), @p4='?' (Size = 6), @p5='?' (Size = 11), @p6='?' (Size = 7), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("CreatedAt", "Email", "FirstName", "IsActive", "LastName", "PhoneNumber", "Role", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "UserId";
2025-12-18 19:08:28.785 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (Size = 4), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Patients" ("Address", "CreatedAt", "DateOfBirth", "EmergencyContact", "Gender", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "PatientId";
2025-12-18 19:08:28.825 +02:00 [INF] User mohamed.hassan@gmail.com registered successfully as Patient
2025-12-18 19:08:28.829 +02:00 [INF] User mohamed.hassan@gmail.com registered successfully
2025-12-18 19:08:28.835 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 19:08:28.845 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 506.9012ms
2025-12-18 19:08:28.847 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 19:08:28.849 +02:00 [INF] HTTP POST /api/auth/register responded 200 in 613.0606 ms
2025-12-18 19:08:28.855 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/auth/register - 200 null application/json; charset=utf-8 626.2216ms
2025-12-18 19:08:34.445 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/patients/profile - null null
2025-12-18 19:08:34.488 +02:00 [INF] JWT Token validated successfully for user: mohamed.hassan@gmail.com
2025-12-18 19:08:34.494 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.PatientsController.GetProfile (CLINICSYSTEM)'
2025-12-18 19:08:34.498 +02:00 [INF] Route matched with {action = "GetProfile", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller CLINICSYSTEM.Controllers.PatientsController (CLINICSYSTEM).
2025-12-18 19:08:34.568 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."PatientId", "p"."Address", "p"."CreatedAt", "p"."DateOfBirth", "p"."EmergencyContact", "p"."Gender", "p"."UpdatedAt", "p"."UserId", "u"."UserId", "u"."CreatedAt", "u"."Email", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."PhoneNumber", "u"."Role", "u"."UpdatedAt"
FROM "Patients" AS "p"
INNER JOIN "Users" AS "u" ON "p"."UserId" = "u"."UserId"
WHERE "p"."PatientId" = @__patientId_0
LIMIT 1
2025-12-18 19:08:34.571 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-18 19:08:34.586 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.PatientsController.GetProfile (CLINICSYSTEM) in 85.6947ms
2025-12-18 19:08:34.587 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.PatientsController.GetProfile (CLINICSYSTEM)'
2025-12-18 19:08:34.588 +02:00 [INF] HTTP GET /api/patients/profile responded 404 in 138.2608 ms
2025-12-18 19:08:34.590 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/patients/profile - 404 null application/problem+json; charset=utf-8 144.9474ms
2025-12-18 19:08:44.516 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/auth/register - application/json 214
2025-12-18 19:08:44.524 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 19:08:44.526 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 19:08:44.537 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 19:08:44.540 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 19:08:44.542 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 19:08:44.545 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 19:08:44.596 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 19:08:44.599 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 19), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 19), @p8='?' (Size = 19), @p9='?' (Size = 84), @p10='?', @p11='?' (DbType = Boolean), @p12='?' (Size = 32), @p13='?' (DbType = Boolean), @p14='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-12-18 19:08:44.601 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 19:08:44.604 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36), @__p_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."UserId", "a"."RoleId"
FROM "AspNetUserRoles" AS "a"
WHERE "a"."UserId" = @__p_0 AND "a"."RoleId" = @__p_1
LIMIT 1
2025-12-18 19:08:44.606 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 19:08:44.609 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 19:08:44.612 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
2025-12-18 19:08:44.614 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p14='?' (Size = 36), @p0='?' (DbType = Int32), @p1='?' (Size = 36), @p15='?' (Size = 36), @p2='?' (Size = 19), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 19), @p7='?' (Size = 19), @p8='?' (Size = 84), @p9='?', @p10='?' (DbType = Boolean), @p11='?' (Size = 32), @p12='?' (DbType = Boolean), @p13='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "SecurityStamp" = @p11, "TwoFactorEnabled" = @p12, "UserName" = @p13
WHERE "Id" = @p14 AND "ConcurrencyStamp" = @p15
RETURNING 1;
2025-12-18 19:08:44.617 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 19), @p2='?' (Size = 5), @p3='?' (DbType = Boolean), @p4='?' (Size = 3), @p5='?' (Size = 11), @p6='?' (Size = 7), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("CreatedAt", "Email", "FirstName", "IsActive", "LastName", "PhoneNumber", "Role", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "UserId";
2025-12-18 19:08:44.621 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (Size = 6), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Patients" ("Address", "CreatedAt", "DateOfBirth", "EmergencyContact", "Gender", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "PatientId";
2025-12-18 19:08:44.625 +02:00 [INF] User fatma.ali@yahoo.com registered successfully as Patient
2025-12-18 19:08:44.627 +02:00 [INF] User fatma.ali@yahoo.com registered successfully
2025-12-18 19:08:44.628 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 19:08:44.630 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 101.9403ms
2025-12-18 19:08:44.631 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 19:08:44.633 +02:00 [INF] HTTP POST /api/auth/register responded 200 in 111.7207 ms
2025-12-18 19:08:44.635 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/auth/register - 200 null application/json; charset=utf-8 118.6212ms
2025-12-18 19:08:50.430 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/patients/profile - null null
2025-12-18 19:08:50.434 +02:00 [INF] JWT Token validated successfully for user: fatma.ali@yahoo.com
2025-12-18 19:08:50.436 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.PatientsController.GetProfile (CLINICSYSTEM)'
2025-12-18 19:08:50.438 +02:00 [INF] Route matched with {action = "GetProfile", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller CLINICSYSTEM.Controllers.PatientsController (CLINICSYSTEM).
2025-12-18 19:08:50.442 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."PatientId", "p"."Address", "p"."CreatedAt", "p"."DateOfBirth", "p"."EmergencyContact", "p"."Gender", "p"."UpdatedAt", "p"."UserId", "u"."UserId", "u"."CreatedAt", "u"."Email", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."PhoneNumber", "u"."Role", "u"."UpdatedAt"
FROM "Patients" AS "p"
INNER JOIN "Users" AS "u" ON "p"."UserId" = "u"."UserId"
WHERE "p"."PatientId" = @__patientId_0
LIMIT 1
2025-12-18 19:08:50.444 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-18 19:08:50.446 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.PatientsController.GetProfile (CLINICSYSTEM) in 5.7845ms
2025-12-18 19:08:50.447 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.PatientsController.GetProfile (CLINICSYSTEM)'
2025-12-18 19:08:50.448 +02:00 [INF] HTTP GET /api/patients/profile responded 404 in 14.9753 ms
2025-12-18 19:08:50.450 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/patients/profile - 404 null application/problem+json; charset=utf-8 20.0655ms
2025-12-18 19:12:44.238 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-12-18 19:12:44.280 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-12-18 19:12:44.292 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-18 19:12:44.308 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-12-18 19:12:44.310 +02:00 [INF] Database migration completed successfully
2025-12-18 19:12:44.487 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 19:12:44.521 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 19:12:44.525 +02:00 [INF] Starting Clinic Information System API
2025-12-18 19:12:44.557 +02:00 [INF] User profile is available. Using 'C:\Users\Laila Sarg\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-18 19:12:44.735 +02:00 [INF] Now listening on: https://localhost:7298
2025-12-18 19:12:44.739 +02:00 [INF] Now listening on: http://localhost:5056
2025-12-18 19:12:44.835 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-18 19:12:44.836 +02:00 [INF] Hosting environment: Development
2025-12-18 19:12:44.837 +02:00 [INF] Content root path: C:\Users\Laila Sarg\Source\Repos\Software_Project\backend
2025-12-18 19:12:45.043 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/index.html - null null
2025-12-18 19:12:45.242 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 59.8166 ms
2025-12-18 19:12:45.249 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/_framework/aspnetcore-browser-refresh.js - null null
2025-12-18 19:12:45.249 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/_vs/browserLink - null null
2025-12-18 19:12:45.252 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/index.html - 200 null text/html;charset=utf-8 211.2176ms
2025-12-18 19:12:45.259 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 10.2555ms
2025-12-18 19:12:45.293 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.216ms
2025-12-18 19:12:45.323 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/v1/swagger.json - null null
2025-12-18 19:12:45.352 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 25.3497 ms
2025-12-18 19:12:45.356 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 32.847ms
2025-12-18 19:12:58.191 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/patients/profile - null null
2025-12-18 19:12:58.345 +02:00 [INF] JWT Token validated successfully for user: mohamed.hassan@gmail.com
2025-12-18 19:12:58.353 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.PatientsController.GetProfile (CLINICSYSTEM)'
2025-12-18 19:12:58.368 +02:00 [INF] Route matched with {action = "GetProfile", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller CLINICSYSTEM.Controllers.PatientsController (CLINICSYSTEM).
2025-12-18 19:12:58.430 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."PatientId", "p"."Address", "p"."CreatedAt", "p"."DateOfBirth", "p"."EmergencyContact", "p"."Gender", "p"."UpdatedAt", "p"."UserId", "u"."UserId", "u"."CreatedAt", "u"."Email", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."PhoneNumber", "u"."Role", "u"."UpdatedAt"
FROM "Patients" AS "p"
INNER JOIN "Users" AS "u" ON "p"."UserId" = "u"."UserId"
WHERE "p"."PatientId" = @__patientId_0
LIMIT 1
2025-12-18 19:12:58.435 +02:00 [WRN] Patient profile not found for UserId: 12
2025-12-18 19:12:58.441 +02:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-18 19:12:58.460 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.PatientsController.GetProfile (CLINICSYSTEM) in 87.3332ms
2025-12-18 19:12:58.462 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.PatientsController.GetProfile (CLINICSYSTEM)'
2025-12-18 19:12:58.464 +02:00 [INF] HTTP GET /api/patients/profile responded 404 in 266.8354 ms
2025-12-18 19:12:58.469 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/patients/profile - 404 null application/json; charset=utf-8 277.5804ms
2025-12-18 19:13:11.203 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/auth/register - application/json 224
2025-12-18 19:13:11.210 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 19:13:11.221 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 19:13:11.335 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 24)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 19:13:11.368 +02:00 [WRN] Registration failed: Email mohamed.hassan@gmail.com already exists
2025-12-18 19:13:11.371 +02:00 [WRN] Registration failed for mohamed.hassan@gmail.com: Email already exists
2025-12-18 19:13:11.373 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 19:13:11.378 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 154.7849ms
2025-12-18 19:13:11.380 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 19:13:11.381 +02:00 [INF] HTTP POST /api/auth/register responded 400 in 172.7536 ms
2025-12-18 19:13:11.385 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/auth/register - 400 null application/json; charset=utf-8 181.2412ms
2025-12-18 19:13:19.911 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/patients/profile - null null
2025-12-18 19:13:19.917 +02:00 [INF] JWT Token validated successfully for user: fatma.ali@yahoo.com
2025-12-18 19:13:19.920 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.PatientsController.GetProfile (CLINICSYSTEM)'
2025-12-18 19:13:19.921 +02:00 [INF] Route matched with {action = "GetProfile", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller CLINICSYSTEM.Controllers.PatientsController (CLINICSYSTEM).
2025-12-18 19:13:19.924 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."PatientId", "p"."Address", "p"."CreatedAt", "p"."DateOfBirth", "p"."EmergencyContact", "p"."Gender", "p"."UpdatedAt", "p"."UserId", "u"."UserId", "u"."CreatedAt", "u"."Email", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."PhoneNumber", "u"."Role", "u"."UpdatedAt"
FROM "Patients" AS "p"
INNER JOIN "Users" AS "u" ON "p"."UserId" = "u"."UserId"
WHERE "p"."PatientId" = @__patientId_0
LIMIT 1
2025-12-18 19:13:19.927 +02:00 [WRN] Patient profile not found for UserId: 13
2025-12-18 19:13:19.928 +02:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-18 19:13:19.929 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.PatientsController.GetProfile (CLINICSYSTEM) in 6.7107ms
2025-12-18 19:13:19.931 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.PatientsController.GetProfile (CLINICSYSTEM)'
2025-12-18 19:13:19.932 +02:00 [INF] HTTP GET /api/patients/profile responded 404 in 16.6121 ms
2025-12-18 19:13:19.935 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/patients/profile - 404 null application/json; charset=utf-8 23.0168ms
2025-12-18 19:17:34.507 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-12-18 19:17:34.546 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-12-18 19:17:34.555 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-18 19:17:34.569 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-12-18 19:17:34.571 +02:00 [INF] Database migration completed successfully
2025-12-18 19:17:34.743 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 19:17:34.777 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 19:17:34.781 +02:00 [INF] Starting Clinic Information System API
2025-12-18 19:17:34.811 +02:00 [INF] User profile is available. Using 'C:\Users\Laila Sarg\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-18 19:17:34.986 +02:00 [INF] Now listening on: https://localhost:7298
2025-12-18 19:17:34.988 +02:00 [INF] Now listening on: http://localhost:5056
2025-12-18 19:17:35.054 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-18 19:17:35.055 +02:00 [INF] Hosting environment: Development
2025-12-18 19:17:35.056 +02:00 [INF] Content root path: C:\Users\Laila Sarg\Source\Repos\Software_Project\backend
2025-12-18 19:17:35.491 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/index.html - null null
2025-12-18 19:17:35.705 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 64.5391 ms
2025-12-18 19:17:35.710 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/_vs/browserLink - null null
2025-12-18 19:17:35.710 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/_framework/aspnetcore-browser-refresh.js - null null
2025-12-18 19:17:35.720 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/index.html - 200 null text/html;charset=utf-8 230.3198ms
2025-12-18 19:17:35.740 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 29.703ms
2025-12-18 19:17:35.783 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 72.7634ms
2025-12-18 19:17:35.817 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/v1/swagger.json - null null
2025-12-18 19:17:35.848 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 28.1666 ms
2025-12-18 19:17:35.852 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 36.1064ms
2025-12-18 19:17:47.573 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/patients/profile - null null
2025-12-18 19:17:47.688 +02:00 [INF] JWT Token validated successfully for user: mohamed.hassan@gmail.com
2025-12-18 19:17:47.696 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.PatientsController.GetProfile (CLINICSYSTEM)'
2025-12-18 19:17:47.711 +02:00 [INF] Route matched with {action = "GetProfile", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller CLINICSYSTEM.Controllers.PatientsController (CLINICSYSTEM).
2025-12-18 19:17:47.764 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."PatientId", "p"."Address", "p"."CreatedAt", "p"."DateOfBirth", "p"."EmergencyContact", "p"."Gender", "p"."UpdatedAt", "p"."UserId", "u"."UserId", "u"."CreatedAt", "u"."Email", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."PhoneNumber", "u"."Role", "u"."UpdatedAt"
FROM "Patients" AS "p"
INNER JOIN "Users" AS "u" ON "p"."UserId" = "u"."UserId"
WHERE "p"."PatientId" = @__patientId_0
LIMIT 1
2025-12-18 19:17:47.768 +02:00 [WRN] Patient profile not found for UserId: 12
2025-12-18 19:17:47.774 +02:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-18 19:17:47.791 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.PatientsController.GetProfile (CLINICSYSTEM) in 75.5353ms
2025-12-18 19:17:47.792 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.PatientsController.GetProfile (CLINICSYSTEM)'
2025-12-18 19:17:47.794 +02:00 [INF] HTTP GET /api/patients/profile responded 404 in 215.4168 ms
2025-12-18 19:17:47.799 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/patients/profile - 404 null application/json; charset=utf-8 225.4319ms
2025-12-18 19:18:19.996 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/auth/register - application/json 173
2025-12-18 19:18:20.001 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 19:18:20.012 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 19:18:20.124 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 27)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 19:18:20.128 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 19:18:20.132 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 19:18:20.135 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 19:18:20.203 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 27)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 19:18:20.308 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 27), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 27), @p8='?' (Size = 27), @p9='?' (Size = 84), @p10='?', @p11='?' (DbType = Boolean), @p12='?' (Size = 32), @p13='?' (DbType = Boolean), @p14='?' (Size = 27)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-12-18 19:18:20.322 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 19:18:20.337 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36), @__p_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."UserId", "a"."RoleId"
FROM "AspNetUserRoles" AS "a"
WHERE "a"."UserId" = @__p_0 AND "a"."RoleId" = @__p_1
LIMIT 1
2025-12-18 19:18:20.342 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 19:18:20.358 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 27)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 19:18:20.374 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
2025-12-18 19:18:20.380 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p14='?' (Size = 36), @p0='?' (DbType = Int32), @p1='?' (Size = 36), @p15='?' (Size = 36), @p2='?' (Size = 27), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 27), @p7='?' (Size = 27), @p8='?' (Size = 84), @p9='?', @p10='?' (DbType = Boolean), @p11='?' (Size = 32), @p12='?' (DbType = Boolean), @p13='?' (Size = 27)], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "SecurityStamp" = @p11, "TwoFactorEnabled" = @p12, "UserName" = @p13
WHERE "Id" = @p14 AND "ConcurrencyStamp" = @p15
RETURNING 1;
2025-12-18 19:18:20.431 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 27), @p2='?' (Size = 4), @p3='?' (DbType = Boolean), @p4='?' (Size = 8), @p5='?' (Size = 11), @p6='?' (Size = 6), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("CreatedAt", "Email", "FirstName", "IsActive", "LastName", "PhoneNumber", "Role", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "UserId";
2025-12-18 19:18:20.447 +02:00 [INF] User created with UserId: 14
2025-12-18 19:18:20.476 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (Size = 7), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Doctors" ("CreatedAt", "LicenseNumber", "Specialization", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "DoctorId";
2025-12-18 19:18:20.482 +02:00 [INF] Doctor profile created for UserId: 14, DoctorId: 5
2025-12-18 19:18:20.498 +02:00 [INF] User dr.omar.abdallah@clinic.com registered successfully as Doctor with UserId 14
2025-12-18 19:18:20.503 +02:00 [INF] User dr.omar.abdallah@clinic.com registered successfully
2025-12-18 19:18:20.505 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 19:18:20.511 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 496.9136ms
2025-12-18 19:18:20.513 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 19:18:20.515 +02:00 [INF] HTTP POST /api/auth/register responded 200 in 515.1567 ms
2025-12-18 19:18:20.518 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/auth/register - 200 null application/json; charset=utf-8 522.8498ms
2025-12-18 19:18:24.685 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/doctors/profile - null null
2025-12-18 19:18:24.692 +02:00 [INF] JWT Token validated successfully for user: dr.omar.abdallah@clinic.com
2025-12-18 19:18:24.695 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.DoctorsController.GetProfile (CLINICSYSTEM)'
2025-12-18 19:18:24.699 +02:00 [INF] Route matched with {action = "GetProfile", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller CLINICSYSTEM.Controllers.DoctorsController (CLINICSYSTEM).
2025-12-18 19:18:24.711 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__doctorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "d"."DoctorId", "d"."CreatedAt", "d"."LicenseNumber", "d"."Specialization", "d"."UpdatedAt", "d"."UserId", "u"."UserId", "u"."CreatedAt", "u"."Email", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."PhoneNumber", "u"."Role", "u"."UpdatedAt"
FROM "Doctors" AS "d"
INNER JOIN "Users" AS "u" ON "d"."UserId" = "u"."UserId"
WHERE "d"."DoctorId" = @__doctorId_0
LIMIT 1
2025-12-18 19:18:24.715 +02:00 [WRN] Doctor profile not found for UserId: 14
2025-12-18 19:18:24.716 +02:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-18 19:18:24.718 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.DoctorsController.GetProfile (CLINICSYSTEM) in 16.56ms
2025-12-18 19:18:24.720 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.DoctorsController.GetProfile (CLINICSYSTEM)'
2025-12-18 19:18:24.721 +02:00 [INF] HTTP GET /api/doctors/profile responded 404 in 32.1710 ms
2025-12-18 19:18:24.724 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/doctors/profile - 404 null application/json; charset=utf-8 39.5346ms
2025-12-18 19:18:43.655 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7298/api/patients/profile - application/json 227
2025-12-18 19:18:43.660 +02:00 [INF] JWT Token validated successfully for user: mohamed.hassan@gmail.com
2025-12-18 19:18:43.663 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.PatientsController.UpdateProfile (CLINICSYSTEM)'
2025-12-18 19:18:43.667 +02:00 [INF] Route matched with {action = "UpdateProfile", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProfile(CLINICSYSTEM.Data.DTOs.UpdatePatientProfileRequest) on controller CLINICSYSTEM.Controllers.PatientsController (CLINICSYSTEM).
2025-12-18 19:18:43.679 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__patientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."PatientId", "p"."Address", "p"."CreatedAt", "p"."DateOfBirth", "p"."EmergencyContact", "p"."Gender", "p"."UpdatedAt", "p"."UserId", "u"."UserId", "u"."CreatedAt", "u"."Email", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."PhoneNumber", "u"."Role", "u"."UpdatedAt"
FROM "Patients" AS "p"
INNER JOIN "Users" AS "u" ON "p"."UserId" = "u"."UserId"
WHERE "p"."PatientId" = @__patientId_0
LIMIT 1
2025-12-18 19:18:43.682 +02:00 [WRN] Failed to update profile for UserId: 12
2025-12-18 19:18:43.683 +02:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-18 19:18:43.685 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.PatientsController.UpdateProfile (CLINICSYSTEM) in 15.5493ms
2025-12-18 19:18:43.686 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.PatientsController.UpdateProfile (CLINICSYSTEM)'
2025-12-18 19:18:43.688 +02:00 [INF] HTTP PUT /api/patients/profile responded 400 in 28.6802 ms
2025-12-18 19:18:43.690 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7298/api/patients/profile - 400 null application/json; charset=utf-8 35.7195ms
2025-12-18 19:18:49.103 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7298/api/patients/medical-history - application/json 406
2025-12-18 19:18:49.108 +02:00 [INF] JWT Token validated successfully for user: mohamed.hassan@gmail.com
2025-12-18 19:18:49.109 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.PatientsController.UpdateMedicalHistory (CLINICSYSTEM)'
2025-12-18 19:18:49.113 +02:00 [INF] Route matched with {action = "UpdateMedicalHistory", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateMedicalHistory(CLINICSYSTEM.Data.DTOs.UpdateMedicalHistoryRequest) on controller CLINICSYSTEM.Controllers.PatientsController (CLINICSYSTEM).
2025-12-18 19:18:49.128 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__patientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."RecordId", "m"."Allergies", "m"."ChronicConditions", "m"."ConsultationId", "m"."CurrentMedications", "m"."FamilyHistory", "m"."LastUpdated", "m"."PatientId", "m"."SurgicalHistory"
FROM "MedicalRecords" AS "m"
WHERE "m"."PatientId" = @__patientId_0
LIMIT 1
2025-12-18 19:18:49.155 +02:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (Size = 39), @p1='?' (Size = 27), @p2='?' (DbType = Int32), @p3='?' (Size = 38), @p4='?' (Size = 52), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (Size = 46)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MedicalRecords" ("Allergies", "ChronicConditions", "ConsultationId", "CurrentMedications", "FamilyHistory", "LastUpdated", "PatientId", "SurgicalHistory")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RecordId";
2025-12-18 19:18:49.198 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'CLINICSYSTEM.Data.ClinicDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-12-18 19:18:49.284 +02:00 [ERR] Error updating medical history
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CLINICSYSTEM.Services.PatientService.UpdateMedicalHistoryAsync(Int32 patientId, UpdateMedicalHistoryRequest request) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Services\PatientService.cs:line 109
   at CLINICSYSTEM.Controllers.PatientsController.UpdateMedicalHistory(UpdateMedicalHistoryRequest request) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Controllers\PatientsController.cs:line 111
2025-12-18 19:18:49.307 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-18 19:18:49.309 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.PatientsController.UpdateMedicalHistory (CLINICSYSTEM) in 194.327ms
2025-12-18 19:18:49.311 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.PatientsController.UpdateMedicalHistory (CLINICSYSTEM)'
2025-12-18 19:18:49.312 +02:00 [ERR] HTTP PUT /api/patients/medical-history responded 500 in 205.1682 ms
2025-12-18 19:18:49.315 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7298/api/patients/medical-history - 500 null application/json; charset=utf-8 211.156ms
2025-12-18 19:21:53.732 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/Auth/profile - null null
2025-12-18 19:21:53.737 +02:00 [INF] JWT Token validated successfully for user: mohamed.hassan@gmail.com
2025-12-18 19:21:53.739 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.GetProfile (CLINICSYSTEM)'
2025-12-18 19:21:53.741 +02:00 [INF] Route matched with {action = "GetProfile", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProfile() on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 19:21:53.746 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-18 19:21:53.749 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.GetProfile (CLINICSYSTEM) in 6.4387ms
2025-12-18 19:21:53.751 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.GetProfile (CLINICSYSTEM)'
2025-12-18 19:21:53.752 +02:00 [INF] HTTP GET /api/Auth/profile responded 200 in 15.9869 ms
2025-12-18 19:21:53.755 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/Auth/profile - 200 null application/json; charset=utf-8 22.9135ms
2025-12-18 19:22:08.210 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/auth/profile - null null
2025-12-18 19:22:08.213 +02:00 [INF] JWT Token validated successfully for user: fatma.ali@yahoo.com
2025-12-18 19:22:08.214 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.GetProfile (CLINICSYSTEM)'
2025-12-18 19:22:08.215 +02:00 [INF] Route matched with {action = "GetProfile", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProfile() on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 19:22:08.225 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-18 19:22:08.226 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.GetProfile (CLINICSYSTEM) in 9.8268ms
2025-12-18 19:22:08.228 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.GetProfile (CLINICSYSTEM)'
2025-12-18 19:22:08.229 +02:00 [INF] HTTP GET /api/auth/profile responded 200 in 16.3847 ms
2025-12-18 19:22:08.230 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/auth/profile - 200 null application/json; charset=utf-8 20.8049ms
2025-12-18 19:22:13.724 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/auth/register - application/json 216
2025-12-18 19:22:13.727 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 19:22:13.728 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 19:22:13.770 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 19:22:13.772 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 19:22:13.775 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 19:22:13.777 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 19:22:13.825 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 19:22:13.828 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 21), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 21), @p8='?' (Size = 21), @p9='?' (Size = 84), @p10='?', @p11='?' (DbType = Boolean), @p12='?' (Size = 32), @p13='?' (DbType = Boolean), @p14='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-12-18 19:22:13.831 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 19:22:13.833 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36), @__p_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."UserId", "a"."RoleId"
FROM "AspNetUserRoles" AS "a"
WHERE "a"."UserId" = @__p_0 AND "a"."RoleId" = @__p_1
LIMIT 1
2025-12-18 19:22:13.836 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 19:22:13.839 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 19:22:13.842 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
2025-12-18 19:22:13.844 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p14='?' (Size = 36), @p0='?' (DbType = Int32), @p1='?' (Size = 36), @p15='?' (Size = 36), @p2='?' (Size = 21), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 21), @p7='?' (Size = 21), @p8='?' (Size = 84), @p9='?', @p10='?' (DbType = Boolean), @p11='?' (Size = 32), @p12='?' (DbType = Boolean), @p13='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "SecurityStamp" = @p11, "TwoFactorEnabled" = @p12, "UserName" = @p13
WHERE "Id" = @p14 AND "ConcurrencyStamp" = @p15
RETURNING 1;
2025-12-18 19:22:13.847 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 21), @p2='?' (Size = 5), @p3='?' (DbType = Boolean), @p4='?' (Size = 5), @p5='?' (Size = 11), @p6='?' (Size = 7), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("CreatedAt", "Email", "FirstName", "IsActive", "LastName", "PhoneNumber", "Role", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "UserId";
2025-12-18 19:22:13.850 +02:00 [INF] User created with UserId: 15
2025-12-18 19:22:13.868 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (Size = 4), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Patients" ("Address", "CreatedAt", "DateOfBirth", "EmergencyContact", "Gender", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "PatientId";
2025-12-18 19:22:13.871 +02:00 [INF] Patient profile created for UserId: 15, PatientId: 10
2025-12-18 19:22:13.874 +02:00 [INF] User ahmed.salem@gmail.com registered successfully as Patient with UserId 15
2025-12-18 19:22:13.876 +02:00 [INF] User ahmed.salem@gmail.com registered successfully
2025-12-18 19:22:13.877 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 19:22:13.878 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 148.4502ms
2025-12-18 19:22:13.880 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 19:22:13.881 +02:00 [INF] HTTP POST /api/auth/register responded 200 in 154.2389 ms
2025-12-18 19:22:13.883 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/auth/register - 200 null application/json; charset=utf-8 159.1257ms
2025-12-18 19:22:18.344 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/auth/register - application/json 221
2025-12-18 19:22:18.348 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 19:22:18.349 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 19:22:18.355 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 24)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 19:22:18.358 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 19:22:18.360 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 19:22:18.362 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 19:22:18.410 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 24)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 19:22:18.413 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 24), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 24), @p8='?' (Size = 24), @p9='?' (Size = 84), @p10='?', @p11='?' (DbType = Boolean), @p12='?' (Size = 32), @p13='?' (DbType = Boolean), @p14='?' (Size = 24)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-12-18 19:22:18.415 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 19:22:18.417 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36), @__p_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."UserId", "a"."RoleId"
FROM "AspNetUserRoles" AS "a"
WHERE "a"."UserId" = @__p_0 AND "a"."RoleId" = @__p_1
LIMIT 1
2025-12-18 19:22:18.420 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 19:22:18.422 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 24)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 19:22:18.424 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
2025-12-18 19:22:18.427 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p14='?' (Size = 36), @p0='?' (DbType = Int32), @p1='?' (Size = 36), @p15='?' (Size = 36), @p2='?' (Size = 24), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 24), @p7='?' (Size = 24), @p8='?' (Size = 84), @p9='?', @p10='?' (DbType = Boolean), @p11='?' (Size = 32), @p12='?' (DbType = Boolean), @p13='?' (Size = 24)], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "SecurityStamp" = @p11, "TwoFactorEnabled" = @p12, "UserName" = @p13
WHERE "Id" = @p14 AND "ConcurrencyStamp" = @p15
RETURNING 1;
2025-12-18 19:22:18.429 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 24), @p2='?' (Size = 4), @p3='?' (DbType = Boolean), @p4='?' (Size = 7), @p5='?' (Size = 11), @p6='?' (Size = 7), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("CreatedAt", "Email", "FirstName", "IsActive", "LastName", "PhoneNumber", "Role", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "UserId";
2025-12-18 19:22:18.431 +02:00 [INF] User created with UserId: 16
2025-12-18 19:22:18.433 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (Size = 6), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Patients" ("Address", "CreatedAt", "DateOfBirth", "EmergencyContact", "Gender", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "PatientId";
2025-12-18 19:22:18.435 +02:00 [INF] Patient profile created for UserId: 16, PatientId: 11
2025-12-18 19:22:18.437 +02:00 [INF] User mona.mahmoud@hotmail.com registered successfully as Patient with UserId 16
2025-12-18 19:22:18.439 +02:00 [INF] User mona.mahmoud@hotmail.com registered successfully
2025-12-18 19:22:18.440 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 19:22:18.441 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 90.7829ms
2025-12-18 19:22:18.443 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 19:22:18.444 +02:00 [INF] HTTP POST /api/auth/register responded 200 in 96.0043 ms
2025-12-18 19:22:18.445 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/auth/register - 200 null application/json; charset=utf-8 100.8759ms
2025-12-18 19:22:24.260 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/auth/register - application/json 217
2025-12-18 19:22:24.263 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 19:22:24.264 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 19:22:24.268 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 19:22:24.271 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 19:22:24.274 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 19:22:24.277 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 19:22:24.330 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 19:22:24.334 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 22), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 22), @p8='?' (Size = 22), @p9='?' (Size = 84), @p10='?', @p11='?' (DbType = Boolean), @p12='?' (Size = 32), @p13='?' (DbType = Boolean), @p14='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-12-18 19:22:24.338 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 19:22:24.340 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36), @__p_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."UserId", "a"."RoleId"
FROM "AspNetUserRoles" AS "a"
WHERE "a"."UserId" = @__p_0 AND "a"."RoleId" = @__p_1
LIMIT 1
2025-12-18 19:22:24.343 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 19:22:24.346 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 19:22:24.348 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
2025-12-18 19:22:24.351 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p14='?' (Size = 36), @p0='?' (DbType = Int32), @p1='?' (Size = 36), @p15='?' (Size = 36), @p2='?' (Size = 22), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 22), @p7='?' (Size = 22), @p8='?' (Size = 84), @p9='?', @p10='?' (DbType = Boolean), @p11='?' (Size = 32), @p12='?' (DbType = Boolean), @p13='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "SecurityStamp" = @p11, "TwoFactorEnabled" = @p12, "UserName" = @p13
WHERE "Id" = @p14 AND "ConcurrencyStamp" = @p15
RETURNING 1;
2025-12-18 19:22:24.354 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 22), @p2='?' (Size = 4), @p3='?' (DbType = Boolean), @p4='?' (Size = 7), @p5='?' (Size = 11), @p6='?' (Size = 7), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("CreatedAt", "Email", "FirstName", "IsActive", "LastName", "PhoneNumber", "Role", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "UserId";
2025-12-18 19:22:24.356 +02:00 [INF] User created with UserId: 17
2025-12-18 19:22:24.359 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (Size = 4), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Patients" ("Address", "CreatedAt", "DateOfBirth", "EmergencyContact", "Gender", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "PatientId";
2025-12-18 19:22:24.361 +02:00 [INF] Patient profile created for UserId: 17, PatientId: 12
2025-12-18 19:22:24.367 +02:00 [INF] User omar.ibrahim@gmail.com registered successfully as Patient with UserId 17
2025-12-18 19:22:24.369 +02:00 [INF] User omar.ibrahim@gmail.com registered successfully
2025-12-18 19:22:24.371 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 19:22:24.373 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 106.8134ms
2025-12-18 19:22:24.374 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 19:22:24.376 +02:00 [INF] HTTP POST /api/auth/register responded 200 in 113.1710 ms
2025-12-18 19:22:24.378 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/auth/register - 200 null application/json; charset=utf-8 118.2996ms
2025-12-18 19:22:33.424 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/auth/register - application/json 222
2025-12-18 19:22:33.427 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 19:22:33.428 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 19:22:33.432 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 19:22:33.435 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 19:22:33.437 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 19:22:33.438 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 19:22:33.490 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 19:22:33.493 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 23), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 23), @p8='?' (Size = 23), @p9='?' (Size = 84), @p10='?', @p11='?' (DbType = Boolean), @p12='?' (Size = 32), @p13='?' (DbType = Boolean), @p14='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-12-18 19:22:33.495 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 19:22:33.497 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36), @__p_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."UserId", "a"."RoleId"
FROM "AspNetUserRoles" AS "a"
WHERE "a"."UserId" = @__p_0 AND "a"."RoleId" = @__p_1
LIMIT 1
2025-12-18 19:22:33.499 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 19:22:33.501 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 19:22:33.504 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
2025-12-18 19:22:33.506 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p14='?' (Size = 36), @p0='?' (DbType = Int32), @p1='?' (Size = 36), @p15='?' (Size = 36), @p2='?' (Size = 23), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 23), @p7='?' (Size = 23), @p8='?' (Size = 84), @p9='?', @p10='?' (DbType = Boolean), @p11='?' (Size = 32), @p12='?' (DbType = Boolean), @p13='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "SecurityStamp" = @p11, "TwoFactorEnabled" = @p12, "UserName" = @p13
WHERE "Id" = @p14 AND "ConcurrencyStamp" = @p15
RETURNING 1;
2025-12-18 19:22:33.509 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 23), @p2='?' (Size = 5), @p3='?' (DbType = Boolean), @p4='?' (Size = 7), @p5='?' (Size = 11), @p6='?' (Size = 7), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("CreatedAt", "Email", "FirstName", "IsActive", "LastName", "PhoneNumber", "Role", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "UserId";
2025-12-18 19:22:33.511 +02:00 [INF] User created with UserId: 18
2025-12-18 19:22:33.512 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (Size = 6), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Patients" ("Address", "CreatedAt", "DateOfBirth", "EmergencyContact", "Gender", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "PatientId";
2025-12-18 19:22:33.514 +02:00 [INF] Patient profile created for UserId: 18, PatientId: 13
2025-12-18 19:22:33.519 +02:00 [INF] User laila.mohamed@yahoo.com registered successfully as Patient with UserId 18
2025-12-18 19:22:33.521 +02:00 [INF] User laila.mohamed@yahoo.com registered successfully
2025-12-18 19:22:33.522 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 19:22:33.523 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 93.2569ms
2025-12-18 19:22:33.525 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 19:22:33.526 +02:00 [INF] HTTP POST /api/auth/register responded 200 in 98.8547 ms
2025-12-18 19:22:33.528 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/auth/register - 200 null application/json; charset=utf-8 103.5377ms
2025-12-18 19:22:52.478 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/auth/profile - application/json 222
2025-12-18 19:22:52.481 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-18 19:22:52.485 +02:00 [WRN] JWT Challenge triggered: null
2025-12-18 19:22:52.487 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-18 19:22:52.488 +02:00 [INF] HTTP GET /api/auth/profile responded 401 in 7.9009 ms
2025-12-18 19:22:52.490 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/auth/profile - 401 0 null 12.4449ms
2025-12-18 19:23:51.558 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/auth/profile - null null
2025-12-18 19:23:51.561 +02:00 [INF] JWT Token validated successfully for user: mohamed.hassan@gmail.com
2025-12-18 19:23:51.563 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.GetProfile (CLINICSYSTEM)'
2025-12-18 19:23:51.565 +02:00 [INF] Route matched with {action = "GetProfile", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProfile() on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 19:23:51.567 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-18 19:23:51.569 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.GetProfile (CLINICSYSTEM) in 1.8296ms
2025-12-18 19:23:51.570 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.GetProfile (CLINICSYSTEM)'
2025-12-18 19:23:51.571 +02:00 [INF] HTTP GET /api/auth/profile responded 200 in 10.2184 ms
2025-12-18 19:23:51.573 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/auth/profile - 200 null application/json; charset=utf-8 15.1994ms
2025-12-18 19:26:06.161 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/auth/profile - application/json 222
2025-12-18 19:26:06.164 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-18 19:26:06.165 +02:00 [WRN] JWT Challenge triggered: null
2025-12-18 19:26:06.166 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-18 19:26:06.167 +02:00 [INF] HTTP GET /api/auth/profile responded 401 in 3.1238 ms
2025-12-18 19:26:06.169 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/auth/profile - 401 0 null 7.7999ms
2025-12-18 19:26:40.509 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/auth/profile - null null
2025-12-18 19:26:40.512 +02:00 [INF] JWT Token validated successfully for user: dr.omar.abdallah@clinic.com
2025-12-18 19:26:40.513 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.GetProfile (CLINICSYSTEM)'
2025-12-18 19:26:40.515 +02:00 [INF] Route matched with {action = "GetProfile", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProfile() on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 19:26:40.517 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-18 19:26:40.518 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.GetProfile (CLINICSYSTEM) in 2.1149ms
2025-12-18 19:26:40.520 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.GetProfile (CLINICSYSTEM)'
2025-12-18 19:26:40.521 +02:00 [INF] HTTP GET /api/auth/profile responded 200 in 8.8014 ms
2025-12-18 19:26:40.523 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/auth/profile - 200 null application/json; charset=utf-8 13.6461ms
2025-12-18 19:26:47.336 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/auth/login - application/json 70
2025-12-18 19:26:47.339 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM)'
2025-12-18 19:26:47.343 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CLINICSYSTEM.Data.DTOs.LoginRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 19:26:47.355 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Email_0='?' (Size = 24)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."UserId", "u"."CreatedAt", "u"."Email", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."PhoneNumber", "u"."Role", "u"."UpdatedAt"
FROM "Users" AS "u"
WHERE "u"."Email" = @__request_Email_0
LIMIT 1
2025-12-18 19:26:47.359 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 24)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 19:26:47.411 +02:00 [INF] User mohamed.hassan@gmail.com (UserId: 12) logged in successfully
2025-12-18 19:26:47.413 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 19:26:47.414 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM) in 68.6696ms
2025-12-18 19:26:47.415 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM)'
2025-12-18 19:26:47.416 +02:00 [INF] HTTP POST /api/auth/login responded 200 in 77.6028 ms
2025-12-18 19:26:47.418 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/auth/login - 200 null application/json; charset=utf-8 82.1684ms
2025-12-18 19:26:54.975 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/auth/login - application/json 72
2025-12-18 19:26:54.978 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM)'
2025-12-18 19:26:54.980 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CLINICSYSTEM.Data.DTOs.LoginRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 19:26:54.984 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Email_0='?' (Size = 27)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."UserId", "u"."CreatedAt", "u"."Email", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."PhoneNumber", "u"."Role", "u"."UpdatedAt"
FROM "Users" AS "u"
WHERE "u"."Email" = @__request_Email_0
LIMIT 1
2025-12-18 19:26:54.986 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 27)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 19:26:55.039 +02:00 [INF] User dr.omar.abdallah@clinic.com (UserId: 14) logged in successfully
2025-12-18 19:26:55.041 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 19:26:55.042 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM) in 60.4194ms
2025-12-18 19:26:55.044 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM)'
2025-12-18 19:26:55.045 +02:00 [INF] HTTP POST /api/auth/login responded 200 in 67.5196 ms
2025-12-18 19:26:55.048 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/auth/login - 200 null application/json; charset=utf-8 72.592ms
2025-12-18 19:27:00.745 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/doctors/schedule - application/json 102
2025-12-18 19:27:00.748 +02:00 [INF] JWT Token validated successfully for user: dr.omar.abdallah@clinic.com
2025-12-18 19:27:00.749 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.DoctorsController.CreateSchedule (CLINICSYSTEM)'
2025-12-18 19:27:00.753 +02:00 [INF] Route matched with {action = "CreateSchedule", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSchedule(CLINICSYSTEM.Data.DTOs.CreateScheduleRequest) on controller CLINICSYSTEM.Controllers.DoctorsController (CLINICSYSTEM).
2025-12-18 19:27:00.780 +02:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 6), @p2='?' (DbType = Int32), @p3='?' (DbType = Time), @p4='?' (DbType = Int32), @p5='?' (DbType = Time), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DoctorSchedules" ("CreatedAt", "DayOfWeek", "DoctorId", "EndTime", "SlotDurationMinutes", "StartTime", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "ScheduleId";
2025-12-18 19:27:00.785 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'CLINICSYSTEM.Data.ClinicDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-12-18 19:27:00.835 +02:00 [ERR] Error creating schedule
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CLINICSYSTEM.Services.DoctorService.CreateScheduleAsync(Int32 doctorId, CreateScheduleRequest request) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Services\DoctorService.cs:line 158
   at CLINICSYSTEM.Controllers.DoctorsController.CreateSchedule(CreateScheduleRequest request) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Controllers\DoctorsController.cs:line 157
2025-12-18 19:27:00.840 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-18 19:27:00.842 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.DoctorsController.CreateSchedule (CLINICSYSTEM) in 87.2265ms
2025-12-18 19:27:00.843 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.DoctorsController.CreateSchedule (CLINICSYSTEM)'
2025-12-18 19:27:00.844 +02:00 [ERR] HTTP POST /api/doctors/schedule responded 500 in 96.2367 ms
2025-12-18 19:27:00.847 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/doctors/schedule - 500 null application/json; charset=utf-8 101.8409ms
2025-12-18 19:27:12.000 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7298/api/patients/profile - application/json 227
2025-12-18 19:27:12.003 +02:00 [INF] JWT Token validated successfully for user: dr.omar.abdallah@clinic.com
2025-12-18 19:27:12.005 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Patient)
2025-12-18 19:27:12.008 +02:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-12-18 19:27:12.010 +02:00 [INF] HTTP PUT /api/patients/profile responded 403 in 6.5385 ms
2025-12-18 19:27:12.011 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7298/api/patients/profile - 403 0 null 10.8652ms
2025-12-18 19:47:19.564 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-12-18 19:47:19.614 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-12-18 19:47:19.627 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-18 19:47:19.644 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-12-18 19:47:19.646 +02:00 [INF] Database migration completed successfully
2025-12-18 19:47:19.830 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 19:47:19.869 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 19:47:19.873 +02:00 [INF] Starting Clinic Information System API
2025-12-18 19:47:19.909 +02:00 [INF] User profile is available. Using 'C:\Users\Laila Sarg\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-18 19:47:20.108 +02:00 [INF] Now listening on: https://localhost:7298
2025-12-18 19:47:20.110 +02:00 [INF] Now listening on: http://localhost:5056
2025-12-18 19:47:20.192 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-18 19:47:20.193 +02:00 [INF] Hosting environment: Development
2025-12-18 19:47:20.194 +02:00 [INF] Content root path: C:\Users\Laila Sarg\Source\Repos\Software_Project\backend
2025-12-18 19:47:20.432 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/index.html - null null
2025-12-18 19:47:20.665 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 64.5581 ms
2025-12-18 19:47:20.671 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/_vs/browserLink - null null
2025-12-18 19:47:20.671 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/_framework/aspnetcore-browser-refresh.js - null null
2025-12-18 19:47:20.681 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/index.html - 200 null text/html;charset=utf-8 252.151ms
2025-12-18 19:47:20.707 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 36.146ms
2025-12-18 19:47:20.739 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 67.9534ms
2025-12-18 19:47:20.770 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/v1/swagger.json - null null
2025-12-18 19:47:20.805 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 31.8367 ms
2025-12-18 19:47:20.809 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 39.5707ms
2025-12-18 19:48:39.107 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/auth/register - application/json 218
2025-12-18 19:48:39.196 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 19:48:39.216 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 19:48:39.315 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 19:48:39.321 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 19:48:39.325 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 19:48:39.329 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 19:48:39.397 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 19:48:39.518 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 22), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 22), @p8='?' (Size = 22), @p9='?' (Size = 84), @p10='?', @p11='?' (DbType = Boolean), @p12='?' (Size = 32), @p13='?' (DbType = Boolean), @p14='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-12-18 19:48:39.532 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 19:48:39.556 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36), @__p_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."UserId", "a"."RoleId"
FROM "AspNetUserRoles" AS "a"
WHERE "a"."UserId" = @__p_0 AND "a"."RoleId" = @__p_1
LIMIT 1
2025-12-18 19:48:39.561 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 19:48:39.574 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 19:48:39.587 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
2025-12-18 19:48:39.593 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p14='?' (Size = 36), @p0='?' (DbType = Int32), @p1='?' (Size = 36), @p15='?' (Size = 36), @p2='?' (Size = 22), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 22), @p7='?' (Size = 22), @p8='?' (Size = 84), @p9='?', @p10='?' (DbType = Boolean), @p11='?' (Size = 32), @p12='?' (DbType = Boolean), @p13='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "SecurityStamp" = @p11, "TwoFactorEnabled" = @p12, "UserName" = @p13
WHERE "Id" = @p14 AND "ConcurrencyStamp" = @p15
RETURNING 1;
2025-12-18 19:48:39.632 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 22), @p2='?' (Size = 5), @p3='?' (DbType = Boolean), @p4='?' (Size = 6), @p5='?' (Size = 11), @p6='?' (Size = 7), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("CreatedAt", "Email", "FirstName", "IsActive", "LastName", "PhoneNumber", "Role", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "UserId";
2025-12-18 19:48:39.645 +02:00 [INF] User created with UserId: 19
2025-12-18 19:48:39.672 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (Size = 4), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Patients" ("Address", "CreatedAt", "DateOfBirth", "EmergencyContact", "Gender", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "PatientId";
2025-12-18 19:48:39.676 +02:00 [INF] Patient profile created for UserId: 19, PatientId: 14
2025-12-18 19:48:39.712 +02:00 [INF] User karim.hassan@gmail.com registered successfully as Patient with UserId 19
2025-12-18 19:48:39.716 +02:00 [INF] User karim.hassan@gmail.com registered successfully
2025-12-18 19:48:39.722 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 19:48:39.731 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 510.0826ms
2025-12-18 19:48:39.733 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 19:48:39.735 +02:00 [INF] HTTP POST /api/auth/register responded 200 in 620.4877 ms
2025-12-18 19:48:39.740 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/auth/register - 200 null application/json; charset=utf-8 632.6455ms
2025-12-18 19:48:44.112 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/patients/profile - null null
2025-12-18 19:48:44.147 +02:00 [INF] JWT Token validated successfully for user: karim.hassan@gmail.com
2025-12-18 19:48:44.154 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.PatientsController.GetProfile (CLINICSYSTEM)'
2025-12-18 19:48:44.161 +02:00 [INF] Route matched with {action = "GetProfile", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller CLINICSYSTEM.Controllers.PatientsController (CLINICSYSTEM).
2025-12-18 19:48:44.236 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."PatientId", "p"."Address", "p"."CreatedAt", "p"."DateOfBirth", "p"."EmergencyContact", "p"."Gender", "p"."UpdatedAt", "p"."UserId", "u"."UserId", "u"."CreatedAt", "u"."Email", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."PhoneNumber", "u"."Role", "u"."UpdatedAt"
FROM "Patients" AS "p"
INNER JOIN "Users" AS "u" ON "p"."UserId" = "u"."UserId"
WHERE "p"."UserId" = @__userId_0
LIMIT 1
2025-12-18 19:48:44.243 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.PatientProfileDTO'.
2025-12-18 19:48:44.250 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.PatientsController.GetProfile (CLINICSYSTEM) in 87.2018ms
2025-12-18 19:48:44.252 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.PatientsController.GetProfile (CLINICSYSTEM)'
2025-12-18 19:48:44.254 +02:00 [INF] HTTP GET /api/patients/profile responded 200 in 136.6916 ms
2025-12-18 19:48:44.256 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/patients/profile - 200 null application/json; charset=utf-8 143.7396ms
2025-12-18 19:48:56.830 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/auth/register - application/json 214
2025-12-18 19:48:56.836 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 19:48:56.837 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 19:48:56.848 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 19:48:56.850 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 19:48:56.853 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 19:48:56.856 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 19:48:56.908 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 19:48:56.911 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 19), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 19), @p8='?' (Size = 19), @p9='?' (Size = 84), @p10='?', @p11='?' (DbType = Boolean), @p12='?' (Size = 32), @p13='?' (DbType = Boolean), @p14='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-12-18 19:48:56.914 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 19:48:56.918 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36), @__p_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."UserId", "a"."RoleId"
FROM "AspNetUserRoles" AS "a"
WHERE "a"."UserId" = @__p_0 AND "a"."RoleId" = @__p_1
LIMIT 1
2025-12-18 19:48:56.921 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-18 19:48:56.924 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-18 19:48:56.927 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
2025-12-18 19:48:56.930 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p14='?' (Size = 36), @p0='?' (DbType = Int32), @p1='?' (Size = 36), @p15='?' (Size = 36), @p2='?' (Size = 19), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 19), @p7='?' (Size = 19), @p8='?' (Size = 84), @p9='?', @p10='?' (DbType = Boolean), @p11='?' (Size = 32), @p12='?' (DbType = Boolean), @p13='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "SecurityStamp" = @p11, "TwoFactorEnabled" = @p12, "UserName" = @p13
WHERE "Id" = @p14 AND "ConcurrencyStamp" = @p15
RETURNING 1;
2025-12-18 19:48:56.934 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 19), @p2='?' (Size = 5), @p3='?' (DbType = Boolean), @p4='?' (Size = 3), @p5='?' (Size = 11), @p6='?' (Size = 7), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("CreatedAt", "Email", "FirstName", "IsActive", "LastName", "PhoneNumber", "Role", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "UserId";
2025-12-18 19:48:56.937 +02:00 [INF] User created with UserId: 20
2025-12-18 19:48:56.938 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (Size = 6), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Patients" ("Address", "CreatedAt", "DateOfBirth", "EmergencyContact", "Gender", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "PatientId";
2025-12-18 19:48:56.941 +02:00 [INF] Patient profile created for UserId: 20, PatientId: 15
2025-12-18 19:48:56.946 +02:00 [INF] User Amany.ali@yahoo.com registered successfully as Patient with UserId 20
2025-12-18 19:48:56.948 +02:00 [INF] User Amany.ali@yahoo.com registered successfully
2025-12-18 19:48:56.949 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 19:48:56.951 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 111.8689ms
2025-12-18 19:48:56.953 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 19:48:56.954 +02:00 [INF] HTTP POST /api/auth/register responded 200 in 119.3439 ms
2025-12-18 19:48:56.956 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/auth/register - 200 null application/json; charset=utf-8 125.7801ms
2025-12-18 19:49:00.955 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/patients/profile - null null
2025-12-18 19:49:00.960 +02:00 [INF] JWT Token validated successfully for user: Amany.ali@yahoo.com
2025-12-18 19:49:00.962 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.PatientsController.GetProfile (CLINICSYSTEM)'
2025-12-18 19:49:00.964 +02:00 [INF] Route matched with {action = "GetProfile", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller CLINICSYSTEM.Controllers.PatientsController (CLINICSYSTEM).
2025-12-18 19:49:00.968 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."PatientId", "p"."Address", "p"."CreatedAt", "p"."DateOfBirth", "p"."EmergencyContact", "p"."Gender", "p"."UpdatedAt", "p"."UserId", "u"."UserId", "u"."CreatedAt", "u"."Email", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."PhoneNumber", "u"."Role", "u"."UpdatedAt"
FROM "Patients" AS "p"
INNER JOIN "Users" AS "u" ON "p"."UserId" = "u"."UserId"
WHERE "p"."UserId" = @__userId_0
LIMIT 1
2025-12-18 19:49:00.971 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.PatientProfileDTO'.
2025-12-18 19:49:00.973 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.PatientsController.GetProfile (CLINICSYSTEM) in 6.451ms
2025-12-18 19:49:00.974 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.PatientsController.GetProfile (CLINICSYSTEM)'
2025-12-18 19:49:00.976 +02:00 [INF] HTTP GET /api/patients/profile responded 200 in 16.5245 ms
2025-12-18 19:49:00.978 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/patients/profile - 200 null application/json; charset=utf-8 22.6925ms
2025-12-18 19:49:18.218 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/auth/register - application/json 173
2025-12-18 19:49:18.222 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 19:49:18.223 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 19:49:18.239 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 27)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 19:49:18.241 +02:00 [WRN] Registration failed: Email dr.omar.abdallah@clinic.com already exists
2025-12-18 19:49:18.243 +02:00 [WRN] Registration failed for dr.omar.abdallah@clinic.com: Email already exists
2025-12-18 19:49:18.244 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 19:49:18.246 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 20.7218ms
2025-12-18 19:49:18.247 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 19:49:18.248 +02:00 [INF] HTTP POST /api/auth/register responded 400 in 27.0050 ms
2025-12-18 19:49:18.250 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/auth/register - 400 null application/json; charset=utf-8 31.8905ms
2025-12-18 19:49:23.084 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/doctors/profile - null null
2025-12-18 19:49:23.087 +02:00 [INF] JWT Token validated successfully for user: dr.omar.abdallah@clinic.com
2025-12-18 19:49:23.089 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.DoctorsController.GetProfile (CLINICSYSTEM)'
2025-12-18 19:49:23.092 +02:00 [INF] Route matched with {action = "GetProfile", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller CLINICSYSTEM.Controllers.DoctorsController (CLINICSYSTEM).
2025-12-18 19:49:23.108 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "d"."DoctorId", "d"."CreatedAt", "d"."LicenseNumber", "d"."Specialization", "d"."UpdatedAt", "d"."UserId", "u"."UserId", "u"."CreatedAt", "u"."Email", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."PhoneNumber", "u"."Role", "u"."UpdatedAt"
FROM "Doctors" AS "d"
INNER JOIN "Users" AS "u" ON "d"."UserId" = "u"."UserId"
WHERE "d"."UserId" = @__userId_0
LIMIT 1
2025-12-18 19:49:23.124 +02:00 [INF] Cached doctor profile for UserId: 14
2025-12-18 19:49:23.125 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.DoctorProfileDTO'.
2025-12-18 19:49:23.128 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.DoctorsController.GetProfile (CLINICSYSTEM) in 33.3137ms
2025-12-18 19:49:23.130 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.DoctorsController.GetProfile (CLINICSYSTEM)'
2025-12-18 19:49:23.131 +02:00 [INF] HTTP GET /api/doctors/profile responded 200 in 44.7296 ms
2025-12-18 19:49:23.133 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/doctors/profile - 200 null application/json; charset=utf-8 49.4911ms
2025-12-18 19:49:29.287 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/auth/login - application/json 72
2025-12-18 19:49:29.290 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM)'
2025-12-18 19:49:29.294 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CLINICSYSTEM.Data.DTOs.LoginRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 19:49:29.305 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Email_0='?' (Size = 27)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."UserId", "u"."CreatedAt", "u"."Email", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."PhoneNumber", "u"."Role", "u"."UpdatedAt"
FROM "Users" AS "u"
WHERE "u"."Email" = @__request_Email_0
LIMIT 1
2025-12-18 19:49:29.308 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 27)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 19:49:29.359 +02:00 [INF] User dr.omar.abdallah@clinic.com (UserId: 14) logged in successfully
2025-12-18 19:49:29.361 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 19:49:29.362 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM) in 66.4115ms
2025-12-18 19:49:29.363 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM)'
2025-12-18 19:49:29.364 +02:00 [INF] HTTP POST /api/auth/login responded 200 in 74.8182 ms
2025-12-18 19:49:29.367 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/auth/login - 200 null application/json; charset=utf-8 79.5643ms
2025-12-18 19:49:33.524 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/doctors/schedule - application/json 102
2025-12-18 19:49:33.528 +02:00 [INF] JWT Token validated successfully for user: dr.omar.abdallah@clinic.com
2025-12-18 19:49:33.530 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.DoctorsController.CreateSchedule (CLINICSYSTEM)'
2025-12-18 19:49:33.534 +02:00 [INF] Route matched with {action = "CreateSchedule", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSchedule(CLINICSYSTEM.Data.DTOs.CreateScheduleRequest) on controller CLINICSYSTEM.Controllers.DoctorsController (CLINICSYSTEM).
2025-12-18 19:49:33.563 +02:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 6), @p2='?' (DbType = Int32), @p3='?' (DbType = Time), @p4='?' (DbType = Int32), @p5='?' (DbType = Time), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DoctorSchedules" ("CreatedAt", "DayOfWeek", "DoctorId", "EndTime", "SlotDurationMinutes", "StartTime", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "ScheduleId";
2025-12-18 19:49:33.593 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'CLINICSYSTEM.Data.ClinicDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-12-18 19:49:33.670 +02:00 [ERR] Error creating schedule
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CLINICSYSTEM.Services.DoctorService.CreateScheduleAsync(Int32 doctorId, CreateScheduleRequest request) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Services\DoctorService.cs:line 209
   at CLINICSYSTEM.Controllers.DoctorsController.CreateSchedule(CreateScheduleRequest request) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Controllers\DoctorsController.cs:line 157
2025-12-18 19:49:33.689 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-18 19:49:33.694 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.DoctorsController.CreateSchedule (CLINICSYSTEM) in 158.3697ms
2025-12-18 19:49:33.695 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.DoctorsController.CreateSchedule (CLINICSYSTEM)'
2025-12-18 19:49:33.696 +02:00 [ERR] HTTP POST /api/doctors/schedule responded 500 in 168.2561 ms
2025-12-18 19:49:33.698 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/doctors/schedule - 500 null application/json; charset=utf-8 174.3028ms
2025-12-18 20:17:17.060 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-12-18 20:17:17.148 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-12-18 20:17:17.167 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-18 20:17:17.191 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-12-18 20:17:17.194 +02:00 [INF] Database migration completed successfully
2025-12-18 20:17:17.560 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 20:17:17.634 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-18 20:17:17.642 +02:00 [INF] Starting Clinic Information System API
2025-12-18 20:17:17.697 +02:00 [INF] User profile is available. Using 'C:\Users\Laila Sarg\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-18 20:17:18.029 +02:00 [INF] Now listening on: https://localhost:7298
2025-12-18 20:17:18.032 +02:00 [INF] Now listening on: http://localhost:5056
2025-12-18 20:17:18.193 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-18 20:17:18.195 +02:00 [INF] Hosting environment: Development
2025-12-18 20:17:18.198 +02:00 [INF] Content root path: C:\Users\Laila Sarg\Source\Repos\Software_Project\backend
2025-12-18 20:17:19.412 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/index.html - null null
2025-12-18 20:17:19.692 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 78.2488 ms
2025-12-18 20:17:19.703 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/index.html - 200 null text/html;charset=utf-8 292.8075ms
2025-12-18 20:17:19.717 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/_vs/browserLink - null null
2025-12-18 20:17:19.717 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/_framework/aspnetcore-browser-refresh.js - null null
2025-12-18 20:17:19.732 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 15.7235ms
2025-12-18 20:17:19.766 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.9607ms
2025-12-18 20:17:19.801 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7298/swagger/v1/swagger.json - null null
2025-12-18 20:17:19.848 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 42.6592 ms
2025-12-18 20:17:19.853 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 52.9073ms
2025-12-18 20:18:30.415 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/auth/register - application/json 218
2025-12-18 20:18:30.610 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 20:18:30.643 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 20:18:30.832 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 20:18:30.896 +02:00 [WRN] Registration failed: Email karim.hassan@gmail.com already exists
2025-12-18 20:18:30.903 +02:00 [WRN] Registration failed for karim.hassan@gmail.com: Email already exists
2025-12-18 20:18:30.918 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 20:18:30.934 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 281.7485ms
2025-12-18 20:18:30.938 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 20:18:30.941 +02:00 [INF] HTTP POST /api/auth/register responded 400 in 501.1543 ms
2025-12-18 20:18:30.950 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/auth/register - 400 null application/json; charset=utf-8 534.9807ms
2025-12-18 20:18:36.309 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/patients/profile - null null
2025-12-18 20:18:36.415 +02:00 [INF] JWT Token validated successfully for user: dr.omar.abdallah@clinic.com
2025-12-18 20:18:36.425 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Patient)
2025-12-18 20:18:36.431 +02:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-12-18 20:18:36.434 +02:00 [INF] HTTP GET /api/patients/profile responded 403 in 116.6849 ms
2025-12-18 20:18:36.438 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/patients/profile - 403 0 null 128.5787ms
2025-12-18 20:18:51.220 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/auth/register - application/json 218
2025-12-18 20:18:51.237 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 20:18:51.242 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CLINICSYSTEM.Data.DTOs.RegisterRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 20:18:51.343 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 20:18:51.348 +02:00 [WRN] Registration failed: Email karim.hassan@gmail.com already exists
2025-12-18 20:18:51.351 +02:00 [WRN] Registration failed for karim.hassan@gmail.com: Email already exists
2025-12-18 20:18:51.354 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 20:18:51.357 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM) in 109.8561ms
2025-12-18 20:18:51.360 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Register (CLINICSYSTEM)'
2025-12-18 20:18:51.362 +02:00 [INF] HTTP POST /api/auth/register responded 400 in 127.0997 ms
2025-12-18 20:18:51.367 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/auth/register - 400 null application/json; charset=utf-8 146.2298ms
2025-12-18 20:18:57.415 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/patients/profile - null null
2025-12-18 20:18:57.422 +02:00 [INF] JWT Token validated successfully for user: dr.omar.abdallah@clinic.com
2025-12-18 20:18:57.426 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Patient)
2025-12-18 20:18:57.428 +02:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-12-18 20:18:57.430 +02:00 [INF] HTTP GET /api/patients/profile responded 403 in 8.9682 ms
2025-12-18 20:18:57.435 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/patients/profile - 403 0 null 19.7256ms
2025-12-18 20:22:11.346 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/auth/login - application/json 72
2025-12-18 20:22:11.362 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM)'
2025-12-18 20:22:11.381 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CLINICSYSTEM.Data.DTOs.LoginRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 20:22:11.435 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Email_0='?' (Size = 27)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."UserId", "u"."CreatedAt", "u"."Email", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."PhoneNumber", "u"."Role", "u"."UpdatedAt"
FROM "Users" AS "u"
WHERE "u"."Email" = @__request_Email_0
LIMIT 1
2025-12-18 20:22:11.483 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 27)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 20:22:11.620 +02:00 [INF] User dr.omar.abdallah@clinic.com (UserId: 14) logged in successfully
2025-12-18 20:22:11.627 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 20:22:11.635 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM) in 251.1586ms
2025-12-18 20:22:11.639 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM)'
2025-12-18 20:22:11.642 +02:00 [INF] HTTP POST /api/auth/login responded 200 in 280.6555 ms
2025-12-18 20:22:11.647 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/auth/login - 200 null application/json; charset=utf-8 300.5975ms
2025-12-18 20:22:17.088 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/doctors/schedule - application/json 102
2025-12-18 20:22:17.095 +02:00 [INF] JWT Token validated successfully for user: dr.omar.abdallah@clinic.com
2025-12-18 20:22:17.100 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.DoctorsController.CreateSchedule (CLINICSYSTEM)'
2025-12-18 20:22:17.108 +02:00 [INF] Route matched with {action = "CreateSchedule", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSchedule(CLINICSYSTEM.Data.DTOs.CreateScheduleRequest) on controller CLINICSYSTEM.Controllers.DoctorsController (CLINICSYSTEM).
2025-12-18 20:22:17.139 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "d"."DoctorId", "d"."CreatedAt", "d"."LicenseNumber", "d"."Specialization", "d"."UpdatedAt", "d"."UserId"
FROM "Doctors" AS "d"
WHERE "d"."UserId" = @__userId_0
LIMIT 1
2025-12-18 20:22:17.177 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__doctorId_0='?' (DbType = Int32), @__request_DayOfWeek_1='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "d"."ScheduleId", "d"."CreatedAt", "d"."DayOfWeek", "d"."DoctorId", "d"."EndTime", "d"."SlotDurationMinutes", "d"."StartTime", "d"."UpdatedAt"
FROM "DoctorSchedules" AS "d"
WHERE "d"."DoctorId" = @__doctorId_0 AND "d"."DayOfWeek" = @__request_DayOfWeek_1
LIMIT 1
2025-12-18 20:22:17.387 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 6), @p2='?' (DbType = Int32), @p3='?' (DbType = Time), @p4='?' (DbType = Int32), @p5='?' (DbType = Time), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DoctorSchedules" ("CreatedAt", "DayOfWeek", "DoctorId", "EndTime", "SlotDurationMinutes", "StartTime", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "ScheduleId";
2025-12-18 20:22:17.420 +02:00 [INF] Schedule created for Doctor 5 on Sunday
2025-12-18 20:22:17.476 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.482 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.486 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.491 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.494 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.499 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.503 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.508 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.512 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.515 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.519 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.523 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.528 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.532 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.536 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.541 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.544 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.548 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.552 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.557 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.561 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.564 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.569 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.573 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.577 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.582 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.586 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.590 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.594 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.598 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.603 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.607 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.611 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.615 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.619 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.624 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.629 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.633 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.637 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.640 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.644 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.649 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.658 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.665 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.670 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.674 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.679 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.682 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.687 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.691 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.696 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.701 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.705 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.709 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.714 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.719 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.723 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.727 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.732 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.736 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.741 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.745 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.749 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.755 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:17.771 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-18 20:22:17.778 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.DoctorsController.CreateSchedule (CLINICSYSTEM) in 666.3397ms
2025-12-18 20:22:17.781 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.DoctorsController.CreateSchedule (CLINICSYSTEM)'
2025-12-18 20:22:17.783 +02:00 [INF] HTTP POST /api/doctors/schedule responded 200 in 687.8852 ms
2025-12-18 20:22:17.786 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/doctors/schedule - 200 null application/json; charset=utf-8 697.8109ms
2025-12-18 20:22:30.497 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/doctors/schedule - application/json 102
2025-12-18 20:22:30.504 +02:00 [INF] JWT Token validated successfully for user: dr.omar.abdallah@clinic.com
2025-12-18 20:22:30.506 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.DoctorsController.CreateSchedule (CLINICSYSTEM)'
2025-12-18 20:22:30.509 +02:00 [INF] Route matched with {action = "CreateSchedule", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSchedule(CLINICSYSTEM.Data.DTOs.CreateScheduleRequest) on controller CLINICSYSTEM.Controllers.DoctorsController (CLINICSYSTEM).
2025-12-18 20:22:30.514 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "d"."DoctorId", "d"."CreatedAt", "d"."LicenseNumber", "d"."Specialization", "d"."UpdatedAt", "d"."UserId"
FROM "Doctors" AS "d"
WHERE "d"."UserId" = @__userId_0
LIMIT 1
2025-12-18 20:22:30.520 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__doctorId_0='?' (DbType = Int32), @__request_DayOfWeek_1='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "d"."ScheduleId", "d"."CreatedAt", "d"."DayOfWeek", "d"."DoctorId", "d"."EndTime", "d"."SlotDurationMinutes", "d"."StartTime", "d"."UpdatedAt"
FROM "DoctorSchedules" AS "d"
WHERE "d"."DoctorId" = @__doctorId_0 AND "d"."DayOfWeek" = @__request_DayOfWeek_1
LIMIT 1
2025-12-18 20:22:30.525 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 6), @p2='?' (DbType = Int32), @p3='?' (DbType = Time), @p4='?' (DbType = Int32), @p5='?' (DbType = Time), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DoctorSchedules" ("CreatedAt", "DayOfWeek", "DoctorId", "EndTime", "SlotDurationMinutes", "StartTime", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "ScheduleId";
2025-12-18 20:22:30.530 +02:00 [INF] Schedule created for Doctor 5 on Monday
2025-12-18 20:22:30.548 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.555 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.560 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.564 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.568 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.572 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.576 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.580 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.584 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.588 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.592 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.596 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.600 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.605 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.609 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.612 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.616 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.620 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.624 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.628 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.633 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.637 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.640 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.645 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.648 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.654 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.659 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.663 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.667 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.671 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.674 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.678 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.682 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.686 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.690 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.694 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.699 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.702 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.706 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.710 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.714 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.719 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.722 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.727 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.731 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.735 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.740 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.744 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.749 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.755 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.761 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.766 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.770 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.775 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.778 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.783 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.787 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.791 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.795 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.799 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.803 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.807 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.812 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.816 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.820 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.824 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.829 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.832 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.835 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.839 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.842 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.845 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.848 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.851 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.854 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.858 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.861 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.864 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.868 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.872 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.876 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.880 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.884 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.889 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.893 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.897 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.901 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.906 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.910 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.914 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.919 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.923 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.927 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.932 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.936 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.941 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.945 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.953 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.960 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.967 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.973 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.978 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.982 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.986 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.991 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:30.996 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:31.001 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:31.006 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:31.010 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:31.015 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:31.019 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:31.024 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:31.029 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:31.034 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:31.038 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:31.043 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:31.047 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:31.052 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:31.056 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:31.061 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:31.066 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:31.071 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:31.076 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:31.080 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:31.084 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:31.088 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:31.092 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:31.097 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Time), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Time), @p5='?' (Size = 9), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TimeSlots" ("CreatedAt", "EndTime", "ScheduleId", "SlotDate", "StartTime", "Status", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "TimeSlotId";
2025-12-18 20:22:31.104 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-18 20:22:31.106 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.DoctorsController.CreateSchedule (CLINICSYSTEM) in 594.3785ms
2025-12-18 20:22:31.109 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.DoctorsController.CreateSchedule (CLINICSYSTEM)'
2025-12-18 20:22:31.111 +02:00 [INF] HTTP POST /api/doctors/schedule responded 200 in 607.4931 ms
2025-12-18 20:22:31.116 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/doctors/schedule - 200 null application/json; charset=utf-8 618.8892ms
2025-12-18 20:22:39.061 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/auth/login - application/json 66
2025-12-18 20:22:39.067 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM)'
2025-12-18 20:22:39.069 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CLINICSYSTEM.Data.DTOs.LoginRequest) on controller CLINICSYSTEM.Controllers.AuthController (CLINICSYSTEM).
2025-12-18 20:22:39.076 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Email_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."UserId", "u"."CreatedAt", "u"."Email", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."PhoneNumber", "u"."Role", "u"."UpdatedAt"
FROM "Users" AS "u"
WHERE "u"."Email" = @__request_Email_0
LIMIT 1
2025-12-18 20:22:39.082 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-18 20:22:39.167 +02:00 [INF] User karim.hassan@gmail.com (UserId: 19) logged in successfully
2025-12-18 20:22:39.170 +02:00 [INF] Executing OkObjectResult, writing value of type 'CLINICSYSTEM.Data.DTOs.AuthResponse'.
2025-12-18 20:22:39.173 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM) in 99.8183ms
2025-12-18 20:22:39.176 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AuthController.Login (CLINICSYSTEM)'
2025-12-18 20:22:39.178 +02:00 [INF] HTTP POST /api/auth/login responded 200 in 111.8869 ms
2025-12-18 20:22:39.183 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/auth/login - 200 null application/json; charset=utf-8 121.8479ms
2025-12-18 20:23:03.991 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7298/api/patients/profile - application/json 227
2025-12-18 20:23:03.997 +02:00 [INF] JWT Token validated successfully for user: karim.hassan@gmail.com
2025-12-18 20:23:04.000 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.PatientsController.UpdateProfile (CLINICSYSTEM)'
2025-12-18 20:23:04.008 +02:00 [INF] Route matched with {action = "UpdateProfile", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProfile(CLINICSYSTEM.Data.DTOs.UpdatePatientProfileRequest) on controller CLINICSYSTEM.Controllers.PatientsController (CLINICSYSTEM).
2025-12-18 20:23:04.102 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."PatientId", "p"."Address", "p"."CreatedAt", "p"."DateOfBirth", "p"."EmergencyContact", "p"."Gender", "p"."UpdatedAt", "p"."UserId", "u"."UserId", "u"."CreatedAt", "u"."Email", "u"."FirstName", "u"."IsActive", "u"."LastName", "u"."PhoneNumber", "u"."Role", "u"."UpdatedAt"
FROM "Patients" AS "p"
INNER JOIN "Users" AS "u" ON "p"."UserId" = "u"."UserId"
WHERE "p"."UserId" = @__userId_0
LIMIT 1
2025-12-18 20:23:04.165 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (Size = 38), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 11), @p4='?' (Size = 4), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Patients" SET "Address" = @p0, "CreatedAt" = @p1, "DateOfBirth" = @p2, "EmergencyContact" = @p3, "Gender" = @p4, "UpdatedAt" = @p5, "UserId" = @p6
WHERE "PatientId" = @p7
RETURNING 1;
2025-12-18 20:23:04.173 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 7), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "FirstName" = @p0, "UpdatedAt" = @p1
WHERE "UserId" = @p2
RETURNING 1;
2025-12-18 20:23:04.179 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-18 20:23:04.182 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.PatientsController.UpdateProfile (CLINICSYSTEM) in 170.1645ms
2025-12-18 20:23:04.184 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.PatientsController.UpdateProfile (CLINICSYSTEM)'
2025-12-18 20:23:04.186 +02:00 [INF] HTTP PUT /api/patients/profile responded 200 in 190.0208 ms
2025-12-18 20:23:04.189 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7298/api/patients/profile - 200 null application/json; charset=utf-8 197.9052ms
2025-12-18 20:23:11.552 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7298/api/patients/medical-history - application/json 406
2025-12-18 20:23:11.557 +02:00 [INF] JWT Token validated successfully for user: karim.hassan@gmail.com
2025-12-18 20:23:11.560 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.PatientsController.UpdateMedicalHistory (CLINICSYSTEM)'
2025-12-18 20:23:11.567 +02:00 [INF] Route matched with {action = "UpdateMedicalHistory", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateMedicalHistory(CLINICSYSTEM.Data.DTOs.UpdateMedicalHistoryRequest) on controller CLINICSYSTEM.Controllers.PatientsController (CLINICSYSTEM).
2025-12-18 20:23:11.588 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."PatientId", "p"."Address", "p"."CreatedAt", "p"."DateOfBirth", "p"."EmergencyContact", "p"."Gender", "p"."UpdatedAt", "p"."UserId"
FROM "Patients" AS "p"
WHERE "p"."UserId" = @__userId_0
LIMIT 1
2025-12-18 20:23:11.601 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."RecordId", "m"."Allergies", "m"."ChronicConditions", "m"."ConsultationId", "m"."CurrentMedications", "m"."FamilyHistory", "m"."LastUpdated", "m"."PatientId", "m"."SurgicalHistory"
FROM "MedicalRecords" AS "m"
WHERE "m"."PatientId" = @__patientId_0
LIMIT 1
2025-12-18 20:23:11.645 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 39), @p1='?' (Size = 27), @p2='?' (DbType = Int32), @p3='?' (Size = 38), @p4='?' (Size = 52), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (Size = 46)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MedicalRecords" ("Allergies", "ChronicConditions", "ConsultationId", "CurrentMedications", "FamilyHistory", "LastUpdated", "PatientId", "SurgicalHistory")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RecordId";
2025-12-18 20:23:11.656 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-18 20:23:11.660 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.PatientsController.UpdateMedicalHistory (CLINICSYSTEM) in 89.0581ms
2025-12-18 20:23:11.662 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.PatientsController.UpdateMedicalHistory (CLINICSYSTEM)'
2025-12-18 20:23:11.664 +02:00 [INF] HTTP PUT /api/patients/medical-history responded 200 in 107.7765 ms
2025-12-18 20:23:11.668 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7298/api/patients/medical-history - 200 null application/json; charset=utf-8 115.8426ms
2025-12-18 20:23:21.422 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/appointments/available-slots?doctorId=5&startDate=2025-12-21&endDate=2025-12-28 - null null
2025-12-18 20:23:21.428 +02:00 [INF] JWT Token validated successfully for user: karim.hassan@gmail.com
2025-12-18 20:23:21.432 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots (CLINICSYSTEM)'
2025-12-18 20:23:21.444 +02:00 [INF] Route matched with {action = "GetAvailableSlots", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableSlots(Int32, System.DateTime, System.DateTime) on controller CLINICSYSTEM.Controllers.AppointmentsController (CLINICSYSTEM).
2025-12-18 20:23:21.646 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots (CLINICSYSTEM) in 199.3181ms
2025-12-18 20:23:21.651 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots (CLINICSYSTEM)'
2025-12-18 20:23:21.655 +02:00 [ERR] HTTP GET /api/appointments/available-slots responded 500 in 226.9789 ms
System.NotSupportedException: SQLite does not support expressions of type 'TimeSpan' in ORDER BY clauses. Convert the values to a supported type, or use LINQ to Objects to order the results on the client side.
   at Microsoft.EntityFrameworkCore.Sqlite.Query.Internal.SqliteQueryableMethodTranslatingExpressionVisitor.TranslateThenBy(ShapedQueryExpression source, LambdaExpression keySelector, Boolean ascending)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CLINICSYSTEM.Services.AppointmentService.GetAvailableSlotsAsync(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Services\AppointmentService.cs:line 21
   at CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Controllers\AppointmentsController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-18 20:23:21.766 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotSupportedException: SQLite does not support expressions of type 'TimeSpan' in ORDER BY clauses. Convert the values to a supported type, or use LINQ to Objects to order the results on the client side.
   at Microsoft.EntityFrameworkCore.Sqlite.Query.Internal.SqliteQueryableMethodTranslatingExpressionVisitor.TranslateThenBy(ShapedQueryExpression source, LambdaExpression keySelector, Boolean ascending)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CLINICSYSTEM.Services.AppointmentService.GetAvailableSlotsAsync(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Services\AppointmentService.cs:line 21
   at CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Controllers\AppointmentsController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-18 20:23:21.793 +02:00 [ERR] An unhandled exception occurred: SQLite does not support expressions of type 'TimeSpan' in ORDER BY clauses. Convert the values to a supported type, or use LINQ to Objects to order the results on the client side.
System.NotSupportedException: SQLite does not support expressions of type 'TimeSpan' in ORDER BY clauses. Convert the values to a supported type, or use LINQ to Objects to order the results on the client side.
   at Microsoft.EntityFrameworkCore.Sqlite.Query.Internal.SqliteQueryableMethodTranslatingExpressionVisitor.TranslateThenBy(ShapedQueryExpression source, LambdaExpression keySelector, Boolean ascending)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CLINICSYSTEM.Services.AppointmentService.GetAvailableSlotsAsync(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Services\AppointmentService.cs:line 21
   at CLINICSYSTEM.Controllers.AppointmentsController.GetAvailableSlots(Int32 doctorId, DateTime startDate, DateTime endDate) in C:\Users\Laila Sarg\Source\Repos\Software_Project\backend\Controllers\AppointmentsController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-18 20:23:21.820 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/appointments/available-slots?doctorId=5&startDate=2025-12-21&endDate=2025-12-28 - 500 null application/json 398.1221ms
2025-12-18 20:23:29.308 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/appointments/book - application/json 147
2025-12-18 20:23:29.314 +02:00 [INF] JWT Token validated successfully for user: karim.hassan@gmail.com
2025-12-18 20:23:29.317 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.AppointmentsController.BookAppointment (CLINICSYSTEM)'
2025-12-18 20:23:29.323 +02:00 [INF] Route matched with {action = "BookAppointment", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookAppointment(CLINICSYSTEM.Data.DTOs.BookAppointmentRequest) on controller CLINICSYSTEM.Controllers.AppointmentsController (CLINICSYSTEM).
2025-12-18 20:23:29.343 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-18 20:23:29.382 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.AppointmentsController.BookAppointment (CLINICSYSTEM) in 56.6139ms
2025-12-18 20:23:29.385 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.AppointmentsController.BookAppointment (CLINICSYSTEM)'
2025-12-18 20:23:29.387 +02:00 [INF] HTTP POST /api/appointments/book responded 400 in 73.8461 ms
2025-12-18 20:23:29.390 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/appointments/book - 400 null application/problem+json; charset=utf-8 82.4436ms
2025-12-18 20:23:44.178 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/patients/prescriptions - null null
2025-12-18 20:23:44.182 +02:00 [INF] JWT Token validated successfully for user: karim.hassan@gmail.com
2025-12-18 20:23:44.185 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.PatientsController.GetPrescriptions (CLINICSYSTEM)'
2025-12-18 20:23:44.191 +02:00 [INF] Route matched with {action = "GetPrescriptions", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPrescriptions() on controller CLINICSYSTEM.Controllers.PatientsController (CLINICSYSTEM).
2025-12-18 20:23:44.203 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."PatientId", "p"."Address", "p"."CreatedAt", "p"."DateOfBirth", "p"."EmergencyContact", "p"."Gender", "p"."UpdatedAt", "p"."UserId"
FROM "Patients" AS "p"
WHERE "p"."UserId" = @__userId_0
LIMIT 1
2025-12-18 20:23:44.232 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."PrescriptionId", "p"."CreatedAt" AS "DateIssued", "p"."MedicationName", "p"."Dosage", "p"."Frequency", "p"."DurationDays", "p"."Status"
FROM "Prescriptions" AS "p"
INNER JOIN "Consultations" AS "c" ON "p"."ConsultationId" = "c"."ConsultationId"
INNER JOIN "Appointments" AS "a" ON "c"."AppointmentId" = "a"."AppointmentId"
WHERE "a"."PatientId" = @__patientId_0
ORDER BY "p"."CreatedAt" DESC
2025-12-18 20:23:44.237 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CLINICSYSTEM.Data.DTOs.PatientPrescriptionDTO, CLINICSYSTEM, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-18 20:23:44.248 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.PatientsController.GetPrescriptions (CLINICSYSTEM) in 53.3426ms
2025-12-18 20:23:44.251 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.PatientsController.GetPrescriptions (CLINICSYSTEM)'
2025-12-18 20:23:44.254 +02:00 [INF] HTTP GET /api/patients/prescriptions responded 200 in 72.1920 ms
2025-12-18 20:23:44.259 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/patients/prescriptions - 200 null application/json; charset=utf-8 81.1387ms
2025-12-18 20:23:55.034 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/patients/medical-images - null null
2025-12-18 20:23:55.040 +02:00 [INF] JWT Token validated successfully for user: karim.hassan@gmail.com
2025-12-18 20:23:55.042 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.PatientsController.GetMedicalImages (CLINICSYSTEM)'
2025-12-18 20:23:55.048 +02:00 [INF] Route matched with {action = "GetMedicalImages", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMedicalImages() on controller CLINICSYSTEM.Controllers.PatientsController (CLINICSYSTEM).
2025-12-18 20:23:55.060 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."PatientId", "p"."Address", "p"."CreatedAt", "p"."DateOfBirth", "p"."EmergencyContact", "p"."Gender", "p"."UpdatedAt", "p"."UserId"
FROM "Patients" AS "p"
WHERE "p"."UserId" = @__userId_0
LIMIT 1
2025-12-18 20:23:55.074 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__patientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."ImageId", "m"."ImageType", "m"."FileName", "m"."DateUploaded", "m"."FileSizeBytes", "m"."Description"
FROM "MedicalImages" AS "m"
WHERE "m"."PatientId" = @__patientId_0
ORDER BY "m"."DateUploaded" DESC
2025-12-18 20:23:55.078 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CLINICSYSTEM.Data.DTOs.MedicalImageDTO, CLINICSYSTEM, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-18 20:23:55.087 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.PatientsController.GetMedicalImages (CLINICSYSTEM) in 33.1991ms
2025-12-18 20:23:55.090 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.PatientsController.GetMedicalImages (CLINICSYSTEM)'
2025-12-18 20:23:55.091 +02:00 [INF] HTTP GET /api/patients/medical-images responded 200 in 52.2894 ms
2025-12-18 20:23:55.095 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/patients/medical-images - 200 null application/json; charset=utf-8 61.0711ms
2025-12-18 20:24:02.776 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7298/api/medicalimages/upload - multipart/form-data; boundary=--------------------------876477914441635479788597 449
2025-12-18 20:24:02.781 +02:00 [INF] JWT Token validated successfully for user: karim.hassan@gmail.com
2025-12-18 20:24:02.782 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.MedicalImagesController.UploadImage (CLINICSYSTEM)'
2025-12-18 20:24:02.793 +02:00 [INF] Route matched with {action = "UploadImage", controller = "MedicalImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImage(CLINICSYSTEM.Data.DTOs.UploadMedicalImageRequest) on controller CLINICSYSTEM.Controllers.MedicalImagesController (CLINICSYSTEM).
2025-12-18 20:24:02.832 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-18 20:24:02.836 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.MedicalImagesController.UploadImage (CLINICSYSTEM) in 37.9126ms
2025-12-18 20:24:02.839 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.MedicalImagesController.UploadImage (CLINICSYSTEM)'
2025-12-18 20:24:02.840 +02:00 [INF] HTTP POST /api/medicalimages/upload responded 400 in 59.8569 ms
2025-12-18 20:24:02.844 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7298/api/medicalimages/upload - 400 null application/problem+json; charset=utf-8 67.403ms
2025-12-18 20:24:15.346 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/notifications - null null
2025-12-18 20:24:15.353 +02:00 [INF] JWT Token validated successfully for user: karim.hassan@gmail.com
2025-12-18 20:24:15.356 +02:00 [INF] Executing endpoint 'CLINICSYSTEM.Controllers.NotificationsController.GetMyNotifications (CLINICSYSTEM)'
2025-12-18 20:24:15.365 +02:00 [INF] Route matched with {action = "GetMyNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyNotifications() on controller CLINICSYSTEM.Controllers.NotificationsController (CLINICSYSTEM).
2025-12-18 20:24:15.383 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NotificationId", "n"."Title", "n"."Message", "n"."Type", "n"."IsRead", "n"."CreatedAt"
FROM "Notifications" AS "n"
WHERE "n"."UserId" = @__userId_0
ORDER BY "n"."CreatedAt" DESC
2025-12-18 20:24:15.387 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CLINICSYSTEM.Data.DTOs.NotificationDTO, CLINICSYSTEM, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-18 20:24:15.391 +02:00 [INF] Executed action CLINICSYSTEM.Controllers.NotificationsController.GetMyNotifications (CLINICSYSTEM) in 21.0588ms
2025-12-18 20:24:15.393 +02:00 [INF] Executed endpoint 'CLINICSYSTEM.Controllers.NotificationsController.GetMyNotifications (CLINICSYSTEM)'
2025-12-18 20:24:15.395 +02:00 [INF] HTTP GET /api/notifications responded 200 in 42.7265 ms
2025-12-18 20:24:15.398 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/notifications - 200 null application/json; charset=utf-8 52.4337ms
2025-12-18 20:24:24.102 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7298/api/notifications/unread - null null
2025-12-18 20:24:24.108 +02:00 [INF] JWT Token validated successfully for user: karim.hassan@gmail.com
2025-12-18 20:24:24.109 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-12-18 20:24:24.112 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-12-18 20:24:24.114 +02:00 [INF] HTTP GET /api/notifications/unread responded 405 in 7.0453 ms
2025-12-18 20:24:24.119 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7298/api/notifications/unread - 405 0 null 16.554ms
